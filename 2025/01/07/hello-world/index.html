<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="x5-fullscreen" content="true">
<meta name="full-screen" content="yes">
<meta name="theme-color" content="#317EFB" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" name="viewport">
<meta property="og:type" content="article">
<meta property="og:title" content="C#核心">
<meta property="og:url" content="https://l-cxq-520.github.io/Test.github.io/2025/01/07/hello-world/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale">
<meta property="article:published_time" content="2025-01-07T05:00:37.997Z">
<meta property="article:modified_time" content="2025-02-28T03:33:24.824Z">
<meta property="article:author" content="CXQ">
<meta name="twitter:card" content="summary">


<title >C#核心</title>

<!-- Favicon -->

    <link href='/Test.github.io/img/favicon.svg?v=2.1.0-beta.2' rel='icon' type='image/png' sizes='16x16' ></link>


    <link href='/Test.github.io/img/favicon.svg?v=2.1.0-beta.2' rel='icon' type='image/png' sizes='32x32' ></link>




<!-- Plugin -->




    
<link rel="stylesheet" href="/Test.github.io/css/plugins/bootstrap.row.css">

    
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css">

    
    




<!-- Icon -->

    
<link rel="stylesheet" href="/Test.github.io/css/plugins/font-awesome.min.css">




<!-- Variable -->
<script>window.ASYNC_CONFIG = {"hostname":"l-cxq-520.github.io","author":"CXQ","root":"/Test.github.io/","typed_text":null,"theme_version":"2.1.0-beta.2","theme":{"switch":true,"default":"style-light"},"favicon":{"logo":"/img/favicon.svg","icon16":"/img/favicon.svg","icon32":"/img/favicon.svg","appleTouchIcon":null,"webmanifest":null,"visibilitychange":false,"hidden":"/failure.ico","showText":"(/≧▽≦/)咦！又好了！","hideText":"(●—●)喔哟，崩溃啦！"},"i18n":{"placeholder":"搜索文章...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）","author":"本文作者：","copyright_link":"本文链接：","copyright_license_title":"版权声明：","copyright_license_content":"本博客所有文章除特别声明外，均默认采用 undefined 许可协议。","copy_success":"复制成功","copy_failure":"复制失败","open_read_mode":"进入阅读模式","exit_read_mode":"退出阅读模式","notice_outdate_message":"距离上次更新已经 undefined 天了, 文章内容可能已经过时。","just":"刚刚","min":"分钟前","hour":"小时前","day":"天前","month":"个月前"},"swup":false,"plugin":{"flickr_justified_gallery":"https://unpkg.com/flickr-justified-gallery@latest/dist/fjGallery.min.js"},"icons":{"sun":"far fa-sun","moon":"far fa-moon","play":"fas fa-play","email":"far fa-envelope","next":"fas fa-arrow-right","calendar":"far fa-calendar-alt","clock":"far fa-clock","user":"far fa-user","back_top":"fas fa-arrow-up","close":"fas fa-times","search":"fas fa-search","reward":"fas fa-hand-holding-usd","user_tag":"fas fa-user-alt","toc_tag":"fas fa-th-list","read":"fas fa-book-reader","arrows":"fas fa-arrows-alt-h","double_arrows":"fas fa-angle-double-down","copy":"fas fa-copy"},"icontype":"font","highlight":{"plugin":"prismjs","theme":true,"copy":true,"lang":true,"title":"mac","height_limit":true}};</script>
<script id="async-page-config">window.PAGE_CONFIG = {"isPost":true,"isHome":false,"postUpdate":"2025-02-28 11:33:24"};</script>

<!-- Theme mode css -->
<link data-swup-theme rel="stylesheet" href="/Test.github.io/css/index.css?v=2.1.0-beta.2" id="trm-switch-style">
<script>
    let defaultMode = ASYNC_CONFIG.theme.default !=='auto' ?  ASYNC_CONFIG.theme.default : (window.matchMedia("(prefers-color-scheme: light)").matches ? 'style-light' : 'style-dark')
    let catchMode = localStorage.getItem('theme-mode') || defaultMode;
    let type = catchMode === 'style-dark' ? 'add' : 'remove';
    document.documentElement.classList[type]('dark')
</script>

<!-- CDN -->


    
    



<!-- Site Analytics -->
 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>

  <!-- app wrapper -->
  <div class="trm-app-frame">

    <!-- page preloader -->
    <div class="trm-preloader">
    <div class="trm-holder">
        <div class="preloader">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <!-- page preloader end -->

    <!-- change mode preloader -->
    <div class="trm-mode-swich-animation-frame">
    <div class="trm-mode-swich-animation">
        <i class="i-sun"><i class="iconfont far fa-sun"></i></i>
        <div class="trm-horizon"></div>
        <i class="i-moon"><i class="iconfont far fa-moon"></i></i>
    </div>
</div>
    <!-- change mode preloader end -->

      <!-- scroll container -->
      <div id="trm-dynamic-content" class="trm-swup-animation">
        <div id="trm-scroll-container" class="trm-scroll-container" style="opacity: 0">
            <!-- top bar -->
            <header class="trm-top-bar">
	<div class="container">
		<div class="trm-left-side">
			<!-- logo -->
<a href="/Test.github.io/" class="trm-logo-frame trm-anima-link">
    
        <img alt="logo" src="/Test.github.io/img/favicon.svg">
    
    
        <div class="trm-logo-text">
            Async<span>Theme</span>
        </div>
    
</a>
<!-- logo end -->
		</div>
		<div class="trm-right-side">
			<!-- menu -->
<div class="trm-menu">
    <nav>
        <ul>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/" target="">
                    首页
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/Test.github.io/archives2/" target="">
                            archives2
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/archives/" target="">
                    归档
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/categories/" target="">
                    分类
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/tags/" target="">
                    标签
                </a>
                
            </li>
            
        </ul>
    </nav>
</div>
<!-- menu end -->
			
    <!-- mode switcher place -->
    <div class="trm-mode-switcher-place">
        <div class="trm-mode-switcher">
            <i class="iconfont far fa-sun"></i>
            <input class="tgl tgl-light" id="trm-swich" type="checkbox">
            <label class="trm-swich" for="trm-swich"></label>
            <i class="iconfont far fa-moon"></i>
        </div>
    </div>
    <!-- mode switcher place end -->

			
		</div>
		<div class="trm-menu-btn">
			<span></span>
		</div>
	</div>
</header>
            <!-- top bar end -->

            <!-- body -->
            
<div class="trm-content-start">
    <!-- banner -->
    <div class="trm-banner">
    
    <!-- banner cover -->
    <img style="object-position:top;object-fit:cover;" alt="banner" class="trm-banner-cover" src="/Test.github.io/img/banner.png">
    <!-- banner cover end -->
    

    <!-- banner content -->
    <div class="trm-banner-content trm-overlay">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-4"></div>
                
                <div class="col-lg-8">

                    <!-- banner title -->
                    <div class="trm-banner-text ">
                        <div class="trm-label trm-mb-20">
                            NEWS LETTER
                        </div>
                        <h1 class="trm-mb-30 trm-hsmb-font">
                            C#核心
                        </h1>

                        
                            <ul class="trm-breadcrumbs trm-label">
                                <li>
                                    <a href="/Test.github.io/" class="trm-anima-link">Home</a>
                                </li>
                                <li>
                                    <span>
                                        2025
                                    </span>
                                </li>
                            </ul>
                        
                    </div>
                    <!-- banner title end -->

                    <!-- scroll hint -->
                    <span id="scroll-triger" class="trm-scroll-hint-frame">
                        <div class="trm-scroll-hint"></div>
                        <span class="trm-label">Scroll down</span>
                    </span>
                    <!-- scroll hint end -->

                </div>
            </div>
        </div>
    </div>
    <!-- banner content end -->
</div>
    <!-- banner end -->
    <div class="container">
        <div class="row">
            
                <div id="page-sidebar" class="col-lg-4 hidden-sm">
                    <!-- main card -->
                    <div class="trm-main-card-frame trm-sidebar">
    <div class="trm-main-card"> 
        <!-- card header -->
<div class="trm-mc-header">
    <div class="trm-avatar-frame trm-mb-20">
        <img alt="Avatar" class="trm-avatar" src="/Test.github.io/img/avatar.jpg">
    </div>
    <h5 class="trm-name trm-mb-15">
        ThemeAsync
    </h5>
    
</div>
<!-- card header end -->
        <!-- sidebar social -->

<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<div class="trm-social">
    
        <a href="https://github.com" title="Github" rel="nofollow" target="_blank">
            <i class="iconfont fab fa-github"></i>
        </a>
    
</div>

<!-- sidebar social end -->
        <!-- info -->
<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<ul class="trm-table trm-mb-20">
    
        <li>
            <div class="trm-label">
                Residence:
            </div>
            <div class="trm-label trm-label-light">
                Mars
            </div>
        </li>
    
</ul>
<!-- info end -->

        
    </div>
</div>
                    <!-- main card end -->
                </div>
            
            <div id="page-content" class="col-lg-8">
                <div class="trm-content" id="trm-content">
                    <div id="post-info" class="row hidden-sm">
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-calendar-alt trm-icon"></i><br>
            01/07
        </div>
    </div>
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-clock trm-icon"></i><br>
            13:00
        </div>
    </div>
    <div class="col-sm-4">
        <div id="post-author" class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-user trm-icon"></i><br>
            CXQ
        </div>
    </div>
</div>
<div class="trm-card ">
    <article id="article-container" class="trm-publication">
    <html><head></head><body><h1 id="C-核心语法知识概述"><a href="#C-核心语法知识概述" class="headerlink" title="C#核心语法知识概述"></a>C#核心语法知识概述</h1><h2 id="TOOD补齐"><a href="#TOOD补齐" class="headerlink" title="TOOD补齐"></a>TOOD补齐</h2><h1 id="面向对象的基本概念"><a href="#面向对象的基本概念" class="headerlink" title="面向对象的基本概念"></a>面向对象的基本概念</h1><h2 id="面向对象的详解"><a href="#面向对象的详解" class="headerlink" title="面向对象的详解"></a>面向对象的详解</h2><p><strong><font size="4">面向对象的三大特性：</font></strong></p>
<ul>
<li><em><strong><font color="#6B8E23">封装</font></strong></em></li>
<li><em><strong><font color="#6B8E23">继承</font></strong></em></li>
<li><em><strong><font color="#6B8E23">多态</font></strong></em></li>
</ul>
<h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><ul>
<li><strong>了解什么是面向对象</strong></li>
</ul>
<h2 id="TOOD补齐-1"><a href="#TOOD补齐-1" class="headerlink" title="TOOD补齐"></a>TOOD补齐</h2><h1 id="类和对象（封装）"><a href="#类和对象（封装）" class="headerlink" title="类和对象（封装）"></a>类和对象（封装）</h1><h2 id="面向对象概念回顾"><a href="#面向对象概念回顾" class="headerlink" title="面向对象概念回顾"></a>面向对象概念回顾</h2><ul>
<li>万物皆是对象</li>
<li>用程序来抽象（形容）对象</li>
<li>用面向对象的思维来编程</li>
</ul>
<h2 id="什么是类"><a href="#什么是类" class="headerlink" title="什么是类"></a>什么是类</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>具有相同特征</li>
<li>具有相同行为</li>
<li>一类事物的抽象</li>
<li>类是对象的模板</li>
<li>可以通过类创建出对象</li>
</ul>
<p><strong><font size="4">类的关键词：</font></strong></p>
<ul>
<li><em><strong><font color="#00BFFF">class</font></strong></em></li>
</ul>
<h2 id="类声明在哪里"><a href="#类声明在哪里" class="headerlink" title="类声明在哪里"></a>类声明在哪里</h2><ul>
<li><strong><font size="4">类一般声明在 <em><strong><font color="#9400D3">namespace</font></strong></em> 语句块里</font></strong></li>
</ul>
<h2 id="类声明的语法"><a href="#类声明的语法" class="headerlink" title="类声明的语法"></a>类声明的语法</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名<span class="comment">//可以用中文，但非常不建议，一般都用英文</span></span><br><span class="line">   {</span><br><span class="line">       <span class="comment">//特征——成员变量</span></span><br><span class="line">       <span class="comment">//行为——成员方法</span></span><br><span class="line">       <span class="comment">//保护特征——成员属性</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//构造函数和析构函数</span></span><br><span class="line">       <span class="comment">//索引器</span></span><br><span class="line">       <span class="comment">//运算符重载</span></span><br><span class="line">       <span class="comment">//静态成员</span></span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="类声明的实例"><a href="#类声明的实例" class="headerlink" title="类声明的实例"></a>类声明的实例</h2><ul>
<li><strong><font size="4">命名：用<font color="#EECBAD">帕斯卡命名法</font></font></strong></li>
<li><strong><font size="4">注意：同一个语句块中的不同类 不能重名</font></strong></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//这个类是用来形容人类的</span><br><span class="line">   class Person</span><br><span class="line">   {</span><br><span class="line">       //特征——成员变量</span><br><span class="line">       //行为——成员方法</span><br><span class="line">       //保护特征——成员属性</span><br><span class="line"></span><br><span class="line">       //构造函数和析构函数</span><br><span class="line">       //索引器</span><br><span class="line">       //运算符重载</span><br><span class="line">       //静态成员</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   //这个类用来表示机器</span><br><span class="line">   class Machine</span><br><span class="line">   {</span><br><span class="line">       //特征——成员变量</span><br><span class="line">       //行为——成员方法</span><br><span class="line">       //保护特征——成员属性</span><br><span class="line"></span><br><span class="line">       //构造函数和析构函数</span><br><span class="line">       //索引器</span><br><span class="line">       //运算符重载</span><br><span class="line">       //静态成员</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="什么是（类）对象？"><a href="#什么是（类）对象？" class="headerlink" title="什么是（类）对象？"></a>什么是（类）对象？</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>类的声明 和 类对象(变量)声明 是两个概念  </li>
<li>类的声明 类似 枚举 和 结构体的声明  类的声明相当于声明了一个自定义变量类型</li>
<li>而对象 是类创建出来的 </li>
<li>相当于声明一个指定类的变量</li>
<li>类创建对象的过程 一般称为实例化对象</li>
<li>类对象 都是引用类型的</li>
</ul>
<h2 id="实例化对象的基本语法"><a href="#实例化对象的基本语法" class="headerlink" title="实例化对象的基本语法"></a>实例化对象的基本语法</h2><ul>
<li>类名 变量名;（只声明没有使用）</li>
<li>类名 变量名 = null; (null代表空)</li>
<li>类名 变量名 = new 类名();(会调用类的构造函数，相当于开了新房间)</li>
</ul>
<h2 id="实例化对象"><a href="#实例化对象" class="headerlink" title="实例化对象"></a>实例化对象</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Program</span><br><span class="line">   {</span><br><span class="line">       static void Main(string[] args)</span><br><span class="line">       {</span><br><span class="line">           Console.WriteLine(<span class="string">"类和对象"</span>);</span><br><span class="line">           Person p1;//只声明没有使用 在栈上会分配内存 默认为空 不分配堆内存空间</span><br><span class="line">           Person p2 = null;//null 代表空 在栈上会分配内存 不分配堆内存空间</span><br><span class="line">           Person p3 = new Person();//相当于一个人对象</span><br><span class="line">           Person p4 = new Person();//相当于又是一个人对象 和p1p2p3完全独立</span><br><span class="line"></span><br><span class="line">           //注意</span><br><span class="line">           //虽然他们是来自一个类的实例化对象</span><br><span class="line">           //但是他们的 特征 行为等等信息 都是他们独有的</span><br><span class="line">           //千万千万 不要觉得他们是共享了数据 两个人 你是你 我是我 彼此没有关系</span><br><span class="line"></span><br><span class="line">           Machine m1 = new Machine();</span><br><span class="line">           Machine m2 = new Machine();</span><br><span class="line"></span><br><span class="line">           //面向对象编程 就是开启了 女娲模式 造物模式 想要什么对象 就new什么对象</span><br><span class="line">           //一切的对象  都是由我们来控制的 </span><br><span class="line">           //我们相当于是整个程序世界的 总导演</span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>类的申明 和 类对象的申明 是两个概念</li>
<li>类的申明 是申明对象的模板 用来抽象（形容）显示事物的</li>
<li>类对象的申明 是用来表示现实中的 对象个体的</li>
<li>类是一个自定义的变量类型</li>
<li>实例化一个类对象 是在申明变量</li>
</ul>
<h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.将下面的事物进行分类，可重复</font></strong></p>
<ul>
<li>机器人、机器、人、猫、张阿姨、隔壁老王、汽车、飞机、向日葵、菊花、太阳、星星、荷花</li>
</ul>
<table>
<thead>
<tr>
<th>种类</th>
<th>事物</th>
</tr>
</thead>
<tbody><tr>
<td>机器</td>
<td>机器人、机器、汽车、飞机</td>
</tr>
<tr>
<td>人</td>
<td>人、张阿姨、隔壁老王</td>
</tr>
<tr>
<td>动物</td>
<td>猫、人、张阿姨、隔壁老王</td>
</tr>
<tr>
<td>植物</td>
<td>向日葵、菊花、荷花</td>
</tr>
<tr>
<td>星球</td>
<td>星星</td>
</tr>
</tbody></table>
<hr>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GameObject A = new GameObject();</span><br><span class="line">GameObject B = A;</span><br><span class="line">B = null;</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.A目前等于多少？</font></strong></p>
<ul>
<li>答：A 仍然为 new 出来的 GameObject。</li>
<li>解：因为 A 在堆分配内存，在栈上分配了指向堆的地址。GameObject B = A 时，A 和 B 的栈上存的指向堆的地址相同。B = null 后，B 在栈上存的指向堆的地址变为空，相当于指向堆内存的连接断了。但 A 仍然指向原先的内存。</li>
</ul>
<hr>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GameObject A = new GameObject();</span><br><span class="line">GameObject B = A;</span><br><span class="line">B = new GameObject();</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">3.A和B有什么关系？</font></strong></p>
<ul>
<li>答：没有关系</li>
<li>解：因为 A 在堆分配内存，在栈上分配了指向堆的地址。GameObject B = A 时，A 和 B 的栈上存的指向堆的地址相同。B = new GameObject() 后，在堆上新开了一个 GameObject 的房间，B 在栈上存的是新开的 GameObject 的地址，与 A 没有关系。</li>
</ul>
<h1 id="成员变量和访问修饰符"><a href="#成员变量和访问修饰符" class="headerlink" title="成员变量和访问修饰符"></a>成员变量和访问修饰符</h1><p><strong><font size="4">知识回顾</font></strong><br><strong><font size="3">类和对象：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 申明类</span><br><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    // 特征——成员变量</span><br><span class="line">    // 行为——成员方法</span><br><span class="line">    // 保护特征——成员属性</span><br><span class="line">    // 构造函数和析构函数</span><br><span class="line">    // 索引器</span><br><span class="line">    // 运算符重载函数</span><br><span class="line">    // 静态函数</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">实例化对象：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person 变量名;</span><br><span class="line">Person 变量名 = null;</span><br><span class="line">Person 变量名 = new Person();</span><br></pre></td></tr></tbody></table></figure>
<h2 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h2><p><strong><font size="4">基本规则：</font></strong></p>
<ul>
<li>声明在类语句块中</li>
<li>用来描述对象的特征</li>
<li>可以是任意变量类型</li>
<li>数量不做限制</li>
<li>是否赋值根据需求来定<br><strong><font size="4">性别枚举：</font></strong></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enum E_SexType</span><br><span class="line">{</span><br><span class="line">    Man,</span><br><span class="line">    Woman,</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">位置结构体：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">struct Position</span><br><span class="line">{</span><br><span class="line">    // Your code here</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">宠物类：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Pet</span><br><span class="line">{</span><br><span class="line">    // Your code here</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">人类：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    // 特征——成员变量</span><br><span class="line"></span><br><span class="line">    // 姓名</span><br><span class="line">    public string name = <span class="string">"韬老狮"</span>;</span><br><span class="line"></span><br><span class="line">    // 年龄</span><br><span class="line">    public int age;</span><br><span class="line"></span><br><span class="line">    // 性别</span><br><span class="line">    public E_SexType sex;</span><br><span class="line"></span><br><span class="line">    // 结构体不能在结构体中申明一个和自己相同类型的成员变量</span><br><span class="line">    // 类可以在类中申明一个和自己相同类型的成员变量</span><br><span class="line">    // 如果要在类中申明一个和自己相同类型的成员变量时不能对它进行实例化（不能 new）</span><br><span class="line"></span><br><span class="line">    // 女朋友</span><br><span class="line">    public Person gridFriend;</span><br><span class="line">    // public Person gridFriend = null;</span><br><span class="line"></span><br><span class="line">    // 朋友</span><br><span class="line">    public Person[] friends;</span><br><span class="line"></span><br><span class="line">    // 位置</span><br><span class="line">    public Position pos;</span><br><span class="line"></span><br><span class="line">    // 宠物</span><br><span class="line">    private Pet pet = new Pet();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h2><table>
<thead>
<tr>
<th><strong><font color="green">访问修饰符</font></strong></th>
<th><strong><font color="green">访问权限</font></strong></th>
<th><strong><font color="green"> 作用</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>public</strong></td>
<td><strong>公共的</strong></td>
<td><strong>自己（内部）和别人（外部）都能访问和使用</strong></td>
</tr>
<tr>
<td><strong>private</strong></td>
<td><strong>私有的</strong></td>
<td><strong>自己（内部）才能访问和使用，不写默认为private</strong></td>
</tr>
<tr>
<td><strong>protected</strong></td>
<td><strong>保护的</strong></td>
<td><strong>自己（内部）和子类才能访问和使用</strong></td>
</tr>
</tbody></table>
<ul>
<li>目前决定类内部的成员 的 访问权限</li>
</ul>
<h2 id="成员变量的使用和初始值"><a href="#成员变量的使用和初始值" class="headerlink" title="成员变量的使用和初始值"></a>成员变量的使用和初始值</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 实例化一个人</span><br><span class="line">Person p = new Person();</span><br><span class="line"></span><br><span class="line">// 值类型来说</span><br><span class="line">// 数字类型默认值都是 0</span><br><span class="line">// bool 类型默认为 <span class="literal">false</span></span><br><span class="line">// 引用类型的默认值都是 null</span><br><span class="line">// 交给大家一个看默认值的小技巧：default(变量类型) 就能得到默认值</span><br><span class="line">Console.WriteLine(default(Person)); // null</span><br><span class="line">Console.WriteLine(default(int)); // 0</span><br><span class="line">Console.WriteLine(default(bool)); // False</span><br><span class="line"></span><br><span class="line">p.age = 10;</span><br><span class="line">Console.WriteLine(p.age); // 10</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">成员变量：</font></strong></p>
<ul>
<li>描述特征</li>
<li>类中声明</li>
<li>赋值随意</li>
<li>默认值不相同<br><strong><font size="4">值类型来说：</font></strong></li>
<li>数字类型默认值都是 0</li>
<li>bool 类型默认为 false<br><strong><font size="4">引用类型的默认值都是 null</font></strong></li>
<li>交给大家一个看默认值的小技巧：default(变量类型)&nbsp;就能得到默认值</li>
<li>任意类型</li>
<li>任意数量</li>
<li>访问修饰符<br><strong><font size="4">3P：</font></strong><table>
<thead>
<tr>
<th><strong><font color="green">访问修饰符</font></strong></th>
<th><strong><font color="green">访问权限</font></strong></th>
<th><strong><font color="green"> 作用</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>public</strong></td>
<td><strong>公共的</strong></td>
<td><strong>自己（内部）和别人（外部）都能访问和使用</strong></td>
</tr>
<tr>
<td><strong>private</strong></td>
<td><strong>私有的</strong></td>
<td><strong>自己（内部）才能访问和使用，不写默认为private</strong></td>
</tr>
<tr>
<td><strong>protected</strong></td>
<td><strong>保护的</strong></td>
<td><strong>自己（内部）和子类才能访问和使用</strong></td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.3P是什么?</font></strong></p>
<ul>
<li>答：访问修饰符。</li>
</ul>
<table>
<thead>
<tr>
<th><strong><font color="green">访问修饰符</font></strong></th>
<th><strong><font color="green">访问权限</font></strong></th>
<th><strong><font color="green"> 作用</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>public</strong></td>
<td><strong>公共的</strong></td>
<td><strong>内外可访问</strong></td>
</tr>
<tr>
<td><strong>private</strong></td>
<td><strong>私有的</strong></td>
<td><strong>仅内部可访问，不写默认为private</strong></td>
</tr>
<tr>
<td><strong>protected</strong></td>
<td><strong>保护的</strong></td>
<td><strong>内和子类可访问</strong></td>
</tr>
</tbody></table>
<p><strong><font size="4">2.定义一个人类，有姓名，身高，年龄，家庭住址等特征。用人创建若干个对象</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//创建人类</span><br><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public <span class="built_in">float</span> height;</span><br><span class="line">    public int age;</span><br><span class="line">    public string homeAddress;</span><br><span class="line">}</span><br><span class="line">class Program </span><br><span class="line">  {</span><br><span class="line">    static void Main(string[] args) </span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Person p1 = new Person();</span><br><span class="line">    p1.age = 10;</span><br><span class="line">    p1.name = <span class="string">"林文韬"</span>;</span><br><span class="line">    p1.height = 178f;</span><br><span class="line">    p1.homeAddress = <span class="string">"广州"</span>;</span><br><span class="line"></span><br><span class="line">    Person p2 = new Person();</span><br><span class="line">    p2.age = 20;</span><br><span class="line">    p2.name = <span class="string">"小红"</span>;</span><br><span class="line">    p2.height = 180f;</span><br><span class="line">    p2.homeAddress = <span class="string">"火星"</span>;</span><br><span class="line">    </span><br><span class="line">    }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">3.定义一个班级类，有专业名称，教室容量，学生等。创建一个班级对象</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//创建班级类</span><br><span class="line">class Class</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public int capacity;</span><br><span class="line">    public Student[] students;</span><br><span class="line">}</span><br><span class="line">class Program </span><br><span class="line">  {</span><br><span class="line">    static void Main(string[] args) </span><br><span class="line">    {</span><br><span class="line">        Student s1 = new Student();</span><br><span class="line">        s1.name = <span class="string">"火山哥"</span>;</span><br><span class="line">        s1.number = 1;</span><br><span class="line">        s1.age = 22;</span><br><span class="line"></span><br><span class="line">        Student s2 = new Student();</span><br><span class="line">        s2.name = <span class="string">"小明"</span>;</span><br><span class="line">        s2.number = 2;</span><br><span class="line">        s2.age = 18;</span><br><span class="line"></span><br><span class="line">        //火山哥的同桌是小明</span><br><span class="line">        s1.deskmate = s2;</span><br><span class="line">        //小明的同桌是火山哥</span><br><span class="line">        s2.deskmate = s1;</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">4.定义一个班级类，有专业名称，教室容量，学生等。创建一个班级对象</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//创建班级类</span><br><span class="line">class Class</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public int capacity;</span><br><span class="line">    public Student[] students;</span><br><span class="line">}</span><br><span class="line">class Program </span><br><span class="line">  {</span><br><span class="line"> static void Main(string[] args) </span><br><span class="line">    {</span><br><span class="line">        Class c1 = new Class();</span><br><span class="line">        c1.name = <span class="string">"银河补习班"</span>;</span><br><span class="line">        c1.capacity = 999999999;</span><br><span class="line">        c1.students = new Student[] { s1, s2 };</span><br><span class="line">    }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">5.观察代码</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 1.</span><br><span class="line">Person p1 = new Person();</span><br><span class="line">p1.age = 10;</span><br><span class="line"></span><br><span class="line">// 2.</span><br><span class="line">Person p2 = new Person();</span><br><span class="line">p2.age = 20;</span><br><span class="line"></span><br><span class="line">// 请问 p1.age 为多少？</span><br><span class="line">// 10 和 p2.age 完全没关系</span><br><span class="line">// Console.WriteLine(p1.age);//10</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">6.观察代码</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 1.</span><br><span class="line">Person p1 = new Person();</span><br><span class="line">p1.age = 10;</span><br><span class="line"></span><br><span class="line">// 2.</span><br><span class="line">Person p2 = p1;</span><br><span class="line">p2.age = 20;</span><br><span class="line"></span><br><span class="line">// 请问 p1.age 为多少？</span><br><span class="line">// 20 p1 和 p2 指向同一个堆内存 更改 p2 会影响 p1</span><br><span class="line">// Console.WriteLine(p1.age);//20</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">7.观察代码</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 1.</span><br><span class="line">Student s1 = new Student();</span><br><span class="line">s1.age = 10;</span><br><span class="line"></span><br><span class="line">// 2.</span><br><span class="line">int age = s1.age;</span><br><span class="line"></span><br><span class="line">// 3.</span><br><span class="line">age = 20;</span><br><span class="line"></span><br><span class="line">// 请问 s1.age 为多少？</span><br><span class="line">// 10 age 是值类型 在栈上</span><br><span class="line">// 一开始只是让 age 等于 s1.age 的值</span><br><span class="line">// 更改栈上的 age 不会影响堆中的 s1.age</span><br><span class="line">// Console.WriteLine(s1.age);//10</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">8.观察代码</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 1.</span><br><span class="line">Student s1 = new Student();</span><br><span class="line">s1.deskmate = new Student();</span><br><span class="line">s1.deskmate.age = 10;</span><br><span class="line"></span><br><span class="line">// 2.</span><br><span class="line">Student s2 = s1.deskmate;</span><br><span class="line">s2.age = 20;</span><br><span class="line"></span><br><span class="line">// 请问 s1.deskmate.age 为多少？</span><br><span class="line">// 20 s2 和 s1.deskmate 指向同一个对象</span><br><span class="line">// 首先 new 了两个学生实例在堆上 给第二个学生年龄赋值</span><br><span class="line">// 再创建 s2 在栈上 值是 第二个学生在堆中的地址 </span><br><span class="line">// 在修改第二个学生的年龄</span><br><span class="line">// Console.WriteLine(s1.deskmate.age);//20</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h1 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h1><h2 id="成员方法的声明"><a href="#成员方法的声明" class="headerlink" title="成员方法的声明"></a>成员方法的声明</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>成员方法（函数）用来表现对象的行为</li>
<li>声明在类语句块中</li>
<li>用来描述对象的行为</li>
<li>规则和函数声明规则相同</li>
<li>受到访问修饰符规则的影响</li>
<li>返回值参数不做限制</li>
<li>方法数量不做限制<br><strong><font size="4">注意：</font></strong></li>
<li>成员方法不要加static关键字</li>
<li>成员方法必须实例化对象再通过对象来使用，相当于该对象执行了某个行为</li>
<li>成员方法受到访问修饰符影响<br><strong><font size="4">声明人类成员：</font></strong></li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">// 人类</span><br><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    // 成员变量，有些人习惯把它写在成员方法后面也可以</span><br><span class="line"></span><br><span class="line">    public string name; // 名字</span><br><span class="line">    public int age; // 年龄</span><br><span class="line">    public Person[] friends; // 朋友们</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 判断是否成年</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    public bool <span class="function"><span class="title">IsAdult</span></span>()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">return</span> age &gt;= 18;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 说话的行为</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">"str"</span>&gt;说话的内容&lt;/param&gt;</span><br><span class="line">    public void Speak(string str)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}说{1}"</span>, name, str);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 添加朋友的方法</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">"p"</span>&gt;传入新朋友&lt;/param&gt;</span><br><span class="line">    public void AddFriend(Person p)</span><br><span class="line">    {</span><br><span class="line">        // 如果朋友数组是空</span><br><span class="line">        <span class="keyword">if</span> (friends == null)</span><br><span class="line">        {</span><br><span class="line">            // new一个朋友们数组，把当前朋友传进去 </span><br><span class="line">            friends = new Person[] { p };</span><br><span class="line">        }</span><br><span class="line">        // 否则有朋友数组</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            // 新建一个新朋友数组，长度是老朋友数组+1</span><br><span class="line">            Person[] newFriends = new Person[friends.Length + 1];</span><br><span class="line"></span><br><span class="line">            // 遍历逐个搬家</span><br><span class="line">            <span class="keyword">for</span> (int i = 0; i &lt; friends.Length; i++)</span><br><span class="line">            {</span><br><span class="line">                newFriends[i] = friends[i];</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            // 把新加的朋友放到最后一个</span><br><span class="line">            newFriends[newFriends.Length - 1] = p;</span><br><span class="line"></span><br><span class="line">            // 地址重定向</span><br><span class="line">            friends = newFriends;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">成员方法的使用：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Program</span><br><span class="line"> { </span><br><span class="line">    static void Main(string[] args) </span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    // 成员方法必须实例化出对象再通过对象来使用，相当于该对象执行了某个行为</span><br><span class="line">    Person p1 = new Person();</span><br><span class="line">    p1.name = <span class="string">"L"</span>;</span><br><span class="line">    p1.age = 18;</span><br><span class="line">    p1.Speak(<span class="string">"我爱你"</span>); // L说我爱你</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p1.IsAdult()) // 年龄大于18才会输出</span><br><span class="line">    {</span><br><span class="line">     p1.Speak(<span class="string">"我要耍朋友"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Person p2 = new Person();</span><br><span class="line">    p2.name = <span class="string">"火山哥"</span>;</span><br><span class="line">    p2.age = 16;</span><br><span class="line"></span><br><span class="line">    p1.AddFriend(p2); // p1添加新朋友p2</span><br><span class="line"></span><br><span class="line">    // 遍历p1朋友数组，输出p1所有朋友的名字</span><br><span class="line">    <span class="keyword">for</span> (int i = 0; i &lt; p1.friends.Length; i++)</span><br><span class="line">    {</span><br><span class="line">     Console.WriteLine(p1.friends[i].name); // 火山哥</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">} </span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">成员方法：</font></strong></p>
<ul>
<li>描述行为</li>
<li>类中声明</li>
<li>任意数量</li>
<li>返回值和参数根据需求而定</li>
</ul>
<h2 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.基于成员变量练习题，为人类定义说话、走路、吃饭等方法</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// class语句块外 namespace语句块内</span><br><span class="line">//声明人类</span><br><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public <span class="built_in">float</span> height;</span><br><span class="line">    public int age;</span><br><span class="line">    public string homeAddress;</span><br><span class="line"></span><br><span class="line">    //成员方法</span><br><span class="line">    public void Speak(string str)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}说{1}"</span>, name, str);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void <span class="function"><span class="title">Walk</span></span>()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}开始走路了"</span>, name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void Eat(Food f)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}吃了{1}"</span>, name, f.name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.基于成员变量练习题，为学生类定义学习、吃饭等方法</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// class语句块外 namespace语句块内</span><br><span class="line">//声明学生类</span><br><span class="line">class Student</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public int number;</span><br><span class="line">    public int age;</span><br><span class="line">    public Student deskmate;</span><br><span class="line"></span><br><span class="line">    //成员方法</span><br><span class="line">    public void <span class="function"><span class="title">Learn</span></span>()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}在学习"</span>, name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void Eat(Food f)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}开始吃{1}"</span>, name, f.name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">3.定义一个食物类，有名称，热量等特征，思考如何和人类以及学生类联系起来</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// class语句块外 namespace语句块内</span><br><span class="line">//声明食物类</span><br><span class="line">class Food</span><br><span class="line">{</span><br><span class="line">    //成员变量</span><br><span class="line">    public string name;</span><br><span class="line">    public int kaLuli;</span><br><span class="line"></span><br><span class="line">    //成员方法</span><br><span class="line">    //吃食物不同参数的成员方法重载</span><br><span class="line">    public void BeiEat(Person p)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}吃了{1}"</span>, p.name, name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void BeiEat(Student s)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}吃了{1}"</span>, s.name, name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">class Program </span><br><span class="line">{ </span><br><span class="line">    static void Main(string[] args) </span><br><span class="line">    {</span><br><span class="line">    Console.WriteLine(<span class="string">"成员方法练习题"</span>);</span><br><span class="line">    <span class="comment">#region 练习题三 </span></span><br><span class="line"></span><br><span class="line">    // 主函数内</span><br><span class="line">    Person p = new Person();</span><br><span class="line">    p.name = <span class="string">"L"</span>;</span><br><span class="line"></span><br><span class="line">    Student s = new Student();</span><br><span class="line">    s.name = <span class="string">"小火"</span>;</span><br><span class="line"></span><br><span class="line">    Food f = new Food();</span><br><span class="line">    f.name = <span class="string">"火龙果"</span>;</span><br><span class="line"></span><br><span class="line">    p.Eat(f);   // L吃了火龙果</span><br><span class="line">    s.Eat(f);   // 小火开始吃火龙果</span><br><span class="line"></span><br><span class="line">    f.BeiEat(p);   // L吃了火龙果</span><br><span class="line">    f.BeiEat(s);   // 小火吃了火龙果</span><br><span class="line"></span><br><span class="line">    <span class="comment">#endregion </span></span><br><span class="line">    }</span><br><span class="line"> }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h1 id="构造函数、析构函数和垃圾回收"><a href="#构造函数、析构函数和垃圾回收" class="headerlink" title="构造函数、析构函数和垃圾回收"></a>构造函数、析构函数和垃圾回收</h1><h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>在实例化对象时，会调用用于初始化的函数。</li>
<li>如果不写，默认存在一个无参构造函数。</li>
</ul>
<p><strong><font size="4">构造函数的写法：</font></strong></p>
<ul>
<li>1.没有返回值</li>
<li>2.函数名和类名必须相同</li>
<li>3.没有特殊需求时 一般都是public的</li>
<li>4.构造函数可以被重载</li>
<li>5.this代表当前调用该函数的对象自己</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>如果不自己实现无参构造函数而实现了有参构造函数,会失去默认的无参构造</li>
</ul>
<p><strong><font size="4">添加构造函数：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">class Person</span><br><span class="line"> {</span><br><span class="line"> public string name;</span><br><span class="line">    public int age;</span><br><span class="line">    // 人类内部</span><br><span class="line">    //类中是允许自己申明无参构造函数的</span><br><span class="line">        //结构体是不允许 必须申明有参构造函数的</span><br><span class="line"></span><br><span class="line">        //无参构造函数</span><br><span class="line">        //不声明任何构造函数的话 默认就有无参构造函数</span><br><span class="line">        //声明有参构造函数但是不声明无参构造函数的话 默认的无参构造函数会被代替掉</span><br><span class="line">        public <span class="function"><span class="title">Person</span></span>()</span><br><span class="line">        {</span><br><span class="line">            name = <span class="string">"小林"</span>;</span><br><span class="line">            age = 18;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        //有参构造函数</span><br><span class="line">        public Person(int personAge)</span><br><span class="line">        {</span><br><span class="line">            age = personAge;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        //有参构造函数</span><br><span class="line">        public Person(string name)</span><br><span class="line">        {</span><br><span class="line">            //this代表当前调用该函数的对象自己 </span><br><span class="line">            //有参构造函数参数名和自己成员变量名一样时 使用this</span><br><span class="line">            this.name = name;</span><br><span class="line">        }</span><br><span class="line"> }</span><br><span class="line">    //主函数调用</span><br><span class="line">    class Program</span><br><span class="line">    {</span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        {</span><br><span class="line">            Person p1 = new Person();//无参构造函数</span><br><span class="line">            Person p2 = new Person(20);//有参构造函数</span><br><span class="line">            Person p3 = new Person(<span class="string">"林浩僧"</span>);//有参构造函数重载</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">构造函数特殊写法：</font></strong></p>
<ul>
<li>可以通过 this 重用构造函数代码。</li>
<li>访问修饰符 构造函数名(参数列表):this(参数1,参数2….)。</li>
<li>这样的话会先调用 this 后面重载的构造函数，再返回当前的构造函数。</li>
<li>后面重载的构造函数的参数可以传任意对应的类型。</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">     public Person(int age, string name) : this(age + 10)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Person两个参数构造函数调用"</span>);</span><br><span class="line">        }</span><br><span class="line">}</span><br><span class="line">    //主函数调用</span><br><span class="line">    class Program</span><br><span class="line">    {</span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        {</span><br><span class="line">            Person p4 = new Person(18, <span class="string">"L"</span>);</span><br><span class="line">            Console.WriteLine(p4.age); // 28 </span><br><span class="line">            // 通过 public Person(int age, string name): this(age + 10)</span><br><span class="line">            // 重用构造函数代码，age比传进去的年龄+了10</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>当引用类型的堆内存被回收时，会调用该函数</li>
<li>对于需要手动管理内存的语言（比如C++），需要在析构函数中做一些内存回收处理</li>
<li>但是C#中存在自动垃圾回收机制GC</li>
<li>所以我们几乎不会怎么使用析构函数。除非你想在某一个对象被垃圾回收时，做一些特殊处理</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>在Unity开发中析构函数几乎不会使用，所以该知识点只做了解即可</li>
</ul>
<p><strong><font size="4">基本语法：</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~类名()</span><br><span class="line"> {</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">示例：</font></strong></p>
<ul>
<li>析构函数 是当引用类型的堆内存（垃圾）真正被回收时 才会调用的函数</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Person</span><br><span class="line">{</span><br><span class="line">    ~<span class="function"><span class="title">Person</span></span>()</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">  //主函数调用</span><br><span class="line">    class Program</span><br><span class="line">    {</span><br><span class="line">        p4 = null;</span><br><span class="line">        // 设置为 null 后，引用类型的堆内存虽然变成了垃圾，但是没有立即触发垃圾回收</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h2><p><strong><font size="4">基本概念：</font></strong></p>
<ul>
<li>垃圾回收，英文简写GC（Garbage Collector）</li>
<li>垃圾回收的过程是在遍历堆(Heap)上动态分配的所有对象</li>
<li>通过识别它们是否被引用来确定哪些对象是垃圾，哪些对象仍要被使用</li>
<li>所谓的垃圾就是没有被任何变量，对象引用的内容</li>
<li>垃圾就需要被回收释放</li>
</ul>
<p><strong><font size="4">垃圾回收算法：</font></strong></p>
<ul>
<li>垃圾回收有很多种算法，比如</li>
<li>引用计数(Reference Counting)</li>
<li>标记清除(Mark Sweep)</li>
<li>标记整理(Mark Compact)</li>
<li>复制集合(Copy Collection)</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>GC只负责堆(Heap)内存的垃圾回收</li>
<li>引用类型都是存在堆(Heap)中的，所以它的分配和释放都通过垃圾回收机制来管理</li>
<li>栈(Stack)上的内存是由系统自动管理的</li>
<li>值类型在栈(Stack)中分配内存的，他们有自己的生命周期，不用对他们进行管理，会自动分配和释放</li>
</ul>
<p><strong><font size="4">C#中内存回收机制的大概原理：</font></strong></p>
<ul>
<li><p>垃圾会被分为 0代内存     1代内存     2代内存</p>
</li>
<li><p>代的概念：</p>
</li>
<li><p>代是垃圾回收机制使用的一种算法（分代算法）</p>
</li>
<li><p>新分配的对象都会被配置在第0代内存中</p>
</li>
<li><p>每次分配都可能会进行垃圾回收以释放内存(0代内存满时) </p>
</li>
<li><p>在一次内存回收过程开始时，垃圾回收器会认为堆中全是垃圾，会进行以下两步</p>
</li>
<li><p>1.标记对象 从根（静态字段、方法参数）开始检查引用对象，标记后为可达对象，未标记为不可达对象</p>
</li>
<li><p>不可达对象就认为是垃圾</p>
</li>
<li><p>2.搬迁对象压缩堆（比如不是垃圾的0代会搬到1代去）  （挂起执行托管代码线程） 释放未标记的对象 搬迁可达对象 修改引用地址</p>
</li>
<li><p>大对象总被认为是第二代内存  目的是减少性能损耗，提高性能</p>
</li>
<li><p>不会对大对象进行搬迁压缩  85000字节（83kb）以上的对象为大对象</p>
</li>
</ul>
<h2 id="TOOD-缺图片"><a href="#TOOD-缺图片" class="headerlink" title="TOOD 缺图片"></a>TOOD 缺图片</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//主函数调用</span><br><span class="line">class Program</span><br><span class="line">{</span><br><span class="line">// 手动触发垃圾回收的方法 </span><br><span class="line">// 一般情况下，不会频繁调用</span><br><span class="line">// 通常在 Loading 过场景时才调用</span><br><span class="line">GC.Collect();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">构造函数：</font></strong></p>
<ul>
<li>实例化对象时调用的函数，主要用于初始化成员变量。</li>
</ul>
<p><strong><font size="3">基本语法：</font></strong></p>
<ul>
<li>不写返回值。</li>
<li>函数名和类名相同。</li>
<li>访问修饰符根据需求而定，一般为 public。</li>
</ul>
<p><strong><font size="3">注意：</font></strong></p>
<ul>
<li>可以重载构造函数。</li>
<li>可以用 this 语法重用代码。</li>
<li>可以在函数中用 this 区分同名参数和成员变量。</li>
<li>有参构造会顶掉默认的无参构造。</li>
</ul>
<p><strong><font size="4">析构函数：</font></strong></p>
<ul>
<li>当对象被垃圾回收时调用，主要用于回收资源或特殊处理内存。</li>
</ul>
<p><strong><font size="3">基本语法：</font></strong></p>
<ul>
<li>不写返回值。</li>
<li>不写修饰符。</li>
<li>不能有参数。</li>
<li>函数名和类名相同，前面加 ~.</li>
</ul>
<p><strong><font size="4">垃圾回收机制</font></strong></p>
<ul>
<li>垃圾回收的过程是在遍历堆上动态分配的所有对象，通过识别是否被引用来确定哪些对象是垃圾。</li>
<li>引用类型的分配和释放通过垃圾回收机制管理。</li>
<li>C#中的垃圾回收算法有多种，通常采用分代算法。</li>
<li>GC只负责堆内存的垃圾回收，栈上的内存由系统自动管理。</li>
<li>值类型在栈上分配内存，有自己的生命周期，不需要手动管理。</li>
</ul>
<h1 id="成员属性"><a href="#成员属性" class="headerlink" title="成员属性"></a>成员属性</h1><p><strong><font size="4">知识回顾：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 人 类 </span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//特征——成员变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//金钱</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> money;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//行为——成员方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化调用——构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="built_in">int</span> age</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="built_in">int</span> age, <span class="built_in">string</span> name</span>) : <span class="title">this</span>(<span class="params">age</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放时调用——析构函数</span></span><br><span class="line">    ~Person()</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="成员属性的基本概念"><a href="#成员属性的基本概念" class="headerlink" title="成员属性的基本概念"></a>成员属性的基本概念</h2><p><strong><font size="3">1.用于保护成员变量</font></strong><br><strong><font size="3">2.为成员属性的获取和赋值添加逻辑处理</font></strong><br><strong><font size="3">3.解决3P的局限性：</font></strong></p>
<ul>
<li><em><strong><font color="#9400D3">public</font></strong></em> ——内外访问</li>
<li><em><strong><font color="#9400D3">private</font></strong></em> ——内部访问</li>
<li><em><strong><font color="#9400D3">protected</font></strong></em> ——内部和子类访问</li>
<li>属性可以让成员变量在外部</li>
<li>只能获取 不能修改  或者  只能修改 不能获取</li>
</ul>
<h2 id="成员属性的基本语法"><a href="#成员属性的基本语法" class="headerlink" title="成员属性的基本语法"></a>成员属性的基本语法</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">基本语法</span><br><span class="line">访问修饰符 属性类型 属性名</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">get</span> { }</span><br><span class="line">    <span class="keyword">set</span> { }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> money;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 可以在返回之前添加一些逻辑规则 </span></span><br><span class="line">            <span class="comment">// 意味着这个属性可以获取的内容</span></span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 可以在设置之前添加一些逻辑规则 </span></span><br><span class="line">            <span class="comment">// value 关键字用于表示外部传入的值</span></span><br><span class="line">            name = <span class="keyword">value</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Money</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 解密处理，使要用的值比存储的实际值少5</span></span><br><span class="line">            <span class="keyword">return</span> money - <span class="number">5</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 添加逻辑处理 </span></span><br><span class="line">            <span class="keyword">if</span> (money &lt; <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                money = <span class="number">0</span>;</span><br><span class="line">                Console.WriteLine(<span class="string">"钱不能小于0"</span>);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 加密处理，使存储的实际值比要用的值多5</span></span><br><span class="line">            money = <span class="keyword">value</span> + <span class="number">5</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="成员属性中-get和set前-可以加访问修饰符"><a href="#成员属性中-get和set前-可以加访问修饰符" class="headerlink" title="成员属性中 get和set前 可以加访问修饰符"></a>成员属性中 get和set前 可以加访问修饰符</h2><p><strong><font size="4">get和set前加访问修饰符需要注意：</font></strong></p>
<ul>
<li>1.默认不加 会使用属性申明时的访问权限</li>
<li>2.加的访问修饰符要低于属性的访问权限</li>
<li>3.不能让get和set的访问权限都低于属性的权限</li>
</ul>
<p><strong><font size="4">实例</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> Age</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 加了 private 后，外面只能 set 不能 get</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">get</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不能让 get 和 set 的访问权限都低于属性的权限，会报错</span></span><br><span class="line">    <span class="comment">// private set 报错</span></span><br><span class="line">    <span class="comment">// protected set 报错</span></span><br><span class="line">    <span class="keyword">set</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 添加逻辑处理 </span></span><br><span class="line">        <span class="keyword">if</span> (age &lt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            age = <span class="number">0</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">"年龄不能小于0"</span>);</span><br><span class="line">        }</span><br><span class="line">        age = <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="get和set可以只有一个"><a href="#get和set可以只有一个" class="headerlink" title="get和set可以只有一个"></a>get和set可以只有一个</h2><p><strong><font size="4">写get和set时注意：</font></strong></p>
<ul>
<li>只有一个时  没必要在前面加访问修饰符</li>
<li>一般情况下 只会出现 只有 get的情况 基本不会出现只有set</li>
</ul>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> Sex</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自只有 set 不会报错</span></span><br><span class="line">    <span class="comment">// set</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">    <span class="comment">//     sex = value;</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="自动属性"><a href="#自动属性" class="headerlink" title="自动属性"></a>自动属性</h2><ul>
<li>作用：外部能得不能改的特征。</li>
<li>如果类中有一个特征是只希望外部能得不能改的，又没什么特殊处理，那么可以直接使用自动属性。</li>
<li>声明时没有对应成员变量的属性，可以理解为自动生成一个成员变量。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> Height</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 没有在 get 和 set 中写逻辑的需求或者想法</span></span><br><span class="line">    <span class="keyword">get</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">set</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="成员属性的使用"><a href="#成员属性的使用" class="headerlink" title="成员属性的使用"></a>成员属性的使用</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"成员属性"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//主函数内</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 知识点六 成员属性的使用</span></span><br><span class="line"></span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        p.Name = <span class="string">"L"</span>;<span class="comment">//执行的是set语句块</span></span><br><span class="line">        Console.WriteLine(p.Name);<span class="comment">//L 执行的是get语句块</span></span><br><span class="line"></span><br><span class="line">        p.Money = <span class="number">1000</span>;</span><br><span class="line">        Console.WriteLine(p.Money);<span class="comment">//1000 但实际存到内存的是1005</span></span><br><span class="line"></span><br><span class="line">        p.Age = <span class="number">22</span>;</span><br><span class="line">        <span class="comment">//Console.WriteLine(p.Age);//成员属性Age的get是私有 不能访问 会报错</span></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(p.Sex);<span class="comment">//False 默认值</span></span><br><span class="line">        <span class="comment">//p.Sex = true;//不能修改 没有设置</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        Console.ReadLine();</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><ul>
<li>1.成员属性概念：一般是用来保护成员变量的</li>
<li>2.成员属性的使用和变量一样 外部用对象点出</li>
<li>3.get中需要return内容 ； set中用value表示传入的内容</li>
<li>4.get和set语句块中可以加逻辑处理</li>
<li>5.get和set可以加访问修饰符，但是要按照一定的规则进行添加</li>
<li>6.get和set可以只有一个</li>
<li>7.自动属性是属性语句块中只有get和set，一般用于 外部能得不能改这种情况</li>
</ul>
<hr>
<h2 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.定义一个学生类，有五种属性，分别为姓名、性别、年龄、CSharp成绩、Unity成绩</font></strong></p>
<blockquote>
<p>有两个方法：<br>一个打招呼：介绍自己交XX，今年几岁了。是男同学还是女同学<br>计算自己总分数和平均分并显示的方法<br>使用属性完成：<br>性别只能是男或女<br>年龄必须是0 ~150岁之间<br>成绩必须是0 ~100<br>实例化两个对象并测试</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// class语句块外 namespace语句块内</span></span><br><span class="line"><span class="comment">// 学生 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//成员变量</span></span><br><span class="line">    <span class="comment">//姓名、性别、年龄、CSharp成绩、Unity成绩</span></span><br><span class="line">    <span class="comment">//姓名用了自动属性 因为名字可以不用做逻辑</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> cSharp;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> unity;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//成员属性</span></span><br><span class="line">    <span class="comment">//姓名、性别、年龄、CSharp成绩、Unity成绩</span></span><br><span class="line">    <span class="comment">//姓名用了自动属性 因为名字可以不用做逻辑</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Sex</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> sex;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//性别只能是男或女 否则不男不女</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> != <span class="string">"男"</span> &amp;&amp; <span class="keyword">value</span> != <span class="string">"女"</span>)</span><br><span class="line">            {</span><br><span class="line">                sex = <span class="string">"不男不女"</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                sex = <span class="keyword">value</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//年龄必须是0 ~150岁之间</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                age = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">value</span> &gt; <span class="number">150</span>)</span><br><span class="line">            {</span><br><span class="line">                age = <span class="number">150</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                age = <span class="keyword">value</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> CSharp</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> cSharp;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//成绩必须是0 ~100</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                cSharp = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">value</span> &gt; <span class="number">100</span>)</span><br><span class="line">            {</span><br><span class="line">                cSharp = <span class="number">100</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                cSharp = <span class="keyword">value</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Unity</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> unity;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//成绩必须是0 ~100</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                unity = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">value</span> &gt; <span class="number">100</span>)</span><br><span class="line">            {</span><br><span class="line">                unity = <span class="number">100</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                unity = <span class="keyword">value</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//成员方法</span></span><br><span class="line">    <span class="comment">//打招呼方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SayHellow</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"我叫{0},今年{1}岁了,是{2}同学"</span>, Name, Age, Sex);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//计算自己总分数和平均分并显示方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowInfo</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">int</span> sum = CSharp + Unity;</span><br><span class="line">        <span class="built_in">float</span> avg = sum / <span class="number">2f</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">"总分{0}，平均分{1}"</span>, sum, avg);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">            s1.Name = <span class="string">"L"</span>;</span><br><span class="line">            s1.Age = <span class="number">160</span>;</span><br><span class="line">            s1.Unity = <span class="number">150</span>;</span><br><span class="line">            s1.CSharp = <span class="number">150</span>;</span><br><span class="line">            s1.Sex = <span class="string">"超人"</span>;</span><br><span class="line">            s1.SayHellow();<span class="comment">//我叫L,今年150岁了,是不男不女同学</span></span><br><span class="line">            s1.ShowInfo();<span class="comment">//总分200，平均分100</span></span><br><span class="line"></span><br><span class="line">            Student s2 = <span class="keyword">new</span> Student();</span><br><span class="line">            s2.Name = <span class="string">"亲爱的同学"</span>;</span><br><span class="line">            s2.Age = <span class="number">20</span>;</span><br><span class="line">            s2.Unity = <span class="number">80</span>;</span><br><span class="line">            s2.CSharp = <span class="number">90</span>;</span><br><span class="line">            s2.Sex = <span class="string">"女"</span>;</span><br><span class="line">            s2.SayHellow();<span class="comment">//我叫亲爱的同学,今年20岁了,是女同学</span></span><br><span class="line">            s2.ShowInfo();<span class="comment">//总分170，平均分85</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h1 id="索引器"><a href="#索引器" class="headerlink" title="索引器"></a>索引器</h1><p><strong><font size="4">知识回顾</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">    {</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 特征——成员变量</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 行为——成员方法</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 初始化调用——构造方法</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 释放时调用——析构方法</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 保护成员变量用——成员属性</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">索引器基本概念：</font></strong></p>
<ul>
<li>让对象可以像数组一样通过索引访问其中元素，使程序看起来更直观，更容易编写</li>
</ul>
<p><strong><font size="4">索引器的基本语法</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基本语法</span></span><br><span class="line">访问修饰符 返回值 <span class="keyword">this</span>[参数类型 参数名, 参数类型 参数名.....]</span><br><span class="line">{</span><br><span class="line">      内部的写法和规则和索引器相同</span><br><span class="line">      <span class="keyword">get</span>{}</span><br><span class="line">      <span class="keyword">set</span>{}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Person[] friends;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">//声明索引器</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//索引器get和set的用法可以说和成员属性几乎一样</span></span><br><span class="line">        <span class="comment">//区别是索引器要传入参数</span></span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//可以写逻辑的 根据需求来处理这里面的内容</span></span><br><span class="line">            <span class="keyword">return</span> friends[index];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            friends[index] = <span class="keyword">value</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">索引器中可以写逻辑：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Person <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//索引器get和set的用法可以说和成员属性几乎一样</span></span><br><span class="line">    <span class="comment">//区别是索引器要传入参数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//可以写逻辑的 根据需求来处理这里面的内容</span></span><br><span class="line">        <span class="comment">//判断朋友数组为不为空或者会不会数组越界</span></span><br><span class="line">        <span class="keyword">if</span> (friends == <span class="literal">null</span> || friends.Length - <span class="number">1</span> &lt; index)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> friends[index];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//可以写逻辑的 根据需求来处理这里面的内容</span></span><br><span class="line">        <span class="comment">//value代表传入的值</span></span><br><span class="line">        <span class="comment">//判断朋友数组为不为空</span></span><br><span class="line">        <span class="keyword">if</span> (friends == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//如果朋友数组为空</span></span><br><span class="line">            <span class="comment">//则开个新房间 把传入的值丢到第一个房间去</span></span><br><span class="line">            friends = <span class="keyword">new</span> Person[] { <span class="keyword">value</span> };</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (index &gt; friends.Length - <span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//如果传入的索引越界</span></span><br><span class="line">            <span class="comment">//自己定了一个规则 如果索引越界 就默认把最后一个朋友顶掉</span></span><br><span class="line">            friends[friends.Length - <span class="number">1</span>] = <span class="keyword">value</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//如果朋友数组不为空 且 传入的索引不越界</span></span><br><span class="line">            <span class="comment">//直接赋值即可</span></span><br><span class="line">            friends[index] = <span class="keyword">value</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">索引器可以重载：</font></strong></p>
<ul>
<li>索引器的重载要点</li>
<li>重载的概念是——函数名相同，参数类型、数量、顺序不同。</li>
<li>可以理解为this就是索引器的函数名。</li>
<li>学了 Object 后，索引器的返回值相当于可以返回任意类型。</li>
</ul>
<p><strong><font size="4">实例</font></strong></p>
<ul>
<li>参数数量不同的索引器重载</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">this</span>[<span class="built_in">int</span> i, <span class="built_in">int</span> j]</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> array[i, j];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">set</span></span><br><span class="line">    {</span><br><span class="line">        array[i, j] = <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>参数类型不同的索引器重载</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">string</span> <span class="keyword">this</span>[<span class="built_in">string</span> str]</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">switch</span> (str)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"name"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"age"</span>:</span><br><span class="line">                <span class="keyword">return</span> age.ToString();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">索引器的使用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">  {</span><br><span class="line">      <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">      {</span><br><span class="line">      Person p = <span class="keyword">new</span> Person();</span><br><span class="line">      p[<span class="number">0</span>] = <span class="keyword">new</span> Person();</span><br><span class="line">      <span class="comment">// 使用索引器</span></span><br><span class="line">      <span class="comment">// 给 p 的 friends 数组中索引 0 的对象 new 一个 Person 房间</span></span><br><span class="line">      Console.WriteLine(p[<span class="number">0</span>]); <span class="comment">// Lesson6_封装_索引器.Person</span></span><br><span class="line">      <span class="comment">// p[0, 0] = 10; // 会报错，Person 的二维数组没有初始化</span></span><br><span class="line">      }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">索引器对于我们来说的主要作用：</font></strong></p>
<ul>
<li>可以让我们以中括号的形式范围自定义类中的元素，规则自己定，访问时和数组一样。</li>
<li>比较适用于在类中有数组变量时使用，可以方便的访问和进行逻辑处理。</li>
</ul>
<p><strong><font size="4">固定写法：</font></strong></p>
<ul>
<li>访问修饰符 返回值 this[参数列表]</li>
<li>get 和 set 语句</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>结构体里面也是支持索引器</li>
</ul>
<h2 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.自定义一个整型数组类，该类中有一个整形数组变量，为它封装增删查改的方法</font></strong></p>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">基本思路:</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">使用list的底层实现原理</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">初始化时给定一定的房间容量</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">记录当前使用了几个房间</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">当房间容量大于等于当前使用了几个房间的值时，直接放</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">当房间容量小于等于当前使用了几个房间的值时，开更大容量的房间，搬家</font></td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#2F4F4F"><font color="white">避免产生很多垃圾，消耗过多的性能，造成卡顿</font></td></tr></tbody></table>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class语句块外 namespace语句块内</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 整型数组 类</span></span><br><span class="line">   <span class="keyword">class</span> <span class="title">IntArray</span></span><br><span class="line">   {</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 成员变量</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//整型数组数组</span></span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span>[] array;</span><br><span class="line">       <span class="comment">//当前房间容量</span></span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> capacity;</span><br><span class="line">       <span class="comment">//当前使用了几个房间</span></span><br><span class="line">       <span class="keyword">private</span> <span class="built_in">int</span> length;</span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 成员属性</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> <span class="built_in">int</span> Length</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">get</span></span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">return</span> length;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="keyword">public</span> <span class="built_in">int</span> Capacity</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">get</span></span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">return</span> capacity;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 构造函数</span></span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">IntArray</span>()</span></span><br><span class="line">       {</span><br><span class="line">           capacity = <span class="number">4</span>;<span class="comment">//初始化时 只只准备有4个空房间</span></span><br><span class="line">           length = <span class="number">0</span>;<span class="comment">//初始化时 1个房间都没有使用</span></span><br><span class="line">           array = <span class="keyword">new</span> <span class="built_in">int</span>[capacity];<span class="comment">//开对应数量的房间</span></span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 成员方法</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//增</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="comment">//如果要增加就涉及扩容</span></span><br><span class="line">           <span class="comment">//扩容就涉及 "搬家"</span></span><br><span class="line">           <span class="comment">//但是若每次增加一个元素 就搬一次家的话</span></span><br><span class="line">           <span class="comment">//会消耗很多性能和产生很多垃圾 </span></span><br><span class="line"></span><br><span class="line">           <span class="comment">//当前使用了几个房间的值 小于房间容量 </span></span><br><span class="line">           <span class="keyword">if</span> ( length &lt; capacity )</span><br><span class="line">           {</span><br><span class="line">               <span class="comment">//直接放</span></span><br><span class="line">               array[length] = <span class="keyword">value</span>;</span><br><span class="line">               <span class="comment">//使用的房间数+1</span></span><br><span class="line">               ++length;</span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">           <span class="comment">//当前使用了几个房间的值 大于等于房间容量 </span></span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           {            </span><br><span class="line">               <span class="comment">//准备好开更大容量的新房间</span></span><br><span class="line">               capacity *= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//开新房间</span></span><br><span class="line">               <span class="built_in">int</span>[] tempArray = <span class="keyword">new</span> <span class="built_in">int</span>[capacity];</span><br><span class="line"></span><br><span class="line">               Console.WriteLine(<span class="string">"开始搬家，旧房间容量为{0},新房间容量为{1}."</span>, capacity / <span class="number">2</span>, capacity);</span><br><span class="line"></span><br><span class="line">               <span class="comment">//开始搬家 遍历老房间的东西 放进新房间里</span></span><br><span class="line">               <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Length; i++)</span><br><span class="line">               {</span><br><span class="line">                   tempArray[i] = array[i];</span><br><span class="line">               }</span><br><span class="line"></span><br><span class="line">               <span class="comment">//老的房间地址 指向新房间地址</span></span><br><span class="line">               array = tempArray;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//当前房间要存的值 往后面放</span></span><br><span class="line">               array[length] = <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//使用的房间数+1</span></span><br><span class="line">               ++length;</span><br><span class="line"></span><br><span class="line">               Console.WriteLine(<span class="string">"搬家完成，搬家前使用的房间数为{0},搬家后使用的房间数为{1}."</span>, length<span class="number">-1</span>, length);</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="comment">//删</span></span><br><span class="line">       <span class="comment">//移除指定值</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="comment">//找到 传入值 在哪个位置</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">if</span>(array[i] == <span class="keyword">value</span>)</span><br><span class="line">               {</span><br><span class="line">                   RemoveAt(i);</span><br><span class="line">                   <span class="keyword">return</span>;</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">           <span class="comment">//使用的房间数-1</span></span><br><span class="line">           Console.WriteLine(<span class="string">"没有在数组中找到{0}"</span>, <span class="keyword">value</span>);</span><br><span class="line">       }</span><br><span class="line">       <span class="comment">//移除指定位置</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveAt</span>(<span class="params"><span class="built_in">int</span> index</span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="comment">//判断要移除的索引是否越界</span></span><br><span class="line">           <span class="keyword">if</span>( index &gt; length - <span class="number">1</span> )</span><br><span class="line">           {</span><br><span class="line">               Console.WriteLine(<span class="string">"当前数组只有{0},你越界了"</span>, length);</span><br><span class="line">               <span class="keyword">return</span>;</span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"准备移除索引是{0}的元素,该位置的值是{1}"</span>, index, array[index]);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//要移除位置的后面所有元素逐个往前搬 覆盖前一个的值</span></span><br><span class="line">           <span class="comment">//为什么是length - 1不是length</span></span><br><span class="line">           <span class="comment">//是因为最后一个元素已经往前搬了 值已经copy出来了</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="built_in">int</span> i = index; i &lt; length - <span class="number">1</span>; i++)</span><br><span class="line">           {</span><br><span class="line">               array[i] = array[i + <span class="number">1</span>];</span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">           <span class="comment">//搬完后 最后一个空出来的可以回设置默认值 也可以不处理 </span></span><br><span class="line">           array[length<span class="number">-1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">          <span class="comment">//使用的房间数-1</span></span><br><span class="line">          --length;</span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"移除完成，删除前使用的房间数为{0},删除后使用的房间数为{1}."</span>, length + <span class="number">1</span>, length);</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 索引器</span></span><br><span class="line">       <span class="comment">//查改</span></span><br><span class="line">       <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">get</span></span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">if</span>( index &gt;= length || index &lt; <span class="number">0</span>)</span><br><span class="line">               {</span><br><span class="line">                   Console.WriteLine(<span class="string">"越界"</span>);</span><br><span class="line">                   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">               }</span><br><span class="line">               <span class="keyword">return</span> array[index];</span><br><span class="line">           }</span><br><span class="line">           <span class="keyword">set</span></span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">if</span> (index &gt;= length || index &lt; <span class="number">0</span>)</span><br><span class="line">               {</span><br><span class="line">                   Console.WriteLine(<span class="string">"越界"</span>);</span><br><span class="line">               }</span><br><span class="line">               array[index] = <span class="keyword">value</span>;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           Console.WriteLine(<span class="string">"索引器练习题"</span>);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//主函数内</span></span><br><span class="line"></span><br><span class="line">           IntArray myInyArray = <span class="keyword">new</span> IntArray();</span><br><span class="line"></span><br><span class="line">           myInyArray.Add(<span class="number">100</span>);</span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray[0]:"</span> + myInyArray[<span class="number">0</span>]);<span class="comment">//myInyArray[0]:100</span></span><br><span class="line"></span><br><span class="line">           myInyArray.Add(<span class="number">200</span>);</span><br><span class="line">           myInyArray.Add(<span class="number">300</span>);</span><br><span class="line">           myInyArray.Add(<span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray.Length:"</span> + myInyArray.Length);<span class="comment">//myInyArray.Length:4</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray.Capacity:"</span> + myInyArray.Capacity);<span class="comment">//myInyArray.Capacity:4</span></span><br><span class="line">           myInyArray.Add(<span class="number">500</span>);</span><br><span class="line">           <span class="comment">//开始搬家，旧房间容量为4,新房间容量为8.</span></span><br><span class="line">           <span class="comment">//搬家完成，搬家前使用的房间数为4,搬家后使用的房间数为5</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray.Length:"</span> + myInyArray.Length);<span class="comment">//myInyArray.Length:5</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray.Capacity:"</span> + myInyArray.Capacity);<span class="comment">//myInyArray.Capacity:8</span></span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray[1]:"</span> + myInyArray[<span class="number">1</span>]);<span class="comment">//myInyArray[1]:200</span></span><br><span class="line">           myInyArray.RemoveAt(<span class="number">10</span>);<span class="comment">//当前数组只有5,你越界了</span></span><br><span class="line">           myInyArray.RemoveAt(<span class="number">1</span>);</span><br><span class="line">           <span class="comment">//准备移除索引是1的元素,该位置的值是200</span></span><br><span class="line">           <span class="comment">//移除完成，删除前使用的房间数为5,删除后使用的房间数为4.</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray[1]:"</span> + myInyArray[<span class="number">1</span>]);<span class="comment">//myInyArray[1]:300 200已经被移除</span></span><br><span class="line">           myInyArray.Remove(<span class="number">200</span>);<span class="comment">//没有在数组中找到200 200已经被移除</span></span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray[0]:"</span> + myInyArray[<span class="number">0</span>]);<span class="comment">//myInyArray[0]:100</span></span><br><span class="line">           myInyArray.Remove(<span class="number">100</span>);</span><br><span class="line">           <span class="comment">//准备移除索引是0的元素,该位置的值是100</span></span><br><span class="line">           <span class="comment">//移除完成，删除前使用的房间数为4,删除后使用的房间数为3.</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray[0]:"</span> + myInyArray[<span class="number">0</span>]);<span class="comment">//myInyArray[0]:300 100和200已经被移除</span></span><br><span class="line">           Console.WriteLine(<span class="string">"myInyArray.Length:"</span> + myInyArray.Length);<span class="comment">//myInyArray.Length:3</span></span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h1 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h1><p><strong><font size="4">知识回顾：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">{</span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 特征——成员变量</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 行为——成员方法</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 初始化调用——构造函数</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 释放时调用——析构函数</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 包裹成员变量——成员属性</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> 通过中括号使用对象——索引器</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="静态成员详解"><a href="#静态成员详解" class="headerlink" title="静态成员详解"></a>静态成员详解</h2><p><strong><font size="4">静态成员的基本概念：</font></strong></p>
<ul>
<li><font color="yellow">static</font> 关键字用于修饰成员变量、方法、属性等，称为静态成员</li>
<li>静态成员的特点是：直接用类名点出使用。</li>
</ul>
<p><strong><font size="4">早已出现的静态成员：</font></strong></p>
<ul>
<li>静态成员早在Console类中就已经出现，例如属性和方法。</li>
</ul>
<p><strong><font size="4">自定义静态成员：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 静态成员变量</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">public</span> <span class="built_in">float</span> PI = <span class="number">3.1415926f</span>;</span><br><span class="line">    <span class="comment">// public 和 static 的顺序可以随意摆放</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> π = <span class="number">3.1415926f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 成员变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> testInt = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态成员方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcCircle</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// πr²</span></span><br><span class="line">        <span class="keyword">return</span> PI * r * r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 成员方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"123"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">静态成员的使用：</font></strong></p>
<ul>
<li>使用静态成员</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">                <span class="comment">// 输出静态成员变量 π</span></span><br><span class="line">                Console.WriteLine(Test.PI); <span class="comment">// 3.1415925</span></span><br><span class="line">                Console.WriteLine(Test.π); <span class="comment">// 3.1415925</span></span><br><span class="line">                <span class="comment">// 半径为2的圆的面积</span></span><br><span class="line">                Console.WriteLine(Test.CalcCircle(<span class="number">2</span>)); <span class="comment">// 12.56637</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>实例化对象后使用非静态成员</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">                Test t = <span class="keyword">new</span> Test();</span><br><span class="line">                Console.WriteLine(t.testInt); <span class="comment">// 100</span></span><br><span class="line">                t.TestFun(); <span class="comment">// 123</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>实例化对象不能使用静态成员</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line"></span><br><span class="line">                 Console.WriteLine(t.PI); <span class="comment">// 报错</span></span><br><span class="line">                 Console.WriteLine(t.CalcCircle(<span class="number">2</span>)); <span class="comment">// 报错</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>无法使用实例引用访问静态成员（member）；用类型名称限定它。<br>只能使用类名来限定静态变量；实例名称不能是限定词。</p>
</blockquote>
<p><strong><font size="4">为什么可以直接点出来使用：</font></strong></p>
<ul>
<li>实例化对象的特点：对象、变量、函数都需要在内存中分配内存空间。</li>
<li>静态成员的特点：程序开始运行时就会分配内存空间，因此可以直接使用。</li>
</ul>
<p><strong><font size="4">静态函数中不能使用非静态成员：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcCircle</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 静态函数中不能使用非静态成员</span></span><br><span class="line">    <span class="comment">// Console.WriteLine(testInt); // 报错，非静态字段、方法或属性“成员”需要对象引用。</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 非静态成员不能无中生有，必须通过对象实例化后才能访问</span></span><br><span class="line">    Test t = <span class="keyword">new</span> Test();</span><br><span class="line">    t.testInt = <span class="number">54250</span>;</span><br><span class="line">    Console.WriteLine(<span class="string">"CalcCircle实例化对象后，输出testInt的值是：{0}"</span>, t.testInt);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// πr²</span></span><br><span class="line">    <span class="keyword">return</span> PI * r * r;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">非静态函数可以使用静态成员：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>()</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(<span class="string">"123"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 非静态函数可以使用静态成员</span></span><br><span class="line">    <span class="comment">// 静态成员的生命周期比非静态更长，因此在非静态函数中使用静态成员没有问题</span></span><br><span class="line">    Console.WriteLine(<span class="string">"非静态函数可以使用静态成员"</span> + <span class="string">"PI:"</span> + PI);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用静态成员方法也没有问题</span></span><br><span class="line">    Console.WriteLine(<span class="string">"非静态函数可以使用静态成员"</span> + <span class="string">"CalcCircle(2):"</span> + CalcCircle(<span class="number">2</span>));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">静态成员对于我们的作用：</font></strong><br><strong><font size="3">静态变量的作用：</font></strong></p>
<ul>
<li>常用唯一变量的声明，如 π。</li>
<li>方便别人获取的对象声明，静态变量具有全局性。</li>
</ul>
<p><strong><font size="3">静态方法的作用：</font></strong></p>
<ul>
<li>常用的唯一的方法声明，例如相同规则的数学计算相关函数，如圆的周长和面积。</li>
</ul>
<p><strong><font size="3">过多的静态成员的后果：</font></strong></p>
<ul>
<li>过多的静态成员可能导致频繁触发 GC。</li>
</ul>
<h2 id="常量和静态变量"><a href="#常量和静态变量" class="headerlink" title="常量和静态变量"></a>常量和静态变量</h2><ul>
<li><strong><font color="orange">const</font>（常量）可以理解为特殊的 <font color="#4F94CD">static</font>（静态）。</strong><br><strong><font size="4">常量和静态变量的相同点：</font></strong></li>
<li>它们都可以通过类名点出使用。</li>
</ul>
<p><strong><font size="4">常量和静态变量的不同点：</font></strong></p>
<ul>
<li><font color="orange">const</font> 必须初始化，不能修改；static 没有这个规则。</li>
<li><font color="orange">const</font> 只能修饰变量，static 可以修饰很多。</li>
<li><font color="orange">const</font> 一定是写在访问修饰符后面的，static 没有这个规则。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line"> {</span><br><span class="line"> <span class="comment">//........省略上述类的内容</span></span><br><span class="line"> <span class="comment">// 常量</span></span><br><span class="line"> <span class="comment">// 重力加速度</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">float</span> G = <span class="number">9.8f</span>;</span><br><span class="line"> <span class="comment">// 一定要初始化，否则报错</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 自然对数</span></span><br><span class="line"> <span class="comment">// const public float e = 2.72f;</span></span><br><span class="line"> <span class="comment">// 报错，const 一定是写在访问修饰符后面的</span></span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line"> {</span><br><span class="line">    <span class="comment">// Test.G = 10; // 报错，常量不可修改</span></span><br><span class="line">    Console.WriteLine(Test.G); <span class="comment">// 9.8</span></span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>用 <font color="#4F94CD">static</font> 修饰的成员变量、成员方法、成员属性等就称为静态成员。</li>
</ul>
<p><strong><font size="4">特点：</font></strong></p>
<ul>
<li>直接用类名点出来使用（全局性）。</li>
</ul>
<p><strong><font size="4">生命周期：</font></strong></p>
<ul>
<li>和程序同生共死，程序运行后就会一直存在内存中，直到程序结束后才会释放，因此静态成员具有唯一性。</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>静态函数中不能直接使用非静态成员。</li>
<li>非静态函数中可以直接使用静态成员。</li>
</ul>
<p><strong><font size="4">常量和静态变量：</font></strong></p>
<ul>
<li>常量是特殊的静态变量。</li>
</ul>
<p><strong><font size="4">常量和静态变量相同点：</font></strong></p>
<ul>
<li>它们都可以通过类名点出来使用。</li>
</ul>
<p><strong><font size="4">常量和静态变量不同点：</font></strong></p>
<ul>
<li><font color="orange">const</font> 必须初始化，不能被修改；***<font color="#4F94CD">static</font>***没有这个规则。</li>
<li><font color="orange">const</font> 只能修饰变量，<em><strong><font color="#4F94CD">static</font></strong></em> 可以修饰很多。</li>
<li><font color="orange">const</font> 不能写在访问修饰符前面，一定是写在变量声明前面；<font color="#4F94CD">static</font> 没有这个规则。</li>
</ul>
<h2 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font color="white"><font size="4">1.<font color="orange">const</font>和<font color="#4F94CD">static</font>的区别</font></font></strong></p>
<p><strong><font color="white"><font size="3">相同点：</font></font></strong></p>
<ul>
<li><strong>两者都可以通过类名点出来使用。</strong></li>
</ul>
<p><strong><font color="white"><font size="3">不同点：</font></font></strong><br><strong><font color="white"><font size="3">1.<font color="orange">const</font>必须初始化不能被修改，<font color="#4F94CD">static</font>没有这个要求：</font></font></strong></p>
<ul>
<li><strong><font color="#E8E8E8"><font color="orange">const</font>用于定义常量，其值在编译时就需要确定，并且不能在运行时修改。</font></strong></li>
<li><strong><font color="#E8E8E8"><font color="#4F94CD">static</font>可以是变量、方法、属性等，而且其值或状态可以在运行时进行修改。</font></strong></li>
</ul>
<p><strong><font color="white"><font size="3">2.<font color="orange">const</font>是只能修饰变量，<font color="#4F94CD">static</font>可以修饰很多：</font></font></strong></p>
<ul>
<li><strong><font color="#E8E8E8"><font color="orange">const</font>主要用于定义常量，修饰的是常量值。</font></strong></li>
<li><strong><font color="#E8E8E8"><font color="#4F94CD">static</font>可以修饰变量、方法、属性等，表示这些成员是属于类而不是实例的。</font></strong></li>
</ul>
<p><strong><font color="white"><font size="3">3.访问修饰符要写在<font color="orange">const</font>前面，<font color="#4F94CD">static</font>随意：</font></font></strong></p>
<ul>
<li><strong><font color="#E8E8E8"><font color="orange">const</font>必须加上访问修饰符，例如:</font></strong></li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">int</span> MyConstant = <span class="number">42</span>;</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong><font color="#E8E8E8"><font color="#4F94CD">static</font>可以根据需要加上访问修饰符，也可以不加，例如:</font></strong></li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> myStaticVariable;</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p><strong><font color="white"><font size="4">2.用静态成员实现单例模式</font></font></strong></p>
<blockquote>
<p>单例：一个类对象，在整个应用程序的生命周期中，有且仅会有一个该对象的存在，不能在外部实例化，直接通过该类类名就能够得到唯一的对象</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// class语句块外 namespace语句块内</span></span><br><span class="line"><span class="comment">// 单例类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Singleton</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 设置一个私有静态的对象 new出一个自己 即是唯一对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> singletonInt = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用静态属性 通过属性让外部只能得不能改</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton Instance</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写一个私有的构造函数 在外面就不能new了</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 主函数内</span></span><br><span class="line">        <span class="comment">//Singleton instance =  new Singleton();</span></span><br><span class="line">        <span class="comment">//报错 构造函数私有 不能new</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//要把Singleton.instance设置为private 不然有可能外部置空</span></span><br><span class="line">        <span class="comment">//Singleton.instance = null;</span></span><br><span class="line">        <span class="comment">//Singleton.instance设置为private后 报错</span></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(Singleton.Instance.singletonInt);<span class="comment">//123</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h1 id="静态类和静态构造函数"><a href="#静态类和静态构造函数" class="headerlink" title="静态类和静态构造函数"></a>静态类和静态构造函数</h1><h2 id="静态类"><a href="#静态类" class="headerlink" title="静态类"></a>静态类</h2><p><strong><font color="white"><font size="4">概念：</font></font></strong></p>
<ul>
<li>用<font color="#4F94CD">static</font>修饰的类</li>
</ul>
<p><strong><font color="white"><font size="4">特点：</font></font></strong></p>
<ul>
<li>只能包含静态成员</li>
<li>不能被实例化</li>
</ul>
<p> <strong><font color="white"><font size="4">作用：</font></font></strong></p>
<ul>
<li>1.将常用的静态成员写在静态类中 方便使用</li>
<li>2.静态类不能被实例化，更能体现工具类的 唯一性</li>
<li>比如 Console就是一个静态类</li>
</ul>
<p><strong><font color="white"><font size="4">示例：</font></font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//静态 工具 类</span></span><br><span class="line">   <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools</span></span><br><span class="line">   {</span><br><span class="line">       <span class="comment">//静态成员变量</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> testIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//静态成员方法</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">TestFun</span>()</span></span><br><span class="line">       {</span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="comment">//静态成员属性</span></span><br><span class="line">       <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> TestIndex</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">get</span>;</span><br><span class="line">           <span class="keyword">set</span>;</span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="comment">//Console c = new Console();</span></span><br><span class="line">           <span class="comment">//报错 无法创建静态类实例</span></span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="静态构造函数"><a href="#静态构造函数" class="headerlink" title="静态构造函数"></a>静态构造函数</h2><p><strong><font color="white"><font size="4">概念：</font></font></strong></p>
<ul>
<li>在构造函数加上 <font color="#4F94CD">static</font> 修饰</li>
</ul>
<p><strong><font color="white"><font size="4">特点：</font></font></strong></p>
<ul>
<li>1.静态类和普通类都可以有</li>
<li>2.不能使用访问修饰符</li>
<li>3.不能有参数  </li>
<li>4.只会自动调用一次</li>
</ul>
<p><strong><font color="white"><font size="4">作用：</font></font></strong></p>
<ul>
<li>在静态构造函数中初始化 静态变量</li>
</ul>
<p><strong><font color="white"><font size="4">使用：</font></font></strong></p>
<ul>
<li>1.静态类中的静态构造函数</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">StaticClass</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> testInt = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> testInt2 = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不能使用访问修饰符，3P无效</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">StaticClass</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"静态类中的静态构造"</span>);</span><br><span class="line">        <span class="comment">// 初始化成员变量</span></span><br><span class="line">        testInt = <span class="number">200</span>;</span><br><span class="line">        testInt2 = <span class="number">300</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>2.普通类中的静态构造函数</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">NormalClass</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> testInt = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//不能使用访问修饰符 3P无效</span></span><br><span class="line">        <span class="comment">//静态构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="title">NormalClass</span>()</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"普通类中的静态构造"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//成员构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">NormalClass</span>()</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"普通类中的普通构造"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>主函数内</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用静态类的成员时 静态构造函数 会 自动调用一次  </span></span><br><span class="line"><span class="comment">//会打印出 静态类中的静态构造</span></span><br><span class="line">Console.WriteLine(StaticClass.testInt);<span class="comment">//200</span></span><br><span class="line">Console.WriteLine(StaticClass.testInt2);<span class="comment">//300</span></span><br><span class="line">Console.WriteLine(StaticClass.testInt);<span class="comment">//200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//静态构造函数 会 自动调用一次 </span></span><br><span class="line"><span class="comment">//会打印出 普通类中的静态构造</span></span><br><span class="line">Console.WriteLine(NormalClass.testInt);<span class="comment">//200</span></span><br><span class="line">NormalClass t = <span class="keyword">new</span> NormalClass();<span class="comment">//普通类中的普通构造</span></span><br><span class="line">NormalClass t2 = <span class="keyword">new</span> NormalClass();<span class="comment">//普通类中的普通构造</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h2><font color="white">

<p><strong><font size="4">静态类：</font></strong></p>
<ul>
<li><strong>用<font color="#4F94CD">static</font>修饰的类</strong></li>
</ul>
<p><strong><font size="3">特点:</font></strong></p>
<ul>
<li><strong>只能包含静态成员</strong></li>
<li><strong>不能实例化</strong></li>
</ul>
<p><strong><font size="3">作用:</font></strong></p>
<ul>
<li><strong>工具类</strong></li>
<li><strong>拓展方法</strong></li>
</ul>
<p><strong><font size="4">静态构造函数：</font></strong></p>
<ul>
<li><strong>用<font color="#4F94CD">static</font>修饰的构造函数</strong></li>
</ul>
<p><strong><font size="3">特点:</font></strong></p>
<ul>
<li><strong>静态类和普通类都可以有静态构造函数</strong></li>
<li><strong><del>不能使用访问修饰符</del></strong></li>
<li><strong><del>不能有参数</del></strong></li>
<li><strong>只会自动调用一次</strong></li>
</ul>
<p><strong><font size="3">作用:</font></strong></p>
<ul>
<li><strong>初始化静态成员</strong></li>
</ul>
</font>

<h2 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h2><p><font color="white"><strong><font size="4">1.写一个用于数学计算的静态类,该类中提供计算圆面积，圆周长，矩形面积，矩形周长，取一个数的绝对值等方法。</font></strong></font></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// class语句块外 namespace语句块内</span></span><br><span class="line"><span class="comment">// 数学工具类</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MathTool</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 静态成员变量 π</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> PI = <span class="number">3.14f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算圆的面积</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="r"&gt;</span>半径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>面积<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcCircularArea</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> PI * r * r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算圆的周长</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="r"&gt;</span>半径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>周长<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcCircularLength</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * PI * r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算矩形的面积</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="w"&gt;</span>宽<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="h"&gt;</span>高<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>面积<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcRectArea</span>(<span class="params"><span class="built_in">float</span> w, <span class="built_in">float</span> h</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> w * h;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算矩形的周长</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="w"&gt;</span>宽<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="h"&gt;</span>高<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>周长<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">CalcRectLength</span>(<span class="params"><span class="built_in">float</span> w, <span class="built_in">float</span> h</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * w + <span class="number">2</span> * h;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 计算绝对值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="value"&gt;</span>去绝对值的变量<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>去绝对值后的值<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">GetABS</span>(<span class="params"><span class="built_in">float</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> -<span class="keyword">value</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">        <span class="comment">// 主函数内</span></span><br><span class="line">        Console.WriteLine(MathTool.GetABS(<span class="number">-7</span>));<span class="comment">//7</span></span><br><span class="line">        Console.WriteLine(MathTool.CalcCircularArea(<span class="number">2</span>));<span class="comment">//12.56</span></span><br><span class="line">        Console.WriteLine(MathTool.CalcCircularLength(<span class="number">3</span>));<span class="comment">//18.84</span></span><br><span class="line">        Console.WriteLine(MathTool.CalcRectArea(<span class="number">2</span>, <span class="number">3</span>));<span class="comment">//6</span></span><br><span class="line">        Console.WriteLine(MathTool.CalcRectLength(<span class="number">2</span>, <span class="number">3</span>));<span class="comment">//10</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="拓展方法"><a href="#拓展方法" class="headerlink" title="拓展方法"></a>拓展方法</h1><h2 id="拓展方法基本概念"><a href="#拓展方法基本概念" class="headerlink" title="拓展方法基本概念"></a>拓展方法基本概念</h2><font color="white">

<p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>为现有非静态 变量类型 添加 新方法</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>1.提升程序拓展性</li>
<li>2.不需要再对象中重新写方法</li>
<li>3.不需要继承来添加方法</li>
<li>4.为别人封装的类型写额外的方法</li>
</ul>
<p><strong><font size="4">特点：</font></strong></p>
</font><ul><font color="white">
<li>1.一定是写在静态类中</li>
<li>2.一定是个静态函数</li>
<li>3.第一个参数为拓展目标</li>
</font><li><font color="white">4.第一个参数用this修饰</font></li>
</ul>
<h2 id="拓展方法的基本语法"><a href="#拓展方法的基本语法" class="headerlink" title="拓展方法的基本语法"></a>拓展方法的基本语法</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">static</span> 返回值 函数名(<span class="keyword">this</span> 拓展类名 参数名, 参数类型 参数名,参数类型 参数名....)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="拓展方法的实例"><a href="#拓展方法的实例" class="headerlink" title="拓展方法的实例"></a>拓展方法的实例</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态工具类</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 为现有非静态变量类型添加新方法</span></span><br><span class="line">    <span class="comment">// 成员方法是需要实例化对象后才能使用的</span></span><br><span class="line">    <span class="comment">// value 代表使用该方法的实例化对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SpeakValue</span>(<span class="params"><span class="keyword">this</span> <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 拓展的方法的逻辑</span></span><br><span class="line">        Console.WriteLine(<span class="string">"L为int拓展的方法"</span> + <span class="keyword">value</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为 string 拓展了一个成员方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SpeakStringInfo</span>(<span class="params"><span class="keyword">this</span> <span class="built_in">string</span> str, <span class="built_in">string</span> str2, <span class="built_in">string</span> str3</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"L为string拓展的方法"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">"调用方法的对象"</span> + str);</span><br><span class="line">        Console.WriteLine(<span class="string">"传的参数"</span> + str2 + str3);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="拓展方法的使用"><a href="#拓展方法的使用" class="headerlink" title="拓展方法的使用"></a>拓展方法的使用</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="built_in">int</span> i = <span class="number">10</span>; <span class="comment">// 实例化对象 i</span></span><br><span class="line">           i.SpeakValue(); <span class="comment">// 林文韬为int拓展的方法10</span></span><br><span class="line"></span><br><span class="line">           <span class="built_in">string</span> str = <span class="string">"000"</span>; <span class="comment">// 实例化对象 str</span></span><br><span class="line">           str.SpeakStringInfo(<span class="string">"111"</span>, <span class="string">"222"</span>);</span><br><span class="line">           <span class="comment">// L为string拓展的方法</span></span><br><span class="line">           <span class="comment">// 调用方法的对象000</span></span><br><span class="line">           <span class="comment">// 传的参数111222</span></span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="为自定义的类型拓展方法"><a href="#为自定义的类型拓展方法" class="headerlink" title="为自定义的类型拓展方法"></a>为自定义的类型拓展方法</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fun1</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Fun1"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fun2</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Fun2"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//............省略上述类的内容</span></span><br><span class="line">    <span class="comment">// 静态工具类内</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Fun3</span>(<span class="params"><span class="keyword">this</span> Test t</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"为test拓展的方法 Fun3"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test 类中自己有 Fun2 方法，则无法调用拓展方法中的 Fun2 方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Fun2</span>(<span class="params"><span class="keyword">this</span> Test t</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"为test拓展的方法 Fun2"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Test t = <span class="keyword">new</span> Test();</span><br><span class="line">            t.Fun1(); <span class="comment">// Fun1</span></span><br><span class="line">            t.Fun3(); <span class="comment">// 为test拓展的方法 Fun3</span></span><br><span class="line">            t.Fun2(); <span class="comment">// Fun2</span></span><br><span class="line">                      <span class="comment">// Test 类中自己有 Fun2 方法，则无法调用拓展方法中的 Fun2 方法</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-8"><a href="#总结-8" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>为现有的非静态变量类型添加方法。</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>提升程序拓展性。</li>
<li>不需要再在对象中重新写方法。</li>
<li>不需要继承来添加方法。</li>
<li>为别人封装的类型写额外的方法。</li>
</ul>
<p><strong><font size="4">特点：</font></strong></p>
<ul>
<li>静态类中的静态方法。</li>
<li>第一个参数代表拓展的目标。</li>
<li>第一个参数前面一定要加 this.</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>可以有返回值和任意个参数。</li>
<li>根据需求而定。</li>
</ul>
<h2 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.为整形拓展一个求平方的方法</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//工具类</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//求平方方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Square</span>(<span class="params"><span class="keyword">this</span> <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            <span class="built_in">int</span> i = <span class="number">2</span>;</span><br><span class="line">            Console.WriteLine(i.Square());<span class="comment">//4</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.写一个玩家类，包含姓名，血量，攻击力，防御力等特征，攻击，移动，受伤等方法，并为该玩家类拓展一个自杀的方法</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//工具类2</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools2</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//玩家类的自杀拓展方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">KillSelf</span>(<span class="params"><span class="keyword">this</span> Player p</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"玩家"</span> + p.name + <span class="string">"自杀"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//成员</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> hp;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> def;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>(<span class="params">Player otherPlayer</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Wound</span>(<span class="params">Player otherPlayer</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Player p = <span class="keyword">new</span> Player();</span><br><span class="line">            p.name = <span class="string">"小红"</span>;</span><br><span class="line">            p.KillSelf();<span class="comment">//玩家小红自杀</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<hr>
<h1 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h1><h2 id="运算符重载的基本概念"><a href="#运算符重载的基本概念" class="headerlink" title="运算符重载的基本概念"></a>运算符重载的基本概念</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>让自定义类和结构体能够使用运算符</li>
<li>使用关键字 <em><strong><font color="orange">operator</font></strong></em></li>
</ul>
<p><strong><font size="4">特点：</font></strong></p>
<ul>
<li>一定是一个公共的静态方法</li>
<li>返回值写在 <em><strong><font color="orange">operator</font></strong></em> 之前</li>
<li>逻辑处理自定义</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>让自定义类和结构体对象可以进行运算</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>条件运算符需要成对出现</li>
<li>一个符号可以多个重载</li>
<li>不能使用 <em><strong><font color="Purple">ref</font></strong></em> 和 <em><strong><font color="Purple">out</font></strong></em></li>
</ul>
<h2 id="运算符重载的基本语法"><a href="#运算符重载的基本语法" class="headerlink" title="运算符重载的基本语法"></a>运算符重载的基本语法</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> 返回类型 <span class="keyword">operator</span> 运算符(参数列表)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="运算符重载的实例"><a href="#运算符重载的实例" class="headerlink" title="运算符重载的实例"></a>运算符重载的实例</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class 语句块外 namespace 语句块内</span></span><br><span class="line"><span class="comment">// 点类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Point</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// x y 坐标</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> x;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重载加法 两个点相加</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Point <span class="keyword">operator</span> +(Point p1, Point p2)</span><br><span class="line">    {</span><br><span class="line">        Point p = <span class="keyword">new</span> Point();</span><br><span class="line">        p.x = p1.x + p2.x;</span><br><span class="line">        p.y = p1.y + p2.y;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重载加法 点和值相加</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Point <span class="keyword">operator</span> +(Point p1, <span class="built_in">int</span> <span class="keyword">value</span>)</span><br><span class="line">    {</span><br><span class="line">        Point p = <span class="keyword">new</span> Point();</span><br><span class="line">        p.x = p1.x + <span class="keyword">value</span>;</span><br><span class="line">        p.y = p1.y + <span class="keyword">value</span>;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重载加法 值和点相加 参数顺序不一样 会影响重载的使用</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Point <span class="keyword">operator</span> +(<span class="built_in">int</span> <span class="keyword">value</span>, Point p1)</span><br><span class="line">    {</span><br><span class="line">        Point p = <span class="keyword">new</span> Point();</span><br><span class="line">        p.x = p1.x + <span class="keyword">value</span>;</span><br><span class="line">        p.y = p1.y + <span class="keyword">value</span>;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="运算符重载的使用"><a href="#运算符重载的使用" class="headerlink" title="运算符重载的使用"></a>运算符重载的使用</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        Point p1 = <span class="keyword">new</span> Point();</span><br><span class="line">        p1.x = <span class="number">1</span>;</span><br><span class="line">        p1.y = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        Point p2 = <span class="keyword">new</span> Point();</span><br><span class="line">        p2.x = <span class="number">2</span>;</span><br><span class="line">        p2.y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 重载加法 两个点相加</span></span><br><span class="line">        Point p3 = p1 + p2; <span class="comment">// p3(3,3)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 重载了加法 点和值相加</span></span><br><span class="line">        <span class="comment">// public static Point operator +(Point p1, int value)</span></span><br><span class="line">        Point p4 = p3 + <span class="number">1</span>; <span class="comment">// p4(4,4)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 重载加法 值和点相加 参数顺序不一样 会影响运算符重载的使用</span></span><br><span class="line">        <span class="comment">// public static Point operator +(int value, Point p1)</span></span><br><span class="line">        <span class="comment">// 必须有这个运算符重载 p5 才不会报错</span></span><br><span class="line">        Point p5 = <span class="number">1</span> + p4; <span class="comment">// p5(5,5)</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="可重载和不可重载运算符"><a href="#可重载和不可重载运算符" class="headerlink" title="可重载和不可重载运算符"></a>可重载和不可重载运算符</h2><p><font size="4"> 可重载运算符</font></p>
<ul>
<li>算数运算符：<font color="#FF3030">+</font>, <font color="#FF3030">-</font>, <font color="#FF3030">*</font>, <font color="#FF3030">/</font>, <font color="#FF3030">%</font>, <font color="#FF3030">++</font>, <font color="#FF3030">–</font> </li>
<li>逻辑运算符：<font color="#FF3030">!</font></li>
<li>位运算符：<font color="#FF3030">|</font>, <font color="#FF3030">&amp;</font>, <font color="#FF3030">^</font>, <font color="#FF3030">&lt;&lt;</font>, <font color="#FF3030">&gt;&gt;</font>, <font color="#FF3030">~</font></li>
<li>条件运算符：<font color="#FF3030">&gt;</font>, <font color="#FF3030">&lt;</font>, <font color="#FF3030">&gt;=</font>, <font color="#FF3030">&lt;=</font>, <font color="#FF3030">==</font>, <font color="#FF3030">!=</font>, <font color="#FF3030">true</font>, <font color="#FF3030">false</font></li>
</ul>
<p><font size="4"> 不可重载运算符</font></p>
<ul>
<li>逻辑与(<font color="#FF3030">&amp;&amp;</font>)、逻辑或(<font color="#FF3030">||</font>)</li>
<li>索引符 <font color="#FF3030">[]</font></li>
<li>强转运算符 <font color="#FF3030">()</font></li>
<li>特殊运算符，如点<font color="#FF3030">.</font>、三目运算符<font color="#FF3030">? :</font>、赋值符号<font color="#FF3030">=</font></li>
</ul>
<h2 id="总结-9"><a href="#总结-9" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">关键词:&nbsp;</font></strong></p>
<ul>
<li><em><strong><font color="orange">operator</font></strong></em></li>
</ul>
<p><strong><font size="4">固定语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> 返回值 <span class="keyword">operator</span> 运算符(参数列表)</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>让自己定义类或结构体对象进行运算</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>参数的数量</li>
<li>条件运算符的配对实现</li>
<li>一个符号可以多个重载</li>
<li>不能用&nbsp;<em><strong><font color="Purple">ref</font></strong></em>&nbsp;和&nbsp;<em><strong><font color="Purple">out</font></strong></em></li>
</ul>
<h2 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.定义一个位置结构体，重载判断是否相等的运算符</font></strong></p>
<blockquote>
<p>(x1,y1) == (x2,y2)     =&gt; 两个值同时相等才为true</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class语句块外 namespace语句块内</span></span><br><span class="line"><span class="comment">//位置结构体 运算符重载也可以用到结构体中 和类一模一样</span></span><br><span class="line"><span class="keyword">struct</span> Position</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> x;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重载了==</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="keyword">operator</span> ==(Position p1, Position p2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> p1.x == p2.x &amp;&amp; p1.y == p2.y;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//因为重载了== 所以必须要重载!=</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="keyword">operator</span> !=(Position p1, Position p2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> !(p1 == p2);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Position p1;</span><br><span class="line">            p1.x = <span class="number">1</span>;</span><br><span class="line">            p1.y = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            Position p2;</span><br><span class="line">            p2.x = <span class="number">2</span>;</span><br><span class="line">            p2.y = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            Position p3;</span><br><span class="line">            p3.x = <span class="number">1</span>;</span><br><span class="line">            p3.y = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (p1 != p2)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(<span class="string">"p1和p2不相等"</span>);<span class="comment">//p1和p2不相等</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (p1 == p3)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(<span class="string">"p1和p3相等"</span>);<span class="comment">//p1和p3相等</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">1.定义一个Vector3类，通过重载运算符实现运算</font></strong></p>
<blockquote>
<p>(x1,y1,z1) + (x2,y2,z2) = (x1+x2,y1+y2,z1+z2)<br>(x1,y1,z1) - (x2,y2,z2) = (x1-x2,y1-y2,z1-z2)<br>(x1,y1,z1) * num = (x1num,y1num,z1*num)</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class语句块外 namespace语句块内</span></span><br><span class="line"><span class="comment">//三维向量类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Vector3</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> x;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> y;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> z;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector3</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y, <span class="built_in">int</span> z</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.z = z;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> +(Vector3 v1, Vector3 v2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Vector3(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> -(Vector3 v1, Vector3 v2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Vector3(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> *(Vector3 v1, <span class="built_in">int</span> num)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Vector3(v1.x * num, v1.y * num, v1.z * num);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Vector3 v1 = <span class="keyword">new</span> Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            Vector3 v2 = <span class="keyword">new</span> Vector3(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            Vector3 v3 = v1 - v2;</span><br><span class="line">            Console.WriteLine(<span class="string">"v3 = v1 - v2，v3的坐标是:{0}|{1}|{2}"</span>, v3.x, v3.y, v3.z);</span><br><span class="line">            <span class="comment">//v3 = v1 - v2，v3的坐标是:-1|-1|-1</span></span><br><span class="line"></span><br><span class="line">            v3 = v3 * <span class="number">10</span>;</span><br><span class="line">            <span class="comment">//v3 *= 10;//这样写也行</span></span><br><span class="line">            Console.WriteLine(<span class="string">"v3 *= 10，v3的坐标是:{0}|{1}|{2}"</span>, v3.x, v3.y, v3.z);</span><br><span class="line">            <span class="comment">//v3 *= 10，v3的坐标是:-10|-10|-10</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h1 id="内部类和分部类"><a href="#内部类和分部类" class="headerlink" title="内部类和分部类"></a>内部类和分部类</h1><h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>在一个类中再申明一个类</li>
</ul>
<p><strong><font size="4">特点：</font></strong></p>
<ul>
<li>使用时要用包裹者点出自己</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>亲密关系的变现</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>访问修饰符作用很大</li>
</ul>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 人 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//身体 成员变量</span></span><br><span class="line">    <span class="keyword">public</span> Body body;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 内部 身体 类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Body</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//胳膊 成员变量</span></span><br><span class="line">        Arm leftArm;</span><br><span class="line">        Arm rightArm;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//内部 胳膊 类</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title">Arm</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//主函数内</span></span><br><span class="line">            Person p = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//Body body = new Body();</span></span><br><span class="line">            <span class="comment">//报错 内部类使用时要用包裹者点出自己</span></span><br><span class="line">            Person.Body body = <span class="keyword">new</span> Person.Body();<span class="comment">//正确用法</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//Person.Body.Arm = new Person.Body.Arm();</span></span><br><span class="line">            <span class="comment">//报错 胳膊类没有public 默认是私有 由于其保护级别而无法访问</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="分部类"><a href="#分部类" class="headerlink" title="分部类"></a>分部类</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>把一个类分成几部分申明</li>
</ul>
<p><strong><font size="4">关键字：</font></strong></p>
<ul>
<li>partial</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>分部描述一个类</li>
<li>增加程序的拓展性</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>分部类可以写在多个脚本文件中</li>
<li>分部类的访问修饰符要一致</li>
<li>分部类中不能有重复成员</li>
</ul>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//学生 分布类1 </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> sex;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//学生 分布类2 访问修饰符要和学生分布类1一致是public</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> number;</span><br><span class="line">    <span class="comment">//public bool sex;//报错 分部类中不能有重复成员</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//可以写在多个脚本文件中 在实践中运用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            Student student1 = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//分布类其实就是相当于把一个类分成几部分申明而已 可以同时使用各个分布类的成员</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//学生分布类1的变量</span></span><br><span class="line">            student1.name = <span class="string">"男"</span>;</span><br><span class="line">            <span class="comment">//学生分布类2的变量</span></span><br><span class="line">            student1.number = <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="分布方法"><a href="#分布方法" class="headerlink" title="分布方法"></a>分布方法</h2><p><strong><font size="3">概念：</font></strong></p>
<ul>
<li>将方法的申明和实现分离</li>
</ul>
<p><strong><font size="3">特点：</font></strong></p>
<ul>
<li>1.不能加访问修饰符 默认私有</li>
<li>2.只能在分部类中申明</li>
<li>3.返回值只能是void</li>
<li>4.可以有参数但不用 <em><strong><font color="Purple">out</font></strong></em> 关键字</li>
</ul>
<p><em><strong><font color="#FF0000">局限性大，了解即可</font></strong></em></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//学生 分布类1 </span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">   {</span><br><span class="line">       <span class="comment">//........省略上述类的内容</span></span><br><span class="line">       <span class="meta">#<span class="keyword">region</span> 知识点三 分部方法</span></span><br><span class="line">       <span class="comment">//Speak方法的申明</span></span><br><span class="line">       <span class="function"><span class="keyword">partial</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span>;</span><br><span class="line">       <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">   {</span><br><span class="line">       <span class="comment">//........省略上述类的内容    </span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//Speak方法的实现</span></span><br><span class="line">       <span class="function"><span class="keyword">partial</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">       {</span><br><span class="line">           <span class="comment">//实现逻辑</span></span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="comment">//Speak重载方法的实现</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Speak</span>(<span class="params"><span class="built_in">string</span> str</span>)</span></span><br><span class="line">       {</span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="继承的基本规则（继承）"><a href="#继承的基本规则（继承）" class="headerlink" title="继承的基本规则（继承）"></a>继承的基本规则（继承）</h1><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p><strong><font size="3">继承的基本概念：</font></strong></p>
<ul>
<li>一个类A继承一个类B</li>
<li>类A将会继承类B的所有成员</li>
<li>A类将拥有B类的所有特征和行为</li>
<li>被继承的类称为父类、基类、超类</li>
<li>继承的类称为子类、派生类</li>
<li>子类可以有自己的特征和行为</li>
</ul>
<p><strong><font size="3">继承的特点：</font></strong></p>
<ul>
<li>单根性：子类只能有一个父类</li>
<li>传递性：子类可以间接继承父类的父类</li>
</ul>
<p><strong><font size="3">继承的基本语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 : 被继承的类名</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">继承的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 老师类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//介绍名字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SpeakName</span>()</span></span><br><span class="line">    {</span><br><span class="line">        number = <span class="number">10</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">"我是老师"</span> + name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 教学老师类 继承 老师类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">TeachingTeacher</span> : <span class="title">Teacher</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//科目</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> subject;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//介绍科目</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SpeakSubject</span>()</span></span><br><span class="line">    {</span><br><span class="line">        number = <span class="number">11</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">"我是"</span> + subject + <span class="string">"学科的老师"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//语文老师类 继承 教学老师类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">ChineseTeacher</span> : <span class="title">TeachingTeacher</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Skill</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"天若有情天亦老，人间正道是沧桑！"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//警察类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Police</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            TeachingTeacher teacher1 = <span class="keyword">new</span> TeachingTeacher();</span><br><span class="line">            <span class="comment">//可以使用父类的成员</span></span><br><span class="line">            teacher1.name = <span class="string">"L"</span>;</span><br><span class="line">            teacher1.SpeakName();<span class="comment">//我是老师L</span></span><br><span class="line">            teacher1.subject = <span class="string">"Unity"</span>;</span><br><span class="line">            teacher1.SpeakSubject();<span class="comment">//我是Unity学科的老师</span></span><br><span class="line"></span><br><span class="line">            ChineseTeacher chineseTeacher1 = <span class="keyword">new</span> ChineseTeacher();</span><br><span class="line">            <span class="comment">//可以使用父类 爷爷类的成员</span></span><br><span class="line">            chineseTeacher1.name = <span class="string">"莫言"</span>;</span><br><span class="line">            chineseTeacher1.subject = <span class="string">"语文"</span>;</span><br><span class="line">            chineseTeacher1.SpeakName();<span class="comment">//我是老师莫言</span></span><br><span class="line">            chineseTeacher1.SpeakSubject();<span class="comment">//我是语文学科的老师</span></span><br><span class="line">            chineseTeacher1.Skill();<span class="comment">//天若有情天亦老，人间正道是沧桑！</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


<h2 id="访问修饰符的影响"><a href="#访问修饰符的影响" class="headerlink" title="访问修饰符的影响"></a>访问修饰符的影响</h2><table>
<thead>
<tr>
<th>访问修饰符</th>
<th>访问权限</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>public</td>
<td>公共</td>
<td>内外部访问</td>
</tr>
<tr>
<td>private</td>
<td>私有</td>
<td>内部访问</td>
</tr>
<tr>
<td>protected</td>
<td>保护</td>
<td>内部和子类访问</td>
</tr>
<tr>
<td>internal</td>
<td>内部的</td>
<td>只有在同一个程序集的文件中，内部类型或者是成员才可以访问</td>
</tr>
</tbody></table>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">    <span class="comment">//.......省略上述类的内容   </span></span><br><span class="line">    <span class="comment">//职工号</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">int</span> number;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            TeachingTeacher teacher2 = <span class="keyword">new</span> TeachingTeacher();</span><br><span class="line">            teacher2.name = <span class="string">"蔡徐坤"</span>;</span><br><span class="line">            <span class="comment">//teacher2.number = 1;</span></span><br><span class="line">            <span class="comment">//报错 number是protected的 不可以在外部访问 只能在内部和子类访问</span></span><br><span class="line">            teacher2.SpeakName();<span class="comment">//我是老师蔡徐坤</span></span><br><span class="line">            teacher2.subject = <span class="string">"唱跳rap篮球"</span>;</span><br><span class="line">            teacher2.SpeakSubject();<span class="comment">//我是唱跳rap篮球学科的老师</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="子类和父类的同名成员"><a href="#子类和父类的同名成员" class="headerlink" title="子类和父类的同名成员"></a>子类和父类的同名成员</h2><ul>
<li>C#中允许子类存在和父类同名的成员</li>
<li><del>但是 极不建议使用</del></li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">TeachingTeacher</span> : <span class="title">Teacher</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//.......省略上述类的内容</span></span><br><span class="line">    <span class="comment">//重新声明的姓名 会把父类中的name给覆盖掉 非常不建议这样子使用</span></span><br><span class="line">    <span class="comment">//public new string name;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-10"><a href="#总结-10" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">继承的基本语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 : 父类名</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">继承的特点：</font></strong></p>
<ul>
<li>单根性：只能继承一个父类</li>
<li>传递性：子类可以继承父类的父类…的所有内容</li>
<li>访问修饰符 对于成员的影响</li>
<li>极不建议使用 在子类中申明和父类同名的成员（以后学习了多态再来解决这个问题）</li>
</ul>
<h2 id="练习题-9"><a href="#练习题-9" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.写一个人类，人类中有姓名，年龄属性，有说话行为，战士类继承人类，有攻击行为</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 人 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//年龄属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> Age</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//说话行为</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Speak</span>(<span class="params"><span class="built_in">string</span> str</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(str);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//说话年龄行为 </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PersonSpeakAge</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Age = <span class="number">10</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">"我的年龄是"</span> + Age);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 战士 类 继承 人 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Warrior</span> : <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//攻击行为</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>(<span class="params">Warrior otherWarrior</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}打了{1}"</span>, Name, otherWarrior.Name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//说话年龄行为 </span></span><br><span class="line">    <span class="comment">//public void WarriorSpeakAge()</span></span><br><span class="line">    <span class="comment">//{</span></span><br><span class="line">    <span class="comment">//    //子类和外部 不能直接使用父类的私有的成员</span></span><br><span class="line">    <span class="comment">//    //Age = 10;//报错 父类的“Person.Age”不可访问，因为它是private的</span></span><br><span class="line">    <span class="comment">//    //Console.WriteLine("我的年龄是" + Age);//报错</span></span><br><span class="line">    <span class="comment">//}</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//主函数内</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Warrior w1 = <span class="keyword">new</span> Warrior();</span><br><span class="line">            w1.Name = <span class="string">"奥拉夫"</span>;</span><br><span class="line"></span><br><span class="line">            Warrior w2 = <span class="keyword">new</span> Warrior();</span><br><span class="line">            w2.Name = <span class="string">"奥特曼"</span>;</span><br><span class="line"></span><br><span class="line">            w1.Atk(w2);<span class="comment">//奥拉夫打了奥特曼</span></span><br><span class="line">            w1.Speak(<span class="string">"我是奥特曼"</span>);<span class="comment">//我是奥特曼</span></span><br><span class="line">            w1.PersonSpeakAge();<span class="comment">//我的年龄是10</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>子类（战士类）可以直接访问父类（人类）的公有成员（如 Name），但不能直接访问私有成员（如 Age）。<br>在子类中，可以使用父类的公有方法（如 Speak 和 PersonSpeakAge），但无法直接调用私有方法。<br>使用基类（父类）的行为和属性，实现了代码的复用。</p>
</blockquote>
<hr>
<h1 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h1><h2 id="里氏替换原则的基本概念"><a href="#里氏替换原则的基本概念" class="headerlink" title="里氏替换原则的基本概念"></a>里氏替换原则的基本概念</h2><ul>
<li>里氏替换原则是面向对象七大原则中最重要的原则<br><strong><font size="4">概念：</font></strong></li>
<li>任何父类出现的地方，子类都可以替代</li>
</ul>
<p><strong><font size="4">重点：</font></strong></p>
<ul>
<li>语法表现——父类容器装子类对象,因为子类对象包含了父类的所有内容</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>方便进行对象存储和管理</li>
</ul>
<h2 id="里氏替换原则的基本实现"><a href="#里氏替换原则的基本实现" class="headerlink" title="里氏替换原则的基本实现"></a>里氏替换原则的基本实现</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//游戏对象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayerAtk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"玩家攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//怪物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MonsterAtk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"怪物攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//Boss类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Boss</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BossAtk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Boss攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//里氏替换原则 用父类容器 装载子类对象</span></span><br><span class="line">            <span class="comment">// 父类 变量名 = new 子类();</span></span><br><span class="line">            GameObject player = <span class="keyword">new</span> Player();</span><br><span class="line">            GameObject monster = <span class="keyword">new</span> Monster();</span><br><span class="line">            GameObject boss = <span class="keyword">new</span> Boss();</span><br><span class="line"></span><br><span class="line">            GameObject[] objects = <span class="keyword">new</span> GameObject[] { <span class="keyword">new</span> Player(), <span class="keyword">new</span> Monster(), <span class="keyword">new</span> Boss() };</span><br><span class="line">            <span class="comment">//Player p = new GameObject();//报错 不能用子类容器装父类对象</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="is-和-as"><a href="#is-和-as" class="headerlink" title="is 和 as"></a><em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em></h2><p><strong><font size="4"> <em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em> 的基本概念：</font></strong></p>
<table>
<thead>
<tr>
<th align="center">关键字</th>
<th align="left">作用</th>
<th align="left">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><em><strong><font color="#B22222">is</font></strong></em></td>
<td align="left">判断一个对象是否是指定类对象</td>
<td align="left">bool  是为真 不是为假</td>
</tr>
<tr>
<td align="center"><em><strong><font color="#B22222">as</font></strong></em></td>
<td align="left">将一个对象转换为指定类对象</td>
<td align="left">指定类型对象（成功返回指定类型对象，失败返回null）</td>
</tr>
</tbody></table>
<p><strong><font size="4"> <em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em> 的基本语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类对象 <span class="keyword">is</span> 类名   该语句块 会有一个<span class="built_in">bool</span>返回值 <span class="literal">true</span>和<span class="literal">false</span></span><br><span class="line">类对象 <span class="keyword">as</span> 类名   该语句块 会有一个对象返回值 对象和<span class="literal">null</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">is和as的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    ..............省略上述类的内容</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">//用is判断容器是GameObject容器的变量player的真实类型是不是Player类</span></span><br><span class="line">            <span class="keyword">if</span> (player <span class="keyword">is</span> Player)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//用as将变量player转换为容器是Player的对象 用Player容器装</span></span><br><span class="line">               Player p1 = player <span class="keyword">as</span> Player;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//转换失败会返回空</span></span><br><span class="line">               Player p2 = monster <span class="keyword">as</span> Player;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//转换成功可以直接使用PlayerAtk()方法</span></span><br><span class="line">                p1.PlayerAtk();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//一步到位的写法</span></span><br><span class="line">                (player <span class="keyword">as</span> Player).PlayerAtk();</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//遍历objects数组</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; objects.Length; i++)</span><br><span class="line">            {</span><br><span class="line">               <span class="comment">//通过is和as具体判断，转换，转换成功后使用对应子类的内容</span></span><br><span class="line">               <span class="keyword">if</span> (objects[i] <span class="keyword">is</span> Player)</span><br><span class="line">                {</span><br><span class="line">                    (objects[i] <span class="keyword">as</span> Player).PlayerAtk();</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (objects[i] <span class="keyword">is</span> Monster)</span><br><span class="line">               {</span><br><span class="line">                (objects[i] <span class="keyword">as</span> Monster).MonsterAtk();</span><br><span class="line">               }</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (objects[i] <span class="keyword">is</span> Boss)</span><br><span class="line">               {</span><br><span class="line">               (objects[i] <span class="keyword">as</span> Boss).BossAtk();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-11"><a href="#总结-11" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>父类容器装子类对象</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>方便进行对象的存储和管理</li>
</ul>
<p><strong><font size="4">使用：</font></strong></p>
<ul>
<li><em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em> 用于判断和用于转换</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>不能用子类容器装父类对象</li>
</ul>
<h2 id="练习题-10"><a href="#练习题-10" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1. <em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em> 的区别</font></strong></p>
<ul>
<li><em><strong><font color="#B22222">is</font></strong></em> 用于判断一个类对象是否是某一个类型的对象，返回 bool。</li>
<li><em><strong><font color="#B22222">as</font></strong></em> 用于尝试将一个类对象转换成指定类型的对象，如果成功返回该类型的对象，否则返回 null。</li>
</ul>
<p><strong><font size="4">2.写一个Monster类，它派生出Boss和Goblin两个类，Boss有技能；小怪有攻击；随机生成10个怪，装载到数组中，遍历这个数组，调用他们的攻击方法，如果是boss就释放技能</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//怪物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//Boss类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Boss</span> : <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Skill</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"boss技能"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//哥布林类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Goblin</span> : <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"哥布林攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            <span class="comment">//随机变量</span></span><br><span class="line">            Random r = <span class="keyword">new</span> Random();</span><br><span class="line">            <span class="built_in">int</span> randomNum;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//声明怪物数组</span></span><br><span class="line">            Monster[] monsters = <span class="keyword">new</span> Monster[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">//随机生成10个怪物 装载到怪物数组中</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; monsters.Length; i++)</span><br><span class="line">            {</span><br><span class="line">                randomNum = r.Next(<span class="number">1</span>, <span class="number">101</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//各百分之50的机会生成boss和哥布林</span></span><br><span class="line">                <span class="keyword">if</span> (randomNum &lt; <span class="number">50</span>)</span><br><span class="line">                {</span><br><span class="line">                    monsters[i] = <span class="keyword">new</span> Boss();</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                {</span><br><span class="line">                    monsters[i] = <span class="keyword">new</span> Goblin();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//遍历10个怪物 执行对应子类的攻击方法</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; monsters.Length; i++)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">if</span> (monsters[i] <span class="keyword">is</span> Boss)</span><br><span class="line">                {</span><br><span class="line">                   (monsters[i] <span class="keyword">as</span> Boss).Skill();</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                {</span><br><span class="line">                    (monsters[i] <span class="keyword">as</span> Goblin).Atk();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">3.FPS游戏模拟</font></strong></p>
<blockquote>
<p>写一个玩家类，玩家可以拥有各种武器<br>现在有四种武器，冲锋枪，散弹枪，手枪，匕首<br>玩家默认拥有匕首<br>请在玩家类中写一个方法，可以拾取不同的武器替换自己拥有的武器</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//武器类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Weapon</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">//冲锋枪</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">SubmachineGun</span> : <span class="title">Weapon</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">//散弹枪</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">ShotGun</span> : <span class="title">Weapon</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">//手枪</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Pistol</span> : <span class="title">Weapon</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">//匕首</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Dagger</span> : <span class="title">Weapon</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//玩家现在持有的武器</span></span><br><span class="line">    <span class="keyword">private</span> Weapon nowHaveWeapon;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//玩家构造时 默认拥有匕首</span></span><br><span class="line">        nowHaveWeapon = <span class="keyword">new</span> Dagger();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拾取切换武器方法 传入武器 可以是子类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PickUp</span>(<span class="params">Weapon weapon</span>)</span></span><br><span class="line">    {</span><br><span class="line">        nowHaveWeapon = weapon;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            <span class="comment">//创建玩家</span></span><br><span class="line">            Player p = <span class="keyword">new</span> Player();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//创建冲锋枪</span></span><br><span class="line">            SubmachineGun s = <span class="keyword">new</span> SubmachineGun();</span><br><span class="line">            <span class="comment">//拾取冲锋枪</span></span><br><span class="line">            p.PickUp(s);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//创建散弹枪</span></span><br><span class="line">            ShotGun sg = <span class="keyword">new</span> ShotGun();</span><br><span class="line">            <span class="comment">//拾取散弹枪</span></span><br><span class="line">            p.PickUp(sg);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>




<h1 id="继承中的构造函数"><a href="#继承中的构造函数" class="headerlink" title="继承中的构造函数"></a>继承中的构造函数</h1><p><strong><font size="4">知识回顾：</font></strong><br><strong><font size="3">构造函数的作用：</font></strong></p>
<ul>
<li>实例化对象时调用的函数</li>
<li>主要用来初始化成员变量</li>
<li>每个类 都会有一个默认的无参构造函数</li>
</ul>
<p><strong><font size="3">构造函数的语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 类名()</span><br><span class="line">{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">构造函数的特点：</font></strong></p>
<ul>
<li>不写返回值</li>
<li>函数名和类名相同</li>
<li>访问修饰符根据需求而定,一般为public</li>
<li>构造函数可以重载</li>
<li>可以用this语法重用代码</li>
</ul>
<p><strong><font size="3">注意：</font></strong></p>
<ul>
<li>有参构造会顶掉默认的无参构造</li>
<li>如想保留无参构造需重载出来</li>
</ul>
<p><strong><font size="3">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> testI;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> testStr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span>()</span> { }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.testI = i;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span>(<span class="params"><span class="built_in">int</span> i, <span class="built_in">string</span> str</span>) : <span class="title">this</span>(<span class="params">i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.testStr = str;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="继承中的构造函数-1"><a href="#继承中的构造函数-1" class="headerlink" title="继承中的构造函数"></a>继承中的构造函数</h2><p><strong><font size="4">特点：</font></strong></p>
<ul>
<li>当申明一个子类对象时，先执行父类的构造函数，再执行子类的构造函数</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>父类的无参构造很重要</li>
<li>子类可以通过 <em><strong><font color="#4169E1">base</font></strong></em> 关键字代表父类调用父类构造</li>
</ul>
<h2 id="继承中构造函数的执行顺序"><a href="#继承中构造函数的执行顺序" class="headerlink" title="继承中构造函数的执行顺序"></a>继承中构造函数的执行顺序</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父类的父类的构造——&gt;。。。父类构造——&gt;。。。——&gt;子类构造</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//游戏对象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GameObject</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"GameObject的构造函数"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Player的构造函数"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//主玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">MainPlayer</span> : <span class="title">Player</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MainPlayer</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"MainPlayer的构造函数"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            MainPlayer mainplayer = <span class="keyword">new</span> MainPlayer();</span><br><span class="line">            <span class="comment">//GameObject的构造函数</span></span><br><span class="line">            <span class="comment">//Player的构造函数</span></span><br><span class="line">            <span class="comment">//MainPlayer的构造函数</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="父类的无参构造函数的重要性"><a href="#父类的无参构造函数的重要性" class="headerlink" title="父类的无参构造函数的重要性"></a>父类的无参构造函数的重要性</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//当父类无参构造函数被顶掉或者不存在的时候</span></span><br><span class="line">    <span class="comment">//子类会报错，因为Son son = new Son(); 会默认调用父类的无参构造函数</span></span><br><span class="line">    <span class="comment">//public Father() { }</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Father</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Father的一个参数的构造"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//子类内</span></span><br><span class="line">    <span class="comment">//通过base调用Father的一个参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Son</span>(<span class="params"><span class="built_in">int</span> i</span>) : <span class="title">base</span>(<span class="params">i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Son的一个参数的构造"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过this调用Son的一个参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Son</span>(<span class="params"><span class="built_in">int</span> i, <span class="built_in">string</span> str</span>) : <span class="title">this</span>(<span class="params">i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Son的两个参数的构造"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//Son son = new Son();//报错，父类无参构造函数被顶掉或者不存在</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="通过base调用指定父类构造"><a href="#通过base调用指定父类构造" class="headerlink" title="通过base调用指定父类构造"></a>通过base调用指定父类构造</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//子类内</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过base调用Father的一个参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Son</span>(<span class="params"><span class="built_in">int</span> i</span>) : <span class="title">base</span>(<span class="params">i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Son的一个参数的构造"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过this调用Son的一个参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Son</span>(<span class="params"><span class="built_in">int</span> i, <span class="built_in">string</span> str</span>) : <span class="title">this</span>(<span class="params">i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Son的两个参数的构造"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            Son son = <span class="keyword">new</span> Son(<span class="number">1</span>, <span class="string">"123"</span>);</span><br><span class="line">            <span class="comment">//Father的一个参数的构造</span></span><br><span class="line">            <span class="comment">//Son的一个参数的构造</span></span><br><span class="line">            <span class="comment">//Son的两个参数的构造</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-12"><a href="#总结-12" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">继承中的构造函数的特点：</font></strong></p>
<ul>
<li>执行顺序是先执行父类的构造函数，再执行子类的，从老祖宗开始，依次一代一代向下执行</li>
<li>父类中的无参构造函数很重要，如果被顶掉，子类中就无法默认调用无参构造了</li>
</ul>
<p><strong><font size="4">子类使用父类构造函数时报错的解决方法：</font></strong></p>
<ul>
<li>始终保持声明一个无参构造</li>
<li>通过 <em><strong><font color="#4169E1">base</font></strong></em> 关键字调用指定父类的构造</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>区分 <em><strong><font color="#4169E1">this</font></strong></em> 和 <em><strong><font color="#4169E1">base</font></strong></em> 的区别， <em><strong><font color="#4169E1">base</font></strong></em> 是调用父类，<em><strong><font color="#4169E1">this</font></strong></em> 是调用自己</li>
</ul>
<h2 id="练习题-11"><a href="#练习题-11" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.打工人基类及其派生类</font></strong></p>
<blockquote>
<p>程序员、策划、美术分别继承打工人<br>请用继承中的构造函数这个知识点<br>实例化3个对象，分别是程序员、策划、美术</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//打工人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Worker</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> type;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> content;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Worker</span>(<span class="params"><span class="built_in">string</span> type, <span class="built_in">string</span> content</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.type = type;</span><br><span class="line">        <span class="keyword">this</span>.content = content;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Work</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}{1}"</span>, type, content);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//程序员类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Programmer</span> : <span class="title">Worker</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Programmer</span>() : <span class="title">base</span>(<span class="params"><span class="string">"程序员"</span>, <span class="string">"编程"</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//策划类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Plan</span> : <span class="title">Worker</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Plan</span>() : <span class="title">base</span>(<span class="params"><span class="string">"策划"</span>, <span class="string">"设计游戏"</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//美术类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Art</span> : <span class="title">Worker</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Art</span>() : <span class="title">base</span>(<span class="params"><span class="string">"美术"</span>, <span class="string">"画画"</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Programmer p = <span class="keyword">new</span> Programmer();</span><br><span class="line">            p.Work();</span><br><span class="line">            <span class="comment">//程序员编程</span></span><br><span class="line"></span><br><span class="line">            Plan p2 = <span class="keyword">new</span> Plan();</span><br><span class="line">            p2.Work();</span><br><span class="line">            <span class="comment">//策划设计游戏</span></span><br><span class="line"></span><br><span class="line">            Art p3 = <span class="keyword">new</span> Art();</span><br><span class="line">            p3.Work();</span><br><span class="line">            <span class="comment">//美术画画</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>在这里，通过构造函数的继承，每个派生类在实例化时就会调用基类的构造函数，从而初始化特征属性。这样，通过继承和构造函数的组合，可以更方便地创建具有相似特征和行为的类。</p>
</blockquote>
<hr>
<h1 id="万物之父和-装箱拆箱"><a href="#万物之父和-装箱拆箱" class="headerlink" title="万物之父和 装箱拆箱"></a>万物之父和 <em><strong><font color="#6B8E23">装箱拆箱</font></strong></em></h1><h2 id="里氏替换原则知识点回顾："><a href="#里氏替换原则知识点回顾：" class="headerlink" title="里氏替换原则知识点回顾："></a>里氏替换原则知识点回顾：</h2><p><strong><font size="4">概念：</font></strong></p>
<ul>
<li>父类容器装子类对象</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>方便进行对象存储和管理</li>
</ul>
<p><strong><font size="4">使用：</font></strong></p>
<ul>
<li><em><strong><font color="#B22222">is</font></strong></em> 和 <em><strong><font color="#B22222">as</font></strong></em></li>
</ul>
<p><strong><font size="4">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父类 可以装子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">       Father father1 = <span class="keyword">new</span> Son();</span><br><span class="line">       <span class="comment">//is as 判断真正类型 强转成子类</span></span><br><span class="line">       <span class="keyword">if</span> (father1 <span class="keyword">is</span> Son)</span><br><span class="line">        {</span><br><span class="line">            (father1 <span class="keyword">as</span> Son).Speak();</span><br><span class="line">        }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="万物之父"><a href="#万物之父" class="headerlink" title="万物之父"></a>万物之父</h2><p><strong><font size="4">万物之父的关键字：</font></strong></p>
<ul>
<li><em><strong><font color="#9400D3">object</font></strong></em> ：<em><strong><font color="#9400D3">object</font></strong></em> 是 <em><strong><font color="#9400D3">Object</font></strong></em> 的别名，两者都可以使用</li>
</ul>
<p><strong><font size="4">万物之父的概念：</font></strong></p>
<ul>
<li><em><strong><font color="#9400D3">object</font></strong></em> 是所有类型的基类，它是一个类（引用类型）</li>
</ul>
<p><strong><font size="4">万物之父的作用：</font></strong></p>
<ul>
<li>利用里氏替换原则，用 <em><strong><font color="#9400D3">object</font></strong></em> 容器装所有对象</li>
<li>可以用来表示不确定类型，作为函数参数类型</li>
</ul>
<p><strong><font size="4">万物之父的使用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        <span class="comment">//引用类型</span></span><br><span class="line">        <span class="built_in">object</span> object1 = <span class="keyword">new</span> Son();</span><br><span class="line">        <span class="comment">//用is as 来判断和转换即可</span></span><br><span class="line">        <span class="keyword">if</span> (object1 <span class="keyword">is</span> Son)</span><br><span class="line">        {</span><br><span class="line">            (object1 <span class="keyword">as</span> Son).Speak();</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//值类型</span></span><br><span class="line">        <span class="built_in">object</span> object2 = <span class="number">1f</span>;</span><br><span class="line">        <span class="comment">//用括号强转</span></span><br><span class="line">        <span class="built_in">float</span> float1 = (<span class="built_in">float</span>)object2;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//特殊的string类型</span></span><br><span class="line">        <span class="built_in">object</span> object3 = <span class="string">"123123"</span>;</span><br><span class="line">        <span class="comment">//两种强转方式都可以</span></span><br><span class="line">        <span class="built_in">string</span> string1 = object3 <span class="keyword">as</span> <span class="built_in">string</span>;</span><br><span class="line">        <span class="built_in">string</span> string2 = object3.ToString();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//数组</span></span><br><span class="line">        <span class="built_in">object</span> objectArray1 = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="comment">//两种强转方式都可以</span></span><br><span class="line">        <span class="built_in">int</span>[] intArray1 = objectArray1 <span class="keyword">as</span> <span class="built_in">int</span>[];</span><br><span class="line">        <span class="built_in">int</span>[] intArray2 = (<span class="built_in">int</span>[])objectArray1;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="装箱-和-拆箱"><a href="#装箱-和-拆箱" class="headerlink" title="装箱 和 拆箱"></a><strong><font color="#6B8E23">装箱</font></strong> 和 <strong><font color="#6B8E23">拆箱</font></strong></h2><p><strong><font size="4"> <strong><font color="#6B8E23">装箱拆箱</font></strong> 的发生条件：</font></strong></p>
<ul>
<li>用 <em><strong><font color="#9400D3">object</font></strong></em> 存值类型（装箱）</li>
</ul>
<p><strong><font size="4">例如：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> object2 = <span class="number">1f</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>再把 <em><strong><font color="#9400D3">object</font></strong></em> 转为值类型（拆箱）</li>
</ul>
<p><strong><font size="4">例如：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span> float1 = (<span class="built_in">float</span>)object2;</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <strong><font color="#6B8E23">装箱拆箱</font></strong> 的概念：</font></strong></p>
<ul>
<li><strong><font color="#6B8E23">装箱</font></strong>：把值类型用引用类型存储，栈内存会迁移到堆内存中</li>
<li><strong><font color="#6B8E23">拆箱</font></strong>：把引用类型存储的值类型取出来，堆内存会迁移到栈内存中</li>
</ul>
<p><strong><font size="4"> <strong><font color="#6B8E23">装箱拆箱</font></strong> 的优缺点：</font></strong></p>
<ul>
<li>优点：不确定类型时可以方便参数的存储和传递</li>
<li>缺点：存在内存迁移，增加性能消耗</li>
</ul>
<p><strong><font size="4"> <strong><font color="#6B8E23">装箱拆箱</font></strong> 的实例：</font></strong></p>
<blockquote>
<p>测试函数：变长参数加上万物之父，可以传任意类型、任意长度参数</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//测试函数 变长参数加上万物之父 可以传任意类型 任意长度参数</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">TestFun</span>(<span class="params"><span class="keyword">params</span> <span class="built_in">object</span>[] array</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">  {</span><br><span class="line">        <span class="comment">//装箱</span></span><br><span class="line">        <span class="built_in">object</span> v = <span class="number">3</span>;<span class="comment">//值类型用引用类型存储，这个3会从栈上移动到堆上</span></span><br><span class="line">        <span class="comment">//拆箱</span></span><br><span class="line">        <span class="built_in">int</span> intValue = (<span class="built_in">int</span>)v;<span class="comment">//引用类型存储的值类型取出来，这个3会回到栈上</span></span><br><span class="line">        <span class="comment">//可以传任意类型 任意长度参数</span></span><br><span class="line">        TestFun(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4f</span>, <span class="number">34.5</span>, <span class="string">"123123"</span>, <span class="keyword">new</span> Son());</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="总结-13"><a href="#总结-13" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">万物之父：</font></strong> <em><strong><font color="#9400D3">object</font></strong></em></p>
<ul>
<li>基于里氏替换原则的，可以用 <em><strong><font color="#9400D3">object</font></strong></em> 容器装载一切类型的变量</li>
<li>它是所有类型的基类</li>
</ul>
<p><strong><font size="4"> <strong><font color="#6B8E23">装箱拆箱</font></strong> ：</font></strong></p>
<ul>
<li>用 <em><strong><font color="#9400D3">object</font></strong></em> 存值类型（装箱）</li>
<li>把 <em><strong><font color="#9400D3">object</font></strong></em> 里面存的值转换出来（拆箱）</li>
</ul>
<p><strong><font size="4">好处：</font></strong></p>
<ul>
<li>不确定类型时可以用，方便参数存储和传递</li>
</ul>
<p><strong><font size="4">坏处：</font></strong></p>
<ul>
<li>存在内存的迁移，增加了性能消耗</li>
</ul>
<p><strong><font size="4">建议：</font></strong></p>
<ul>
<li>不是不用，尽量少用</li>
</ul>
<h2 id="练习题-12"><a href="#练习题-12" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.口头描述装箱拆箱</font></strong></p>
<table>
<thead>
<tr>
<th align="center">术语</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong><font color="#6B8E23">装箱（Boxing）</font></strong></td>
<td>在C#中，装箱是指将值类型（value type）转换为引用类型（reference type）。这通常发生在将值类型赋值给 <em><strong><font color="#9400D3">object</font></strong></em> 类型或System.ValueType类型的变量时。</td>
</tr>
<tr>
<td align="center"><strong><font color="#6B8E23">拆箱（Unboxing）</font></strong></td>
<td>拆箱是指将引用类型（reference type）转换为值类型（value type）。这通常发生在将装箱后的对象转换回原始值类型时。</td>
</tr>
</tbody></table>
<blockquote>
<p><strong><font size="4"><font color="#B22222">注意事项：</font></font></strong><br><strong><font color="#F4A460">发生条件：</font> 装箱发生在将值类型转换为引用类型的过程中，拆箱则相反。</strong><br><strong><font color="#F4A460">好处：</font> 装箱允许在不确定具体类型时使用object来存储任何类型的值，方便存储和传递。</strong><br><strong><font color="#F4A460">坏处：</font> 装箱和拆箱都涉及内存迁移，会增加性能消耗。因此，在对性能要求较高的情况下，需要谨慎使用装箱和拆箱操作。</strong></p>
</blockquote>
<p><strong><font size="4">2.用代码描述装箱拆箱</font></strong><br><strong><font size="3"> <strong><font color="#6B8E23">装箱</font></strong>： </font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 装箱</span></span><br><span class="line">    <span class="built_in">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">object</span> obj = i; <span class="comment">// 值类型用引用类型来存储，栈内存迁移到堆内存中</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3"> <strong><font color="#6B8E23">拆箱</font></strong>： </font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 拆箱</span></span><br><span class="line">    i = (<span class="built_in">int</span>)obj; <span class="comment">// 把引用存储的值类型取出来放入值对象中，堆内存迁移到了栈内存中</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="密封类"><a href="#密封类" class="headerlink" title="密封类"></a>密封类</h1><h2 id="密封类的详解"><a href="#密封类的详解" class="headerlink" title="密封类的详解"></a>密封类的详解</h2><p><strong><font size="4">密封类的基本概念：</font></strong></p>
<ul>
<li>密封类是使用 <em><strong><font color="#4F94CD">sealed</font></strong></em> 密封关键字修饰的类</li>
<li>作用：让类无法再被继承</li>
<li>通俗解释：让类”结扎”</li>
</ul>
<p><strong><font size="4">密封类的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父类 加了 sealed 被结扎了</span></span><br><span class="line"><span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 父类的成员和方法</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类报错 加了 sealed 的父类不能再子类被继承 </span></span><br><span class="line"><span class="comment">//class Son : Father</span></span><br><span class="line"><span class="comment">//{</span></span><br><span class="line">    <span class="comment">// 子类的成员和方法</span></span><br><span class="line"><span class="comment">//}</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">密封类的作用：</font></strong></p>
<ul>
<li>在面向对象程序的设计中，密封类的主要作用是不允许最底层子类被继承</li>
<li>可以保证程序的规范性、安全性</li>
<li>目前对于大家来说可能用处不大</li>
<li>随着大家的成长，以后制作复杂系统或者程序框架时便能慢慢体会到密封的作用</li>
</ul>
<h2 id="总结-14"><a href="#总结-14" class="headerlink" title="总结"></a>总结</h2><ul>
<li>关键字：<em><strong><font color="#4F94CD">sealed</font></strong></em></li>
<li>作用：让类无法再被继承</li>
<li>意义：加强面向对象程序设计的规范性、结构性、安全性</li>
</ul>
<h2 id="练习题-13"><a href="#练习题-13" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.定义一个载具类，速度，最大速度，可乘人数，司机和乘客等，有上车，下车，行驶，车祸等方法，用载具类声明一个对象，并将若干人装载上车</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 司机类，继承自Person</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Driver</span> : <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 乘客类，继承自Person</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Passenger</span> : <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 汽车类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Car</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 速度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> speed;</span><br><span class="line">    <span class="comment">// 最大速度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> maxSpeed;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 汽车当前人数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> personNumber;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 人的数组，有司机和乘客</span></span><br><span class="line">    <span class="keyword">public</span> Person[] persons;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 传入速度，最大速度，汽车人数上限</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Car</span>(<span class="params"><span class="built_in">int</span> speed, <span class="built_in">int</span> maxSpeed, <span class="built_in">int</span> personNumberMax</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.speed = speed;</span><br><span class="line">        <span class="keyword">this</span>.maxSpeed = maxSpeed;</span><br><span class="line">        <span class="keyword">this</span>.personNumber = <span class="number">0</span>;</span><br><span class="line">        persons = <span class="keyword">new</span> Person[personNumberMax];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 上车</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GetOnCar</span>(<span class="params">Person p</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 判断是否超载</span></span><br><span class="line">        <span class="keyword">if</span> (personNumber &gt;= persons.Length)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"满载"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 上车逻辑</span></span><br><span class="line">        persons[personNumber] = p;</span><br><span class="line">        ++personNumber;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 下车</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GetOffCar</span>(<span class="params">Person p</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; persons.Length; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 判断当前位置的乘客是否为空，为空的话说明都没人了，直接break就行</span></span><br><span class="line">            <span class="keyword">if</span> (persons[i] == <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 如果找到了对应的乘客</span></span><br><span class="line">            <span class="keyword">if</span> (persons[i] == p)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">// 后面的乘客依次往前移动位置</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> j = i; j &lt; personNumber - <span class="number">1</span>; j++)</span><br><span class="line">                {</span><br><span class="line">                    persons[j] = persons[j + <span class="number">1</span>];</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 最后一个位置清空</span></span><br><span class="line">                persons[personNumber - <span class="number">1</span>] = <span class="literal">null</span>;</span><br><span class="line">                --personNumber;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 行驶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 行驶逻辑</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 车祸</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Boom</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 车祸逻辑</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Car car1 = <span class="keyword">new</span> Car(<span class="number">10</span>, <span class="number">20</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">            Driver driver1 = <span class="keyword">new</span> Driver();</span><br><span class="line">            car1.GetOnCar(driver1);</span><br><span class="line"></span><br><span class="line">            Passenger passenger1 = <span class="keyword">new</span> Passenger();</span><br><span class="line">            car1.GetOnCar(passenger1);</span><br><span class="line">            Passenger passenger2 = <span class="keyword">new</span> Passenger();</span><br><span class="line">            car1.GetOnCar(passenger2);</span><br><span class="line">            Passenger passenger3 = <span class="keyword">new</span> Passenger();</span><br><span class="line">            car1.GetOnCar(passenger3);</span><br><span class="line"></span><br><span class="line">            car1.GetOffCar(passenger2);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="virtual-override-base（多态）"><a href="#virtual-override-base（多态）" class="headerlink" title="virtual override base（多态）"></a><em><strong><font color="#4F94CD">virtual</font></strong></em> <em><strong><font color="#4F94CD">override</font></strong></em> <em><strong><font color="#4169E1">base</font></strong></em>（多态）</h1><p><strong><font size="4">多态的概念：</font></strong></p>
<ul>
<li>多态按字面的意思就是“多种状态”</li>
<li>让继承同一父类的子类们 在执行相同方法时有不同的表现（状态）</li>
</ul>
<p><strong><font size="4"> 主要目的: </font></strong></p>
<ul>
<li>同一父类的对象 执行相同行为（方法）有不同的表现</li>
</ul>
<p><strong><font size="4"> 解决的问题: </font></strong></p>
<ul>
<li>让同一个对象有唯一行为的特征</li>
</ul>
<p><strong><font size="4"> vob 三个关键字: </font></strong></p>
<ul>
<li>v: <em><strong><font color="#4F94CD">virtual</font></strong></em> (虚函数)</li>
<li>o: <em><strong><font color="#4F94CD">override</font></strong></em> (重写)</li>
<li>b: <em><strong><font color="#4169E1">base</font></strong></em> (父类)</li>
</ul>
<h2 id="没有多态时遇到的问题"><a href="#没有多态时遇到的问题" class="headerlink" title="没有多态时遇到的问题"></a>没有多态时遇到的问题</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//没有多态时 同一个对象可能有不同的行为特征 给人感觉不是同一个对象</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SpeakName</span>()</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Father的说话"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//没学多态前 子类只能覆盖掉父类的同名方法来实现自己的同名方法</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">SpeakName</span>()</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Son的说话"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            Father son1 = <span class="keyword">new</span> Son();</span><br><span class="line">            son1.SpeakName();               <span class="comment">// 输出：Father的说话</span></span><br><span class="line">            (son1 <span class="keyword">as</span> Son).SpeakName();      <span class="comment">// 输出：Son的说话</span></span><br><span class="line">        }</span><br><span class="line">    }   </span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>没有多态时，同一个对象可能有不同的行为特征，给人感觉不是同一个对象<br>想让对象有唯一的行为特征，要用到多态</p>
</blockquote>
<h2 id="多态的使用"><a href="#多态的使用" class="headerlink" title="多态的使用"></a>多态的使用</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GameObject</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Attack</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"游戏对象进行攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span>(<span class="params"><span class="built_in">string</span> name</span>) : <span class="title">base</span>(<span class="params">name</span>)</span></span><br><span class="line">    {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Attack</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">base</span>.Attack();</span><br><span class="line">        Console.WriteLine(<span class="string">"玩家进行攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span> : <span class="title">GameObject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monster</span>(<span class="params"><span class="built_in">string</span> name</span>) : <span class="title">base</span>(<span class="params">name</span>)</span></span><br><span class="line">    {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Attack</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"怪物进行攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            GameObject player1 = <span class="keyword">new</span> Player(<span class="string">"韬老狮"</span>);</span><br><span class="line">            player1.Attack();                           <span class="comment">// 输出：游戏对象进行攻击 玩家进行攻击</span></span><br><span class="line">            (player1 <span class="keyword">as</span> Player).Attack();               <span class="comment">// 输出：游戏对象进行攻击 玩家进行攻击</span></span><br><span class="line"></span><br><span class="line">            GameObject monster1 = <span class="keyword">new</span> Monster(<span class="string">"小怪物"</span>);</span><br><span class="line">            monster1.Attack();                          <span class="comment">// 输出：怪物进行攻击</span></span><br><span class="line">            (monster1 <span class="keyword">as</span> Monster).Attack();             <span class="comment">// 输出：怪物进行攻击</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-15"><a href="#总结-15" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">多态：</font></strong></p>
<ul>
<li>让同一类型的对象，在执行相同行为时有不同的表现</li>
</ul>
<p><strong><font size="4">解决的问题：</font></strong></p>
<ul>
<li>让同一对象有唯一的行为特征</li>
</ul>
<p><strong><font size="4">vob 特点：</font></strong></p>
<ul>
<li>v （<em><strong><font color="#4F94CD">virtual</font></strong></em>）和 o（<em><strong><font color="#4F94CD">override</font></strong></em>）一定是结合使用的，来实现多态</li>
<li>b （<em><strong><font color="#4169E1">base</font></strong></em>）是否使用根据实际需求，保留父类行为</li>
</ul>
<h2 id="练习题-14"><a href="#练习题-14" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.真的鸭子嘎嘎叫，木头鸭子吱吱叫，橡皮鸭子唧唧叫，用多态实现</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 鸭子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Duck</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"嘎嘎叫"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 木头鸭子类，继承自Duck</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">WoodDuck</span> : <span class="title">Duck</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"吱吱叫"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 橡皮鸭子类，继承自Duck</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">RubberDuck</span> : <span class="title">Duck</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"唧唧叫"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Duck duck = <span class="keyword">new</span> Duck();</span><br><span class="line">            duck.Speak();<span class="comment">//嘎嘎叫</span></span><br><span class="line"></span><br><span class="line">            WoodDuck woodDuck = <span class="keyword">new</span> WoodDuck();</span><br><span class="line">            woodDuck.Speak();<span class="comment">//吱吱叫</span></span><br><span class="line"></span><br><span class="line">            RubberDuck rubberDuck = <span class="keyword">new</span> RubberDuck();</span><br><span class="line">            rubberDuck.Speak();<span class="comment">//唧唧叫</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.所有员工9点打卡，但经理十一点打卡，程序员不打卡，用多态实现</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 员工类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Staff</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PunchTheClock</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"9点打卡"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 经理类，继承自Staff</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Manager</span> : <span class="title">Staff</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">PunchTheClock</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"11点打卡"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 程序员类，继承自Staff</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Programmer</span> : <span class="title">Staff</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">PunchTheClock</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"老子不打卡"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Staff staff = <span class="keyword">new</span> Staff();</span><br><span class="line">            staff.PunchTheClock();<span class="comment">//9点打卡</span></span><br><span class="line"></span><br><span class="line">            Manager manager = <span class="keyword">new</span> Manager();</span><br><span class="line">            manager.PunchTheClock();<span class="comment">//11点打卡</span></span><br><span class="line"></span><br><span class="line">            Programmer programmer = <span class="keyword">new</span> Programmer();</span><br><span class="line">            programmer.PunchTheClock();<span class="comment">//老子不打卡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">3.创建一个图形类，有求面积和周长两个方法</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图形类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形类，继承自Graph</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Rect</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> w;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> h;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Rect</span>(<span class="params"><span class="built_in">float</span> w, <span class="built_in">float</span> h</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.w = w;</span><br><span class="line">        <span class="keyword">this</span>.h = h;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * (w + h);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> w * h;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正方形类，继承自Graph</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Square</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> l;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Square</span>(<span class="params"><span class="built_in">float</span> l</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.l = l;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span> * l;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> l * l;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆形类，继承自Graph</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Circular</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> r;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Circular</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.r = r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * <span class="number">3.14f</span> * r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14f</span> * r * r;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Rect rect = <span class="keyword">new</span> Rect(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">            Console.WriteLine(rect.GetArea());<span class="comment">//6</span></span><br><span class="line">            Console.WriteLine(rect.GetLength());<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">            Square square = <span class="keyword">new</span> Square(<span class="number">4</span>);</span><br><span class="line">            Console.WriteLine(square.GetArea());<span class="comment">//16</span></span><br><span class="line">            Console.WriteLine(square.GetLength());<span class="comment">//16</span></span><br><span class="line"></span><br><span class="line">            Circular circular = <span class="keyword">new</span> Circular(<span class="number">2</span>);</span><br><span class="line">            Console.WriteLine(circular.GetArea());<span class="comment">//12.56</span></span><br><span class="line">            Console.WriteLine(circular.GetLength());<span class="comment">//12.56</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="抽象类和抽象方法"><a href="#抽象类和抽象方法" class="headerlink" title="抽象类和抽象方法"></a>抽象类和抽象方法</h1><h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p> <strong><font size="4">抽象类的概念：</font></strong></p>
<ul>
<li>被抽象关键字 <em><strong><font color="#4F94CD">abstract</font></strong></em> 修饰的类</li>
</ul>
<p> <strong><font size="4">抽象类的特点：</font></strong></p>
<ul>
<li>1.不能被实例化的类</li>
<li>2.可以包含抽象方法</li>
<li>3.继承抽象类必须重写其抽象方法</li>
</ul>
<p><strong><font size="4">抽象类的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Thing</span><span class="comment">//抽象类 不能被new出来</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 可以在抽象类中写抽象方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">AbstractMethod</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Water</span> : <span class="title">Thing</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">AbstractMethod</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 实现抽象方法的具体逻辑</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 抽象类不能被实例化</span></span><br><span class="line">            <span class="comment">// Thing thing = new Thing();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 但是，可以遵循里氏替换原则，用父类容器装子类</span></span><br><span class="line">            Thing water = <span class="keyword">new</span> Water();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>抽象类不能被实例化： <del>Thing thing = new Thing();</del></strong><br><strong>但是，可以遵循里氏替换原则，用父类容器装子类</strong></p>
</blockquote>
<h2 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h2><p><strong><font size="4">抽象方法：</font></strong></p>
<ul>
<li>又叫 抽象函数和纯虚方法 是用 <em><strong><font color="#4F94CD">abstract</font></strong></em> 关键字修饰的方法</li>
</ul>
<p><strong><font size="4">抽象方法的特点：</font></strong></p>
<ul>
<li>1.只能在抽象类中申明</li>
<li>2.没有方法体</li>
<li>3.不能是私有的</li>
<li>4.继承后必须实现 用 <em><strong><font color="#4F94CD">override</font></strong></em> 重写</li>
</ul>
<p><strong><font size="4">抽象方法的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Fruits</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 抽象方法，没有方法体，不能是私有的，继承后必须实现</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">AbstractTest</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 虚方法，可以选择是否写逻辑</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">VirtualTest</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 可以选择是否写逻辑</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Apple</span> : <span class="title">Fruits</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 继承后必须实现，用 override 重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">AbstractTest</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 具体实现抽象方法的逻辑</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 虚方法是可以由子类选择性实现的</span></span><br><span class="line">    <span class="comment">// 抽象方法必须要实现，虚方法可以选择是否实现</span></span><br><span class="line">    <span class="comment">// 比如 VirtualTest() 可以不被重写，也可以重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">VirtualTest</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 具体实现虚方法的逻辑</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">SuperApple</span> : <span class="title">Apple</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 虚方法和抽象方法都可以被子类无限地去重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">AbstractTest</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">base</span>.AbstractTest();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">VirtualTest</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">base</span>.VirtualTest();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>抽象方法，没有方法体，不能是私有的，继承后必须实现，用 <em><strong><font color="#4F94CD">override</font></strong></em> 重写</strong><br><strong>虚方法，可以选择是否写逻辑</strong><br><strong>虚方法是可以由子类选择性实现的，抽象方法必须要实现，虚方法可以选择是否实现</strong><br><strong>虚方法和抽象方法都可以被子类无限地去重写</strong></p>
</blockquote>
<h2 id="总结-16"><a href="#总结-16" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">抽象类：</font></strong></p>
<ul>
<li>被 <em><strong><font color="#4F94CD">abstract</font></strong></em> 修饰的类，不能被实例化，可以包含抽象方法。</li>
</ul>
<p><strong><font size="4">抽象方法：</font></strong></p>
<ul>
<li>没有方法体的纯虚方法，继承后必须实现。</li>
</ul>
<p><strong><font size="4">注意：如何选择普通类还是抽象类？</font></strong></p>
<ul>
<li>不希望被实例化的对象，相对比较抽象的类可以使用抽象类。</li>
<li>父类中的行为不太需要被实现，只希望子类去定义具体规则的，可以选择抽象类，然后使用其中的抽象方法来定义规则。</li>
</ul>
<p><strong><font size="4">抽象类和抽象方法的作用：</font></strong></p>
<ul>
<li>在整体框架设计时使用。</li>
</ul>
<h2 id="练习题-15"><a href="#练习题-15" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.写一个动物抽象类，写三个子类。实现人叫，狗叫，猫叫</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象动物类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 抽象方法 叫</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"你好"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 狗类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"汪汪"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 猫类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Cat</span> : <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"喵喵"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Animal person = <span class="keyword">new</span> Person();</span><br><span class="line">            person.Speak();<span class="comment">//你好</span></span><br><span class="line"></span><br><span class="line">            Dog dog = <span class="keyword">new</span> Dog();</span><br><span class="line">            dog.Speak();<span class="comment">//汪汪</span></span><br><span class="line"></span><br><span class="line">            Animal cat = <span class="keyword">new</span> Cat();</span><br><span class="line">            cat.Speak();<span class="comment">//喵喵</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">2.使用抽象类和抽象方法</font></strong></p>
<blockquote>
<p><strong>创建一个图形类，有求面积和周长两个方法</strong><br><strong>创建矩形类，正方形类，圆形类继承图形类</strong><br><strong>实例化矩形、正方形、圆形对象求面积和周长</strong></p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Rect</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> w;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> h;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Rect</span>(<span class="params"><span class="built_in">int</span> w, <span class="built_in">int</span> h</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.w = w;</span><br><span class="line">        <span class="keyword">this</span>.h = h;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * (w + h);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> w * h;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正方形类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Square</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> l;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Square</span>(<span class="params"><span class="built_in">int</span> l</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.l = l;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span> * l;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> l * l;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆形类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Circular</span> : <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> r;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Circular</span>(<span class="params"><span class="built_in">float</span> r</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.r = r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetLength</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * <span class="number">3.14f</span> * r;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">float</span> <span class="title">GetArea</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3.14f</span> * r * r;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    { </span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Rect rect = <span class="keyword">new</span> Rect(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">            Console.WriteLine(rect.GetArea());<span class="comment">//6</span></span><br><span class="line">            Console.WriteLine(rect.GetLength());<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">            Square square = <span class="keyword">new</span> Square(<span class="number">4</span>);</span><br><span class="line">            Console.WriteLine(square.GetArea());<span class="comment">//16</span></span><br><span class="line">            Console.WriteLine(square.GetLength());<span class="comment">//16</span></span><br><span class="line"></span><br><span class="line">            Circular circular = <span class="keyword">new</span> Circular(<span class="number">2</span>);</span><br><span class="line">            Console.WriteLine(circular.GetArea());<span class="comment">//12.56</span></span><br><span class="line">            Console.WriteLine(circular.GetLength());<span class="comment">//12.56</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="接口的详解"><a href="#接口的详解" class="headerlink" title="接口的详解"></a>接口的详解</h2><p><strong><font size="4">接口的概念：</font></strong></p>
<ul>
<li>接口是行为的抽象规范</li>
<li>它也是一种自定义类型</li>
<li>接口是类用来继承的</li>
<li>关键字：<em><strong><font color="#00BFFF">interface</font></strong></em></li>
</ul>
<p><strong><font size="4">接口声明的规范：</font></strong></p>
<ul>
<li>不包含成员变量</li>
<li>只包含方法、属性、索引器、事件</li>
<li>成员不能被实现</li>
<li>成员可以不写访问修饰符，不能是私有的</li>
<li>接口不能继承类，但是可以继承另一个接口</li>
</ul>
<p><strong><font size="4">接口的使用规范：</font></strong></p>
<ul>
<li>类可以继承多个接口</li>
<li>类继承接口后，必须实现接口中所有成员</li>
</ul>
<p><strong><font size="4">接口的特点：</font></strong></p>
<ul>
<li>类似于类的声明</li>
<li>接口用来继承</li>
<li>接口不能被实例化，但是可以作为容器存储对象</li>
</ul>
<p><strong><font size="4">接口实际作用举例：</font></strong></p>
<blockquote>
<p>假设有个动物类 人和鸟继承动物类 但人不能飞 鸟可以飞 不能将飞这个行为抽象到动物类中<br>但是可以写一个飞的接口 让鸟继承 人不继承<br>这时 要是有个继承了机械类的飞机 也可以继承飞的接口</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口关键字：interface</span></span><br><span class="line"><span class="comment">// 语法：</span></span><br><span class="line"><span class="comment">// interface 接口名</span></span><br><span class="line"><span class="comment">// {</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line"><span class="comment">// 一句话记忆：接口是抽象行为的“基类”</span></span><br><span class="line"><span class="comment">// 接口命名规范：帕斯卡前面加个I</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 飞翔接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// int f; // 报错，接口不包含成员变量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法，不能加方法体，不能被实现，默认是public</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Fly</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 属性，get和set也不能有逻辑，不能被实现，默认是public</span></span><br><span class="line">    <span class="built_in">string</span> Name</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 索引器，get和set也不能有逻辑，不能被实现，默认是public</span></span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 事件 </span></span><br><span class="line">    <span class="keyword">event</span> Action doSomthing;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="接口的使用"><a href="#接口的使用" class="headerlink" title="接口的使用"></a>接口的使用</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.类可以继承1个类，n个接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">Animal</span>, <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 2.继承了接口后，必须实现其中的内容，并且必须是public的</span></span><br><span class="line">    <span class="comment">// 3.实现的接口函数，可以加virtual再在子类重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action doSomthing;</span><br><span class="line">}</span><br><span class="line"> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="meta">#<span class="keyword">region</span> 知识点三 接口的使用</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//IFly ifly = new IFly();//报错 无法实例化接口</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.接口也遵循里氏替换原则</span></span><br><span class="line">            <span class="comment">//Person继承接口IFly 把接口当父类 父类装子类</span></span><br><span class="line">            IFly ifly = <span class="keyword">new</span> Person();</span><br><span class="line">              <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>1.类可以继承1个类，n个接口<br> 2.继承了接口后，必须实现其中的内容，并且必须是public的<br> 3.实现的接口函数，可以加virtual再在子类重写<br> 4.接口也遵循里氏替换原则</p>
</blockquote>
<h2 id="接口可以继承接口"><a href="#接口可以继承接口" class="headerlink" title="接口可以继承接口"></a>接口可以继承接口</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口继承接口时，不需要实现</span></span><br><span class="line"><span class="comment">// 待类继承接口后，类自己去实现所有内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 走路接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IWalk</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Walk</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动接口，继承飞翔接口和走路接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IMove</span> : <span class="title">IFly</span>, <span class="title">IWalk</span></span><br><span class="line">{ </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动测试类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">MoveTest</span> : <span class="title">IMove</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 因为移动接口继承飞翔接口和走路接口</span></span><br><span class="line">    <span class="comment">// 所以必须实现飞翔接口和走路接口里所有成员</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">this</span>[<span class="built_in">int</span> index] { <span class="keyword">get</span> =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException(); <span class="keyword">set</span> =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException(); }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name { <span class="keyword">get</span> =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException(); <span class="keyword">set</span> =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException(); }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action doSomthing;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 4.接口也遵循里氏替换原则</span></span><br><span class="line">            IMove imove1 = <span class="keyword">new</span> MoveTest();</span><br><span class="line">            IFly ifly1 = <span class="keyword">new</span> MoveTest();</span><br><span class="line">            IWalk iwalk1 = <span class="keyword">new</span> MoveTest();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 因为实际容器是IWalk，所以只能使用IWalk的成员Walk</span></span><br><span class="line">            iwalk1.Walk();</span><br><span class="line">            <span class="comment">//(iwalk1 as MoveTest).Fly();//报错，因为实际容器是IWalk，不能使用飞翔相关</span></span><br><span class="line">            (iwalk1 <span class="keyword">as</span> MoveTest).Fly(); <span class="comment">// 强转后，可以使用飞翔相关</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="显示实现接口"><a href="#显示实现接口" class="headerlink" title="显示实现接口"></a>显示实现接口</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当一个类继承两个接口</span></span><br><span class="line"><span class="comment">// 但是接口中存在着同名方法时</span></span><br><span class="line"><span class="comment">// 注意：显示实现接口时不能写访问修饰符</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 攻击方法接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IAttack</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Attack</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 超级攻击方法接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">ISuperAttack</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Attack</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同时继承攻击方法接口和超级攻击方法接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span> : <span class="title">IAttack</span>, <span class="title">ISuperAttack</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 假如直接实现Attack，那么假如Player调用攻击</span></span><br><span class="line">    <span class="comment">// 无论容器是攻击接口还是超级攻击接口，都会是同个行为</span></span><br><span class="line">    <span class="comment">// 违背了接口抽象行为概念</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Attack</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Player攻击"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显示实现接口可以解决接口同名成员问题</span></span><br><span class="line">    <span class="comment">// 显示实现接口就是用 接口名.行为名 去实现</span></span><br><span class="line">    <span class="keyword">void</span> IAttack.Attack()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"IAttack攻击"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> ISuperAttack.Attack()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"ISuperAttack攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            IAttack iAttack = <span class="keyword">new</span> Player();</span><br><span class="line">            ISuperAttack iSuperAttack = <span class="keyword">new</span> Player();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 显示实现了接口，可以实现不同行为 </span></span><br><span class="line">            <span class="comment">// 要是没有显示实现了接口，都会输出Player攻击</span></span><br><span class="line">            iAttack.Attack(); <span class="comment">// IAttack攻击</span></span><br><span class="line">            iSuperAttack.Attack(); <span class="comment">// ISuperAttack攻击</span></span><br><span class="line"></span><br><span class="line">            Player player = <span class="keyword">new</span> Player();</span><br><span class="line">            (player <span class="keyword">as</span> IAttack).Attack(); <span class="comment">// IAttack攻击</span></span><br><span class="line">            (player <span class="keyword">as</span> ISuperAttack).Attack(); <span class="comment">// ISuperAttack攻击</span></span><br><span class="line">            player.Attack(); <span class="comment">// Player攻击</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-17"><a href="#总结-17" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">继承类：</font></strong></p>
<ul>
<li>是对象间的继承，包括特征行为等等</li>
</ul>
<p><strong><font size="4">继承接口：</font></strong></p>
<ul>
<li>是行为间的继承，继承接口的行为规范，按照规范去实现内容</li>
<li>由于接口也是遵循里氏替换原则，所以可以用接口容器装对象</li>
<li>那么就可以实现装载各种毫无关系但是却有相同行为的对象</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>接口值包含 成员方法、属性、索引器、事件，并且都不实现，都没有访问修饰符</li>
<li>可以继承多个接口，但是只能继承一个类</li>
<li>接口可以继承接口，相当于在进行行为合并，待子类继承时再去实现具体的行为</li>
<li>接口可以被显示实现，主要用于实现不同接口中的同名函数的不同表现</li>
<li>实现的接口方法可以加 <em><strong><font color="#4F94CD">virtual</font></strong></em> 关键字，之后子类再重写</li>
</ul>
<h2 id="练习题-16"><a href="#练习题-16" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.人、汽车、房子都需要等级，人需要到派出所登记，汽车需要去车管所登记，房子需要去房管局登记 使用接口实现登记方法</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 登记接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IRegister</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Register</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">IRegister</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"派出所登记"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 车类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Car</span> : <span class="title">IRegister</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"车管所登记"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 房子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">House</span> : <span class="title">IRegister</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"房管局登记"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            IRegister[] IRegisterArray = <span class="keyword">new</span> IRegister[] { <span class="keyword">new</span> Person(), <span class="keyword">new</span> House(), <span class="keyword">new</span> Car() };</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; IRegisterArray.Length; i++)</span><br><span class="line">            {</span><br><span class="line">                IRegisterArray[i].Register();<span class="comment">//派出所登记</span></span><br><span class="line">            }                                <span class="comment">//房管局登记  </span></span><br><span class="line">                                             <span class="comment">//车管所登记   </span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">2.麻雀、鸵鸟、企鹅、鹦鹉、直升机、天鹅</font></strong></p>
<blockquote>
<p>直升机和部分鸟能飞<br>鸵鸟和企鹅不能飞<br>企鹅和天鹅能游泳<br>除直升机，其它都能走<br>请用面向对象相关知识实现</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 鸟类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Bird</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 鸟都能能走</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 飞行接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Fly</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 游泳接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">ISwimming</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Swimming</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 麻雀类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Sparrow</span> : <span class="title">Bird</span>, <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 鸵鸟类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Ostrich</span> : <span class="title">Bird</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 企鹅类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Penguin</span> : <span class="title">Bird</span>, <span class="title">ISwimming</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Swimming</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 鹦鹉类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Parrot</span> : <span class="title">Bird</span>, <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 天鹅类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Swan</span> : <span class="title">Bird</span>, <span class="title">IFly</span>, <span class="title">ISwimming</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Swimming</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Walk</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直升机类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Helicopter</span> : <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fly</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">3.多态来模拟移动硬盘、U盘、MP3查到电脑上读取数据</font></strong></p>
<blockquote>
<p>移动硬盘与U盘都属于存储设备<br>MP3属于播放设备<br>但他们都能插在电脑上传输数据<br>电脑提供了一个USB接口<br>请实现电脑的传输数据的功能</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// USB接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IUSB</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ReadData</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 存储设备类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">StorageDevice</span> : <span class="title">IUSB</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StorageDevice</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ReadData</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"{0}传输数据"</span>, name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// MP3类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">MP3</span> : <span class="title">IUSB</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ReadData</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"MP3传输数据"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 电脑类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Computer</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 电脑有一个USB接口 外部给他赋值 相当于插到电脑上</span></span><br><span class="line">    <span class="keyword">public</span> IUSB usb1;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            StorageDevice moveDevice = <span class="keyword">new</span> StorageDevice(<span class="string">"移动硬盘"</span>);</span><br><span class="line">            StorageDevice uDevice = <span class="keyword">new</span> StorageDevice(<span class="string">"U盘"</span>);</span><br><span class="line">            MP3 mp3 = <span class="keyword">new</span> MP3();</span><br><span class="line"></span><br><span class="line">            Computer computer = <span class="keyword">new</span> Computer();</span><br><span class="line"></span><br><span class="line">            computer.usb1 = moveDevice;</span><br><span class="line">            computer.usb1.ReadData();<span class="comment">//移动硬盘传输数据</span></span><br><span class="line"></span><br><span class="line">            computer.usb1 = uDevice;</span><br><span class="line">            computer.usb1.ReadData();<span class="comment">//U盘传输数据</span></span><br><span class="line"></span><br><span class="line">            computer.usb1 = mp3;</span><br><span class="line">            computer.usb1.ReadData();<span class="comment">//MP3传输数据</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="密封方法"><a href="#密封方法" class="headerlink" title="密封方法"></a>密封方法</h1><p><strong><font size="4">知识回顾：</font></strong><br><strong><font size="3">密封类：</font></strong></p>
<ul>
<li>用 <em><strong><font color="#4F94CD">sealed</font></strong></em> 修饰的类</li>
<li>让类不再能被继承，类似于“结扎”</li>
</ul>
<h2 id="密封方法的详解"><a href="#密封方法的详解" class="headerlink" title="密封方法的详解"></a>密封方法的详解</h2><p><strong><font size="4">密封方法的基本概念：</font></strong></p>
<ul>
<li>用密封关键字 <em><strong><font color="#4F94CD">sealed</font></strong></em> 修饰的重写函数</li>
<li>密封方法的作用：让虚方法或者抽象方法之后不能再被重写</li>
<li>密封方法的特点：和 <em><strong><font color="#4F94CD">override</font></strong></em> 一起出现</li>
</ul>
<p><strong><font size="4">密封方法的实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象动物类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Eat</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"叫"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">Animal</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 密封吃方法，使吃方法不能被重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Eat</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 白人类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">WhitePerson</span> : <span class="title">Person</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 报错，吃方法被Person类中密封，不能被重写</span></span><br><span class="line">    <span class="comment">// public override void Eat()</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">    <span class="comment">//     base.Eat();</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 密封说方法，使说方法不能被重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">base</span>.Speak();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-18"><a href="#总结-18" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">密封方法的概念：</font></strong></p>
<ul>
<li>可以让虚方法和抽象方法不能再被子类重写</li>
</ul>
<p><strong><font size="4">密封方法的特点：</font></strong></p>
<ul>
<li>一定是和 <em><strong><font color="#4F94CD">override</font></strong></em> 一起出现</li>
</ul>
<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><ul>
<li>面向对象关联知识点</li>
</ul>
<h2 id="命名空间的详解"><a href="#命名空间的详解" class="headerlink" title="命名空间的详解"></a>命名空间的详解</h2><p><strong><font size="4">命名空间的基本概念：</font></strong></p>
<ul>
<li>命名空间是用来组织和重用代码的。它类似于一个工具包，其中的类就像工具一样，都是声明在命名空间中的。</li>
</ul>
<p><strong><font size="4">命名空间的使用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本语法</span></span><br><span class="line"><span class="comment">// namespace 命名空间名</span></span><br><span class="line"><span class="comment">// {</span></span><br><span class="line"><span class="comment">//   类</span></span><br><span class="line"><span class="comment">//   类</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyGame</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">class</span> <span class="title">GameObject</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同名类，但在不同命名空间中</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyGame</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YouGame</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Player</span> : <span class="title">GameObject</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">不同命名空间中相互使用，需要引用命名空间或指明出处</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用MyGame命名空间</span></span><br><span class="line"><span class="comment">// 能在namespace Lesson21_面向对象相关_命名空间 使用MyGame命名空间相关的类</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MyGame;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            <span class="comment">// 引用MyGame命名空间</span></span><br><span class="line">            <span class="comment">// 能在namespace Lesson21_面向对象相关_命名空间 使用MyGame命名空间的GameObject类</span></span><br><span class="line">            GameObject gameObject1 = <span class="keyword">new</span> GameObject();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 不引用MyGame命名空间，又想使用MyGame命名空间的GameObject类</span></span><br><span class="line">            <span class="comment">// 需要遵循命名空间.类名的语法，在GameObject前加上MyGame.</span></span><br><span class="line">            MyGame.GameObject gameObject2 = <span class="keyword">new</span> GameObject();</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">不同命名空间中允许有同名类</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 申明MyGame2命名空间，再申明GameObject类</span></span><br><span class="line"><span class="comment">// 就算MyGame里也有GameObject类，也不会报错</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyGame2</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 在不同的命名空间中是可以有同名类的</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">GameObject</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>同时引用了MyGame命名空间和MyGame2命名空间</strong><br><strong>直接使用GameObject类会报错</strong><br><strong>因为MyGame命名空间和MyGame2命名空间里都有GameObject类</strong><br><strong>分不清楚用的是哪个命名空间的类</strong><br><strong>这个时候又要指明出处</strong><br><strong>遵循命名空间.类名的语法</strong><br><strong>MyGame.GameObject MyGame2.GameObject 来区分</strong></p>
</blockquote>
<p><strong><font size="4">命名空间可以包裹命名空间</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不引用MyGame.UI，只引用MyGame</span></span><br><span class="line"><span class="comment">// 不能直接使用MyGame.UI里的类，要逐个命名空间点出来</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MyGame.UI;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类比内部类来学习</span></span><br><span class="line"><span class="comment">// 大命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyGame</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 内部可以有小命名空间</span></span><br><span class="line">    <span class="keyword">namespace</span> <span class="title">UI</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Image</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">namespace</span> <span class="title">Game</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Image</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">            <span class="comment">// 引用MyGame.UI，能直接使用MyGame.UI里的Image类</span></span><br><span class="line">            Image img1 = <span class="keyword">new</span> Image();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 不引用MyGame.UI，只引用MyGame</span></span><br><span class="line">            <span class="comment">// 不能直接使用MyGame.UI里的Image类，要逐个命名空间点出来</span></span><br><span class="line">            MyGame.UI.Image img2 = <span class="keyword">new</span> MyGame.UI.Image();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// MyGame.Game中的同理</span></span><br><span class="line">            MyGame.Game.Image img3 = <span class="keyword">new</span> MyGame.Game.Image();</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="关于修饰类的访问修饰符"><a href="#关于修饰类的访问修饰符" class="headerlink" title="关于修饰类的访问修饰符"></a>关于修饰类的访问修饰符</h2><p><em><strong><font size="4"><font color="#9400D3">public：</font></font></strong></em></p>
<ul>
<li>公有类</li>
</ul>
<p><em><strong><font size="4"><font color="#9400D3">protected：</font></font></strong></em></p>
<ul>
<li>继承类，在继承链上的类里面都可以使用</li>
</ul>
<p><em><strong><font size="4"><font color="#9400D3">internal：</font></font></strong></em></p>
<ul>
<li>程序集中的类，默认为internal，只能在相同程序集中使用，即在同一个项目中的任何代码中都可以调用，包括继承链上的类，不在继承链上的类除外。</li>
</ul>
<p><em><strong><font size="4"><font color="#9400D3">protected internal：</font></font></strong></em></p>
<ul>
<li>程序集中的和继承类。<em><strong><font color="#9400D3">protected</font></strong></em> 和 <em><strong><font color="#9400D3">internal</font></strong></em> 能使用的地方都能使用。<em><strong><font color="#9400D3">protected</font></strong></em> <em><strong><font color="#9400D3">internal</font></strong></em> 修饰的成员可以跨程序集（或者说跨项目）被调用，只要在另一个项目中声明一个属于继承链上的类就可以调用被 <em><strong><font color="#9400D3">protected</font></strong></em> <em><strong><font color="#9400D3">internal</font></strong></em> 修饰的成员（但是在另一个项目的别的地方不能调用）。</li>
</ul>
<p><em><strong><font size="4"><font color="#4F94CD">abstract：</font></font></strong></em></p>
<ul>
<li>抽象类</li>
</ul>
<p><em><strong><font size="4"><font color="#4F94CD">sealed：</font></font></strong></em></p>
<ul>
<li>密封类</li>
</ul>
<p><em><strong><font size="4"><font color="#4F94CD">partial：</font></font></strong></em> </p>
<ul>
<li>分部类</li>
</ul>
<h2 id="总结-19"><a href="#总结-19" class="headerlink" title="总结"></a>总结</h2><ul>
<li>命名空间是个工具包，用来管理类。</li>
<li>不同命名空间中可以有同名类。</li>
<li>不同命名空间中相互使用需要使用 <em><strong><font color="#9400D3">using</font></strong></em> 引用命名空间或者指明出处。</li>
<li>命名空间可以包裹命名空间。</li>
</ul>
<h2 id="练习题-17"><a href="#练习题-17" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请说明关键词using有什么作用</font></strong></p>
<blockquote>
<p><em><strong><font size="4"><font color="#9400D3">using</font></font></strong></em><font size="4"> <strong>关键字在 C# 中有两种主要用途：</strong></font><br><strong><font color="#F4A460">引用命名空间：</font></strong> <em><strong><font color="#9400D3">using</font></strong></em> <strong>用于引用命名空间，以便在代码中可以直接使用该命名空间中的类型，而无需使用完全限定名。</strong><br><strong><font color="#F4A460">资源管理：</font></strong> <em><strong><font color="#9400D3">using</font></strong></em> <strong>还用于管理资源，例如文件、数据库连接、网络流等，通过在 <em><strong><font color="#9400D3">using</font></strong></em> 代码块结束时自动释放资源，确保资源的正确释放。</strong></p>
</blockquote>
<p><strong><font size="4">2.有两个命名空间，UI(用户界面)和Graph（图表），两个命名空间中都有一个Image类，请在主函数中实例化两个不同命名空间中的Image对象</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 引用两个自己写的命名空间</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> UI;</span><br><span class="line"><span class="keyword">using</span> Graph;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名空间 UI</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">UI</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Image</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名空间 Graph</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Graph</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Image</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            <span class="comment">// 引用两个自己写的命名空间后 要逐个点出Image类 否则报错 不知道引用的哪个命名空间的类</span></span><br><span class="line">            UI.Image uiImg = <span class="keyword">new</span> UI.Image();</span><br><span class="line">            Graph.Image grImg = <span class="keyword">new</span> Graph.Image();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>这样，通过使用 <em><strong><font color="#9400D3">using</font></strong></em> 关键字，可以更方便地在主函数中实例化两个不同命名空间中的 Image 对象。</p>
</blockquote>
<hr>
<h1 id="万物之父中的方法"><a href="#万物之父中的方法" class="headerlink" title="万物之父中的方法"></a>万物之父中的方法</h1><p><strong><font size="4">知识回顾：</font></strong></p>
<p><strong><font size="3">万物之父</font> <font color="#9400D3">object：</font></strong></p>
<ul>
<li>所有类型的基类是一个引用类型</li>
<li>利用里氏替换原则可以装载一切对象</li>
<li>存在装箱拆箱</li>
</ul>
<p><strong><font size="4">辅助举例的 测试类</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// Test中的值类型变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> testInt = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Test中的引用类型变量</span></span><br><span class="line">    <span class="keyword">public</span> MyTest mytest = <span class="keyword">new</span> MyTest();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Object的成员方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// MemberwiseClone()在object中是保护类型的，用public包裹一层，在外部测试</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Test <span class="title">Clone</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// MemberwiseClone()会返回自己类的一个对象，as转成自己类后返回，用于测试</span></span><br><span class="line">        <span class="keyword">return</span> MemberwiseClone() <span class="keyword">as</span> Test;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// object中的虚方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写Object虚方法Equals(object obj)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">Equals</span>(<span class="params"><span class="built_in">object</span> obj</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.Equals(obj);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写Object虚方法GetHashCode()</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">int</span> <span class="title">GetHashCode</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.GetHashCode();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写Object虚方法ToString()</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"L申明的Test类"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">MyTest</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> myTestInt = <span class="number">2</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">object中的主要成员图示</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">System</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Object</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Object</span>()</span>;<span class="comment">// 初始化 System.Object 类的新实例。</span></span><br><span class="line">        ~Object();<span class="comment">// 在垃圾回收将某一对象回收前允许该对象尝试释放资源并执行其他清理操作。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">Equals</span>(<span class="params">Object objA, Object objB</span>)</span>;<span class="comment">//  确定指定的对象实例是否被视为相等。</span></span><br><span class="line">                                                            <span class="comment">//  objA: 要比较的第一个对象。</span></span><br><span class="line">                                                            <span class="comment">//  objB:要比较的第二个对象。</span></span><br><span class="line">                                                            <span class="comment">//  返回结果：如果对象被视为相等，则为 true，否则为 false。 如果 objA 和 objB 均为 null，此方法将返回 true。    </span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">ReferenceEquals</span>(<span class="params">Object objA, Object objB</span>)</span>;   <span class="comment">//  确定指定的 System.Object 实例是否是相同的实例。</span></span><br><span class="line">                                                                        <span class="comment">//  objA: 要比较的第一个对象。</span></span><br><span class="line">                                                                        <span class="comment">//  objB:要比较的第二个对象。</span></span><br><span class="line">                                                                        <span class="comment">//  返回结果：true如果objA是相同的实例作为objB或如果两者均null; 否则为false。</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">Equals</span>(<span class="params">Object obj</span>)</span>;     <span class="comment">//  确定指定的对象是否等于当前对象。</span></span><br><span class="line">                                                    <span class="comment">//  obj要与当前对象进行比较的对象。                                              </span></span><br><span class="line">                                                    <span class="comment">//  返回结果：如果指定的对象等于当前对象，则为 true，否则为 false。</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">GetHashCode</span>()</span>;   <span class="comment">//返回结果：当前对象的哈希代码。</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Type <span class="title">GetType</span>()</span>;  <span class="comment">//返回结果：当前实例的准确运行时类型。                                            </span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span>;   <span class="comment">// 返回结果：表示当前对象的字符串。</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> Object <span class="title">MemberwiseClone</span>()</span>; <span class="comment">// 返回结果：当前 System.Object 的浅表副本。</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">object中的静态方法</font></strong></p>
<blockquote>
<p>静态方法 Equals</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">      {</span><br><span class="line">      <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">          {</span><br><span class="line">          <span class="comment">// 判断两个对象是否相等</span></span><br><span class="line">          <span class="comment">// 最终的判断权，交给左侧对象的Equals方法，</span></span><br><span class="line">          <span class="comment">// 不管值类型还是引用类型都会按照左侧对象Equals方法的规则来进行比较</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">// Object.Equals(,) 省略Object.也可以，因为class Program也默认继承Object类</span></span><br><span class="line">          Console.WriteLine(Equals(<span class="number">1</span>, <span class="number">1</span>)); <span class="comment">// True</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">// 值类型直接比较值</span></span><br><span class="line">          Console.WriteLine(Object.Equals(<span class="number">1</span>, <span class="number">1</span>)); <span class="comment">// True</span></span><br><span class="line">          Console.WriteLine(Object.Equals(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// False</span></span><br><span class="line"></span><br><span class="line">          Test t1 = <span class="keyword">new</span> Test();</span><br><span class="line">          Test t2 = t1;</span><br><span class="line">          Test t3 = <span class="keyword">new</span> Test();</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 引用类型比较的是栈中存的地址，地址相同返回True，否则返回False</span></span><br><span class="line">          Console.WriteLine(Object.Equals(t1, t2)); <span class="comment">// True</span></span><br><span class="line">          Console.WriteLine(Object.Equals(t1, t3)); <span class="comment">// False        </span></span><br><span class="line">          }</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>静态方法 ReferenceEquals</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">       {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">           {</span><br><span class="line">           </span><br><span class="line">           Test t1 = <span class="keyword">new</span> Test();</span><br><span class="line">           Test t2 = t1;</span><br><span class="line">           Test t3 = <span class="keyword">new</span> Test();      </span><br><span class="line">           <span class="comment">// 比较两个对象是否是相同的引用，主要是用来比较引用类型的对象。</span></span><br><span class="line">           <span class="comment">// 值类型对象返回值始终是False。</span></span><br><span class="line">           Console.WriteLine(Object.ReferenceEquals(<span class="number">1</span>, <span class="number">1</span>)); <span class="comment">// False，值类型对象返回值始终是False</span></span><br><span class="line">           Console.WriteLine(Object.ReferenceEquals(t1, t2)); <span class="comment">// True</span></span><br><span class="line">           Console.WriteLine(Object.ReferenceEquals(t1, t3)); <span class="comment">// False</span></span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">object中的成员方法</font></strong></p>
<blockquote>
<p>普通方法 GetType</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">            <span class="comment">// 该方法在反射相关知识点中是非常重要的方法，之后我们会具体的讲解这里返回的Type类型。</span></span><br><span class="line">            <span class="comment">// 该方法的主要作用就是获取对象运行时的类型Type，</span></span><br><span class="line">            <span class="comment">// 通过Type结合反射相关知识点可以做很多关于对象的操作。</span></span><br><span class="line">            Test t4 = <span class="keyword">new</span> Test();</span><br><span class="line">            Type type = t4.GetType();</span><br><span class="line">            }</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>普通方法 MemberwiseClone</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 该方法用于获取对象的浅拷贝对象，口语化的意思就是会返回一个新的对象，</span></span><br><span class="line">            <span class="comment">// 但是新对象中的引用变量会和老对象中一致。</span></span><br><span class="line">            Test t4 = <span class="keyword">new</span> Test();</span><br><span class="line">            Test t5 = t4.Clone();</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"克隆对象后"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"t4.testInt = "</span> + t4.testInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t4.mytest.testInt = "</span> + t4.mytest.myTestInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t5.testInt = "</span> + t5.testInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t5.mytest.myTestInt = "</span> + t5.mytest.myTestInt);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 观察克隆出来的对象 发现</span></span><br><span class="line">            <span class="comment">// 改变对象中的值类型变量时，被克隆对象的对应值类型变量不会变</span></span><br><span class="line">            <span class="comment">// 改变对象中的引用类型变量，被克隆对象的对应引用类型变量会变</span></span><br><span class="line">            <span class="comment">// 新对象中的引用变量会和老对象中一致，指向同一个地址</span></span><br><span class="line"></span><br><span class="line">            t5.testInt = <span class="number">20</span>;</span><br><span class="line">            t5.mytest.myTestInt = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"改变克隆体信息后"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"t4.testInt = "</span> + t4.testInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t4.mytest.testInt = "</span> + t4.mytest.myTestInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t5.testInt = "</span> + t5.testInt);</span><br><span class="line">            Console.WriteLine(<span class="string">"t5.mytest.myTestInt = "</span> + t5.mytest.myTestInt);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">object中的虚方法</font></strong></p>
<p><strong><font size="3">虚方法 Equals</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认实现还是比较两者是否为同一个引用，即相当于ReferenceEquals。</span></span><br><span class="line"><span class="comment">// 但是微软在所有值类型的基类System.ValueType中重写了该方法，用来比较值相等。</span></span><br><span class="line"><span class="comment">// 我们也可以重写该方法，定义自己的比较相等的规则</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">虚方法 GetHashCode</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方法是获取对象的哈希码</span></span><br><span class="line"><span class="comment">// （一种通过算法算出的，表示对象的唯一编码，不同对象哈希码有可能一样，具体值根据哈希算法决定），</span></span><br><span class="line"><span class="comment">// 我们可以通过重写该函数来自己定义对象的哈希码算法，正常情况下，我们使用的极少，基本不用。</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">虚方法 ToString</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方法用于返回当前对象代表的字符串，我们可以重写它定义我们自己的对象转字符串规则，</span></span><br><span class="line"><span class="comment">// 该方法非常常用。当我们调用打印方法时，默认使用的就是对象的ToString方法后打印出来的内容。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不重写类的ToString方法，直接输出对象时，默认打印 命名空间.类名</span></span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line">Console.WriteLine(r); <span class="comment">// System.Random</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 重写类的ToString方法后，打印出什么可以自定义</span></span><br><span class="line">Console.WriteLine(t5);<span class="comment">// "L申明的Test类";</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-20"><a href="#总结-20" class="headerlink" title="总结"></a>总结</h2><ul>
<li>虚方法 ToString 自定义字符串转换规则</li>
<li>成员方法 GetType 反射相关</li>
<li>成员方法 MemberwiseClone 浅拷贝</li>
<li>虚方法 Equals 自定义判断相等的规则</li>
</ul>
<h2 id="练习题-18"><a href="#练习题-18" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.有一个玩家类，有姓名，血量，攻击力，防御力，闪避率等特征。请在控制台打印出“玩家XX，血量XX，攻击力XX，防御力XX”XX为具体内容</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 玩家类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Player</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> hp;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> atk;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> def;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> miss;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> hp, <span class="built_in">int</span> atk, <span class="built_in">int</span> def, <span class="built_in">int</span> miss</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.hp = hp;</span><br><span class="line">        <span class="keyword">this</span>.atk = atk;</span><br><span class="line">        <span class="keyword">this</span>.def = def;</span><br><span class="line">        <span class="keyword">this</span>.miss = miss;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写ToString</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"玩家{0},血量{1},攻击力{2},防御力{3},闪避{4}"</span>, name, hp, atk, def, miss);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">            {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Player player = <span class="keyword">new</span> Player(<span class="string">"cxq"</span>, <span class="number">100</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">20</span>);</span><br><span class="line">            <span class="comment">// Player类内重写了ToString</span></span><br><span class="line">            Console.WriteLine(player);<span class="comment">//玩家Cxq,血量100,攻击力10,防御力5,闪避20</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.一个Monster类的引用对象A，Monster类有 攻击力、防御力、血量、技能ID等属性。我想复制一个和A对象一模一样的B对象。并且改变了B的属性，A不会受到影响。请问如何实现？</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 怪物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monster</span>(<span class="params"><span class="built_in">int</span> atk, <span class="built_in">int</span> def, <span class="built_in">int</span> hp, <span class="built_in">int</span> skillID</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Atk = atk;</span><br><span class="line">        Def = def;</span><br><span class="line">        Hp = hp;</span><br><span class="line">        SkillID = skillID;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Atk</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Def</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Hp</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> SkillID</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 攻击力、防御力、血量、技能ID都是值类型 使用浅拷贝MemberwiseClone拷贝对象 改变其他对象的属性不会有影响</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Monster <span class="title">Clone</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> MemberwiseClone() <span class="keyword">as</span> Monster;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写ToString</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"攻击力{0},防御力{1},血量{2},技能{3}"</span>, Atk, Def, Hp, SkillID);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 主函数内</span></span><br><span class="line">            Monster monster1 = <span class="keyword">new</span> Monster(<span class="number">10</span>, <span class="number">20</span>, <span class="number">100</span>, <span class="number">1</span>);</span><br><span class="line">            Monster monster2 = monster1.Clone();</span><br><span class="line">            monster2.Atk = <span class="number">30</span>;</span><br><span class="line">            monster2.SkillID = <span class="number">100</span>;</span><br><span class="line">            Console.WriteLine(monster1);<span class="comment">//攻击力10,防御力20,血量100,技能1</span></span><br><span class="line">            Console.WriteLine(monster2);<span class="comment">//攻击力30,防御力20,血量100,技能100</span></span><br><span class="line">        }</span><br><span class="line">        }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1><h2 id="String详解"><a href="#String详解" class="headerlink" title="String详解"></a>String详解</h2><p><strong><font size="4">string字符串类概述</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">String</font></strong></em> 是 <em><strong><font color="#BA55D3">string</font></strong></em> 类的别名，两者都可以使用，类似于 <em><strong><font color="#9400D3">Object</font></strong></em> 和 <em><strong><font color="#9400D3">object</font></strong></em>。</li>
<li>示例：</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string1 = <span class="string">"string1"</span>;</span><br><span class="line">String String1 = <span class="string">"String1"</span>;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>字符串是用于表示文本的字符的顺序集合。</li>
<li>对象 <em><strong><font color="#BA55D3">String</font></strong></em> 是表示字符串的 System.Char 对象的连续集合；System.Char 对象对应于 UTF-16 代码单元。</li>
<li>对象的值 <em><strong><font color="#BA55D3">String</font></strong></em> 是对象的顺序集合 System.Char 的内容，该值是不可变的（也就是说，它是只读）。</li>
<li>字符串在内存中的最大大小为 2 GB，或大约 10 亿个字符。</li>
<li><em><strong><font color="#BA55D3">String</font></strong></em> 的本质是一个密封类，不可以被继承，并提供了许多方法。</li>
</ul>
<p><strong><font size="4">字符串指定位置获取：字符串[x]</font></strong></p>
<ul>
<li>字符串本质是 <em><strong><font color="#BA55D3">char</font></strong></em> 数组</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string2 = <span class="string">"陈xq"</span>;</span><br><span class="line">Console.WriteLine(string2[<span class="number">0</span>]);  <span class="comment">// 陈</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>字符串可以通过数组的形式访问，类似于索引器。可以通过查看 string：</strong> <em><strong><font color="#BA55D3">string</font></strong></em> <strong>类源码，找到 this[int index] 索引器。</strong></p>
</blockquote>
<p><strong><font size="4">字符串转为 <em><strong><font color="#BA55D3">char</font></strong></em> 数组：ToCharArray方法 </font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string2 = <span class="string">"陈雪琴"</span>;</span><br><span class="line"><span class="built_in">char</span>[] chars = string2.ToCharArray();</span><br><span class="line">Console.WriteLine(chars[<span class="number">1</span>]);  <span class="comment">//雪</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历字符串一次打印字符串中的字符</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; string2.Length; i++)</span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(string2[i]);  <span class="comment">// 陈 雪 琴</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">字符串拼接：Format方法 </font></strong></p>
<ul>
<li>字符串拼接方法 Format</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string3 = <span class="built_in">string</span>.Format(<span class="string">"{0}{1}{2}"</span>, <span class="number">183</span>, <span class="number">1834</span>, <span class="number">8848</span>);</span><br><span class="line">Console.WriteLine(string3);  <span class="comment">// 18318348848</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>Format 方法有多个重载。</p>
</blockquote>
<p><strong><font size="4">正向查找字符位置：IndexOf方法 </font></strong></p>
<ul>
<li>正向查找字符位置方法 IndexOf</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string4 = <span class="string">"我是陈雪琴"</span>;</span><br><span class="line"><span class="comment">//                0 1 2 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> index = string4.IndexOf(<span class="string">"陈"</span>);</span><br><span class="line">Console.WriteLine(index);<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">index = string4.IndexOf(<span class="string">"雪琴"</span>);</span><br><span class="line">Console.WriteLine(index);<span class="comment">//3 多个字符会返回匹配的第一个字符的索引</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//没找到字符 默认返回-1</span></span><br><span class="line">index = string4.IndexOf(<span class="string">"联"</span>);</span><br><span class="line">Console.WriteLine(index);<span class="comment">//-1</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">反向查找指定字符串位置：LastIndexOf方法 </font></strong></p>
<ul>
<li>反向查找指定字符串位置方法 LastIndexOf</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> string5 = <span class="string">"我是陈雪琴陈雪琴"</span>;</span><br><span class="line"><span class="comment">//                0 1 2 3 4 5 6 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//匹配到对应字符后 返回最后出现在这个字符串的字符的首个字符的索引</span></span><br><span class="line">index = string5.LastIndexOf(<span class="string">"陈雪琴"</span>);</span><br><span class="line">Console.WriteLine(index);<span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//没找到字符 默认返回-1</span></span><br><span class="line">index = string5.LastIndexOf(<span class="string">"沈凡"</span>);</span><br><span class="line">Console.WriteLine(index);<span class="comment">//-1</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">移除指定位置后的字符：Remove方法 </font></strong></p>
<ul>
<li>移除指定位置后的字符方法 Remove 有两个重载</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//移除指定位置后的字符方法Remove 有两个重载</span></span><br><span class="line"><span class="comment">//注意！！执行了移除方法后原字符串的值不会改变 会返回新的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> string6 = <span class="string">"我是陈雪琴陈雪琴"</span>;</span><br><span class="line"><span class="comment">//                0 1 2 3 4 5 6 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//移除 参数1为开始位置 后的所有字符</span></span><br><span class="line"></span><br><span class="line">string6.Remove(<span class="number">4</span>);<span class="comment">//不会改变原字符串 会返回新的字符串</span></span><br><span class="line">Console.WriteLine(string6);<span class="comment">//我是陈雪琴陈雪琴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重新赋值可以得到 移除指定位置后的字符 后 返回的字符</span></span><br><span class="line">string6 = string6.Remove(<span class="number">4</span>);</span><br><span class="line">Console.WriteLine(string6);<span class="comment">//我是陈雪</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//移除 参数1为开始位置 参数2为字符个数 的对应字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//现在string6的值是 我是陈雪 移除开始位置为1后的两个字符 结果为 我雪 </span></span><br><span class="line">string6 = string6.Remove(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">Console.WriteLine(string6);<span class="comment">//我雪</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>注意！！执行了移除方法后原字符串的值不会改变 会返回新的字符串</strong></p>
</blockquote>
<p><strong><font size="4">替换指定字符串：Replace方法 </font></strong></p>
<ul>
<li>替换指定字符串方法Replace</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//替换指定字符串方法Replace</span></span><br><span class="line"><span class="comment">//注意！！执行了替换指定字符串方法后原字符串的值不会改变 会返回新的字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> string7 = <span class="string">"我是陈雪琴陈雪琴"</span>;</span><br><span class="line"><span class="comment">//                0 1 2 3 4 5 6 7</span></span><br><span class="line"></span><br><span class="line">string7.Replace(<span class="string">"陈雪琴"</span>, <span class="string">"沈凡"</span>);<span class="comment">//不会改变原字符串 会返回新的字符串</span></span><br><span class="line">Console.WriteLine(string7);<span class="comment">//我是陈雪琴陈雪琴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重新赋值可以得到  替换指定字符串 后 返回的字符</span></span><br><span class="line">string7 = string7.Replace(<span class="string">"陈雪琴"</span>, <span class="string">"沈凡"</span>);</span><br><span class="line">Console.WriteLine(string7);<span class="comment">//我是沈凡沈凡</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>注意！！执行了替换指定字符串方法后原字符串的值不会改变 会返回新的字符串</strong></p>
</blockquote>
<p><strong><font size="4">大小写转换：ToUpper方法和ToLower方法 </font></strong></p>
<ul>
<li>大小写转换方法ToUpper ToLower</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//大小写转换方法ToUpper ToLower</span></span><br><span class="line"><span class="comment">//注意！！执行了大小写转换方法后原字符串的值不会改变 会返回新的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> string8 = <span class="string">"chenxueqin"</span>;</span><br><span class="line"></span><br><span class="line">string8.ToUpper();<span class="comment">//不会改变原字符串 会返回新的字符串</span></span><br><span class="line">Console.WriteLine(string8);<span class="comment">//chenxueqin</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重新赋值可以得到  转大写 后 返回的字符</span></span><br><span class="line">string8 = string8.ToUpper();</span><br><span class="line">Console.WriteLine(string8);<span class="comment">//CHENXUEQIN</span></span><br><span class="line"></span><br><span class="line">string8.ToLower();<span class="comment">//不会改变原字符串 会返回新的字符串</span></span><br><span class="line">Console.WriteLine(string8);<span class="comment">//CHENXUEQIN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重新赋值可以得到  转小写 后 返回的字符</span></span><br><span class="line">string8 = string8.ToLower();</span><br><span class="line">Console.WriteLine(string8);<span class="comment">//chenxueqin</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>注意！！执行了大小写转换方法后原字符串的值不会改变 会返回新的字符串</strong></p>
</blockquote>
<p><strong><font size="4">字符串截取：Substring方法 </font></strong></p>
<ul>
<li>字符串截取方法Substring 有两个重载</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串截取方法Substring 有两个重载</span></span><br><span class="line"><span class="comment">//注意！！执行了字符串截取方法后原字符串的值不会改变 会返回新的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> string9 = <span class="string">"陈雪琴陈雪琴"</span>;</span><br><span class="line"><span class="comment">//                0 1 2 3 4 5 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//截取 参数1为开始位置 后的所有字符</span></span><br><span class="line">string9.Substring(<span class="number">2</span>);<span class="comment">//不会改变原字符串 会返回新的字符串</span></span><br><span class="line">Console.WriteLine(string9);<span class="comment">//陈雪琴陈雪琴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重新赋值可以得到 截取指定位置后的字符 后 返回的字符</span></span><br><span class="line">string9 = string9.Substring(<span class="number">2</span>);</span><br><span class="line">Console.WriteLine(string9);<span class="comment">//琴陈雪琴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//截取 参数1为开始位置 参数2为字符个数 的对应字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//不会自动的帮助你判断是否越界 你需要自己去判断</span></span><br><span class="line"><span class="comment">//string9 = string9.Substring(2, 3);//报错</span></span><br><span class="line"><span class="comment">//现在string9的值是 琴陈雪琴 索引2（含）的字符后只有两个字符 雪琴 了 截取不了三个</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//现在string9的值是 琴陈雪琴 截取开始位置为2后的两个字符 结果为 雪琴 </span></span><br><span class="line">string9 = string9.Substring(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">Console.WriteLine(string9);<span class="comment">//雪琴</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>注意！！执行了字符串截取方法后原字符串的值不会改变 会返回新的字符串</strong></p>
</blockquote>
<p><strong><font size="4">字符串切割：Split方法 </font></strong></p>
<ul>
<li>字符串切割方法Split</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可能运用到策划配的配置表中</span></span><br><span class="line"><span class="built_in">string</span> string10 = <span class="string">"1_1|2_2|3_3|5_1|6_1|7_2|8_3"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//一般切割完拿一个string数组来装</span></span><br><span class="line"><span class="built_in">string</span>[] stringArray = string10.Split(<span class="string">'|'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; stringArray.Length; i++)</span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(stringArray[i]);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//1_1</span></span><br><span class="line"><span class="comment">//2_2</span></span><br><span class="line"><span class="comment">//3_3</span></span><br><span class="line"><span class="comment">//5_1</span></span><br><span class="line"><span class="comment">//6_1</span></span><br><span class="line"><span class="comment">//7_2</span></span><br><span class="line"><span class="comment">//8_3</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="练习题-19"><a href="#练习题-19" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请写出string中提供的截取和替换对应的函数名</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="built_in">string</span> string1 = <span class="string">"陈雪琴陈雪琴"</span>;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 截取字符串</span></span><br><span class="line">           string1 = string1.Substring(<span class="number">1</span>);</span><br><span class="line">           Console.WriteLine(string1);<span class="comment">//雪琴陈雪琴</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">// 继续截取字符串</span></span><br><span class="line">           string1 = string1.Substring(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">           Console.WriteLine(string1);<span class="comment">//琴</span></span><br><span class="line"></span><br><span class="line">           string1 = <span class="string">"陈雪琴陈雪琴"</span>;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 替换字符串</span></span><br><span class="line">           string1 = string1.Replace(<span class="string">"陈雪琴"</span>, <span class="string">"哈哈哈"</span>);</span><br><span class="line">           Console.WriteLine(string1);<span class="comment">//哈哈哈哈哈哈</span></span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">2.请将字符串1|2|3|4|5|6|7变为2|3|4|5|6|7|8，并输出</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           <span class="built_in">string</span> string2 = <span class="string">"1 | 2 | 3 | 4 | 5 | 6 | 7"</span>;</span><br><span class="line"></span><br><span class="line">           <span class="built_in">string</span>[] stringArray = string2.Split(<span class="string">'|'</span>);<span class="comment">//字符串切割 用字符串数组装</span></span><br><span class="line">           string2 = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 遍历字符串数组</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; stringArray.Length; i++)</span><br><span class="line">           {</span><br><span class="line">               <span class="comment">// 转换成整型后 + 1</span></span><br><span class="line">               string2 += (<span class="built_in">int</span>.Parse(stringArray[i]) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">               <span class="comment">// 不是最后的一个字符串就拼接上|</span></span><br><span class="line">               <span class="keyword">if</span> (i != stringArray.Length - <span class="number">1</span>)</span><br><span class="line">               {</span><br><span class="line">                   string2 += <span class="string">"|"</span>;</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line"></span><br><span class="line">           Console.WriteLine(string2);<span class="comment">//2|3|4|5|6|7|8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">3.String和string、Int32和int、Int16和short、Int64和long他们的区别是什么？</font></strong></p>
<ul>
<li>string: 别名为 System.String，是 .NET 中字符串类型。</li>
<li>int: 别名为 System.Int32，是 .NET 中 32 位有符号整数类型。</li>
<li>short: 别名为 System.Int16，是 .NET 中 16 位有符号整数类型。</li>
<li>long: 别名为 System.Int64，是 .NET 中 64 位有符号整数类型。</li>
<li>它们的别名和对应的完整类型是等价的，只是为了编码方便，所以在 C# 中可以使用这些别名。</li>
</ul>
<p><strong><font size="4">4.string的频繁修改或者赋值会比较消耗内存空间，产生很多垃圾，加速GC的触发,以下代码分配了多少个新的堆空间?</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string 只要重新赋值不为空都会在堆中分配一个堆空间</span></span><br><span class="line"><span class="built_in">string</span> str = <span class="literal">null</span>; <span class="comment">// 分配一个栈空间，没有分配堆空间</span></span><br><span class="line">str = <span class="string">"123"</span>; <span class="comment">// 堆空间分配了123，第一个新的堆空间</span></span><br><span class="line"><span class="built_in">string</span> str2 = str; <span class="comment">// 分配一个栈空间，没有分配堆空间，指向上一句中123在堆空间的地址，和 str 值相同</span></span><br><span class="line">str2 = <span class="string">"321"</span>; <span class="comment">// 堆空间分配了321，第二个新的堆空间</span></span><br><span class="line">str2 += <span class="string">"123"</span>; <span class="comment">// 堆空间分配了321123，第三个新的堆空间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// string 的频繁修改或者赋值会比较消耗内存空间，产生很多垃圾，加速 GC 的触发</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">5.编写一个函数，将输入的字符串反转。不要使用中间商，你必须原地修改输入数组。交换过程中不使用额外空间</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">"请输入内容"</span>);</span><br><span class="line"><span class="built_in">string</span> string5 = Console.ReadLine();<span class="comment">//陈雪琴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接使用 string 自带的索引器的话会有问题</span></span><br><span class="line"><span class="comment">// 因为 string 的索引器只能 get，不能 set </span></span><br><span class="line"><span class="comment">// 所以转成 char 数组，再遍历</span></span><br><span class="line"><span class="built_in">char</span>[] charArray = string5.ToCharArray();<span class="comment">//转成 char 数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历 char 数组</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; charArray.Length / <span class="number">2</span>; i++)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 交换逻辑</span></span><br><span class="line">    charArray[i] = (<span class="built_in">char</span>)(charArray[i] + charArray[charArray.Length - <span class="number">1</span> - i]);</span><br><span class="line">    charArray[charArray.Length - <span class="number">1</span> - i] = (<span class="built_in">char</span>)(charArray[i] - charArray[charArray.Length - <span class="number">1</span> - i]);</span><br><span class="line">    charArray[i] = (<span class="built_in">char</span>)(charArray[i] - charArray[charArray.Length - <span class="number">1</span> - i]);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历输出 char 数组</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; charArray.Length; i++)</span><br><span class="line">{</span><br><span class="line">    Console.Write(charArray[i]);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以传字符数组，string 构造函数重载 new 出字符串，其实就是 char 数组全部拼接的结果</span></span><br><span class="line">string5 = <span class="keyword">new</span> <span class="built_in">string</span>(charArray);</span><br><span class="line">Console.WriteLine(string5);<span class="comment">//陈雪琴</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h1 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h1><p><strong><font size="4">知识回顾</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">string</font></strong></em> 是特殊的引用。</li>
<li>每次重新赋值或者拼接时会分配新的内存空间。</li>
<li>如果一个字符串经常改变会非常浪费空间。</li>
</ul>
<h2 id="StringBuilder的详解"><a href="#StringBuilder的详解" class="headerlink" title="StringBuilder的详解"></a>StringBuilder的详解</h2><p><strong><font size="4">StringBuilder的基本概念</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 是 C# 提供的一个用于处理字符串的公共类。</li>
<li>主要解决的问题是：修改字符串而不创建新的对象。</li>
<li>需要频繁修改和拼接的字符串可以使用它，会产生较少的垃圾，可以提升性能。</li>
<li>使用前需要引用命名空间 using System.Text;</li>
</ul>
<p><strong><font size="4">StringBuilder的初始化 直接指明内容</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// StringBuilder不能直接赋值字符串，要new出来传字符串进去</span></span><br><span class="line">            StringBuilder stringBuilder1 = <span class="keyword">new</span> StringBuilder(<span class="string">"123123123"</span>);</span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 123123123</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="StringBuilder的容量"><a href="#StringBuilder的容量" class="headerlink" title="StringBuilder的容量"></a>StringBuilder的容量</h2><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// StringBuilder 本质上还是一个字符数组，只不过用了不同的封装，所以还是有容量的概念</span></span><br><span class="line">            <span class="comment">// StringBuilder存在一个容量的问题，每次往里面增加时会自动扩容</span></span><br><span class="line">            <span class="comment">// 可以类比我们之前自己做的扩容练习题，声明 stringBuilder1 默认就有一定长度(比如8)，</span></span><br><span class="line">            <span class="comment">// 较小的扩容时不用搬家，提升性能</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获得 StringBuilder 的字符长度 </span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Length);  <span class="comment">// 9，"123123123"长度是9</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获得 StringBuilder 的容量</span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Capacity);  <span class="comment">// 16</span></span><br><span class="line">            <span class="comment">// 当字符长度仍小于等于16的时候，不会扩容搬家</span></span><br><span class="line">            <span class="comment">// 当字符长度仍大于16的时候，扩容搬家，容量会扩大两倍变成32</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// new 出 StringBuilder 有个构造重载，传入容量大小，可以构造时就分配一个对应容量的房间，</span></span><br><span class="line">            <span class="comment">// 没超过这个容量就不会扩容搬家</span></span><br><span class="line">            StringBuilder stringBuilder2 = <span class="keyword">new</span> StringBuilder(<span class="string">"我直接分配了100个房间"</span>, <span class="number">100</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="StringBuilder的增删查改替换"><a href="#StringBuilder的增删查改替换" class="headerlink" title="StringBuilder的增删查改替换"></a>StringBuilder的增删查改替换</h2><p><strong><font size="4">增</font></strong></p>
<ul>
<li>Append 方法，AppendFormat 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            stringBuilder1.Append(<span class="string">"4444"</span>);  <span class="comment">// 直接尾部拼接上</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 1231231234444</span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Length);  <span class="comment">// 13</span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Capacity);  <span class="comment">// 16，没超过容量，未扩容</span></span><br><span class="line"></span><br><span class="line">            stringBuilder1.AppendFormat(<span class="string">"{0}{1}"</span>, <span class="number">100</span>, <span class="number">999</span>);  <span class="comment">// 逐个在尾部拼接上</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 1231231234444100999</span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Length);  <span class="comment">// 19</span></span><br><span class="line">            Console.WriteLine(stringBuilder1.Capacity);  <span class="comment">// 32，超过容量，扩容两倍</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">插入</font></strong></p>
<ul>
<li>Insert 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1=1231231234444100999;</span></span><br><span class="line">            stringBuilder1.Insert(<span class="number">1</span>, <span class="string">"陈雪琴"</span>);  <span class="comment">// 在索引0后1的位置插入字符串</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 1陈雪琴231231234444100999 </span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">删</font></strong></p>
<ul>
<li>Remove 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">             <span class="comment">//stringBuilder1=1陈雪琴231231234444100999;</span></span><br><span class="line">            stringBuilder1.Remove(<span class="number">0</span>, <span class="number">10</span>);  <span class="comment">// 移除掉索引0开始后10位</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 234444100999</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">查</font></strong></p>
<ul>
<li>直接使用索引器 stringBuilder1[x] get</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1=234444100999;</span></span><br><span class="line">            Console.WriteLine(stringBuilder1[<span class="number">1</span>]);  <span class="comment">// 3</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">改</font></strong></p>
<ul>
<li>直接使用索引器 stringBuilder1[x] set</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1=234444100999;</span></span><br><span class="line">            <span class="comment">// string 的索引器是只能 get 不能 set，StringBuilder 又能 get 又能 set</span></span><br><span class="line">            stringBuilder1[<span class="number">0</span>] = <span class="string">'A'</span>;</span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// A34444100999</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>string 的索引器是只能 get 不能 set，StringBuilder 又能 get 又能 set</p>
</blockquote>
<p><strong><font size="4">替换</font></strong></p>
<ul>
<li>Replace 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1=A34444100999;</span></span><br><span class="line">            <span class="comment">// string 要重新赋值，本体不会改，StringBuilder 会直接改 </span></span><br><span class="line">            stringBuilder1.Replace(<span class="string">"1"</span>, <span class="string">"L"</span>);  <span class="comment">// 搜索字符串中的字符1变成字符林</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// A34444L00999</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">清空</font></strong></p>
<ul>
<li>Clear 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1=A34444L00999;</span></span><br><span class="line">            stringBuilder1.Clear();  <span class="comment">// 清空字符串，变成空字符</span></span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 输出空</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">重新赋值</font></strong></p>
<ul>
<li>Clear 方法 + Append 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            stringBuilder1.Clear();</span><br><span class="line">            stringBuilder1.Append(<span class="string">"陈雪琴"</span>);</span><br><span class="line">            Console.WriteLine(stringBuilder1);  <span class="comment">// 陈雪琴</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">判断 StringBuilder 是否和某一个字符串相等</font></strong></p>
<ul>
<li>Equals 方法</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//stringBuilder1="陈雪琴";</span></span><br><span class="line">           <span class="comment">// StringBuilder 重写了 Equals 方法</span></span><br><span class="line">            <span class="keyword">if</span> (stringBuilder1.Equals(<span class="string">"陈雪琴"</span>))</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(<span class="string">"相等"</span>);  <span class="comment">// 相等</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="练习题-20"><a href="#练习题-20" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请描述 <em><strong><font color="#BA55D3">string</font></strong></em> 和 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 的区别</font></strong><br><strong><font size="3"> <em><strong><font color="#BA55D3">String</font></strong></em> 相对 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 更容易产生垃圾：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">String</font></strong></em> 是不可变的，每次对字符串进行修改、拼接、截取等操作都会创建新的字符串对象，导致内存中产生垃圾。</li>
<li><em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 是可变的，它使用一个可扩展的字符缓冲区，允许在现有对象的基础上进行修改而不创建新对象，因此更加节省内存。</li>
</ul>
<p><strong><font size="3">string 相对 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 更加灵活：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">String</font></strong></em> 提供了许多字符串操作的方法，如 Substring、ToUpper、ToLower 等，使得对字符串的处理更加方便。</li>
<li><em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 主要用于频繁的字符串拼接和修改，而提供的方法相对简单，功能相对较少。</li>
</ul>
<p><strong><font size="3">如何选择 string 还是 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> ? </font></strong></p>
<ul>
<li>需要频繁修改拼接的字符串时，可以使用 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 。</li>
<li>需要使用 <em><strong><font color="#BA55D3">String</font></strong></em> 独特的方法来处理一些特殊逻辑时，可以使用 <em><strong><font color="#BA55D3">String</font></strong></em> 。</li>
</ul>
<p><strong><font size="4">2.如何优化内存</font></strong><br><strong><font size="3">内存优化方面：</font></strong></p>
<ul>
<li><strong>少 new 对象，尽量重用：</strong></li>
<li>减少对象的创建，尽量重用已有的对象，避免产生过多的垃圾。</li>
</ul>
<p><strong><font size="3">合理使用 static：</font></strong></p>
<ul>
<li>使用 static 关键字定义静态成员，可以使这些成员在整个应用程序生命周期内只有一个实例，减少对象的创建和销毁。</li>
</ul>
<p><strong><font size="3">合理使用 <em><strong><font color="#BA55D3">String</font></strong></em> 和 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em>：</font></strong></p>
<ul>
<li>对于频繁修改的字符串，使用 <em><strong><font color="#BA55D3">StringBuilder</font></strong></em> 而不是 <em><strong><font color="#BA55D3">String</font></strong></em>，以减少不必要的内存开销。</li>
</ul>
<p><strong><font size="3">减少垃圾回收（GC）方面：</font></strong></p>
<ul>
<li><strong>避免频繁大对象的创建和释放：</strong></li>
<li>大对象生命周期结束时，会导致大对象堆内存的回收，频繁的大对象回收可能会影响应用程序性能。</li>
</ul>
<p><strong><font size="3">使用对象池：</font></strong></p>
<ul>
<li>对象池可以缓存并重用对象，避免频繁地创建和销毁对象，减轻垃圾回收的压力。</li>
</ul>
<p><strong><font size="3">小心使用终结器（Finalizer）：</font></strong></p>
<ul>
<li>终结器可能导致对象的延迟回收，增加垃圾回收的不确定性和开销。尽量避免过度使用终结器。</li>
</ul>
<blockquote>
<p>通过合理的内存管理和垃圾回收策略，可以有效优化应用程序的性能和资源利用。</p>
</blockquote>
<hr>
<h1 id="结构体和类的区别"><a href="#结构体和类的区别" class="headerlink" title="结构体和类的区别"></a>结构体和类的区别</h1><h2 id="结构体和类区别详解"><a href="#结构体和类区别详解" class="headerlink" title="结构体和类区别详解"></a>结构体和类区别详解</h2><p><strong><font size="4">结构体和类的区别概述：</font></strong></p>
<ul>
<li>结构体和类最大的区别是在存储空间上，因为结构体是值，类是引用。</li>
<li>存储位置结构体在栈上，类在堆上。</li>
<li>在赋值时，结构体是值传递，而类是引用传递。</li>
<li>结构体具备面向对象思想中的封装特性，但不具备继承和多态特性，因此使用频率较低。</li>
<li>由于结构体不具备继承，不能使用 <em><strong><font color="#9400D3">protected</font></strong></em> 访问修饰符。</li>
</ul>
<p><strong><font size="4">结构体和类的细节区别：</font></strong></p>
<ul>
<li>结构体是值类型，类是引用类型。</li>
<li>结构体存在栈中，类存在堆中。</li>
<li>结构体成员不能使用 <em><strong><font color="#9400D3">protected</font></strong></em> 访问修饰符，而类可以。</li>
<li>结构体成员变量声明不能指定初始值，而类可以。</li>
<li>结构体不能声明无参的构造函数，而类可以。</li>
<li>结构体声明有参构造函数后，无参构造不会被顶掉。</li>
<li>结构体不能声明析构函数，而类可以。</li>
<li>结构体不能被继承，而类可以。</li>
<li>结构体需要在构造函数中初始化所有成员变量，而类不需要。</li>
<li>结构体不能被静态 <em><strong><font color="#4F94CD">static</font></strong></em> 修饰（不存在静态结构体），而类可以。</li>
<li>结构体不能在自己内部声明和自己一样的结构体变量，而类可以。</li>
</ul>
<p><strong><font size="4">结构体的特别之处：</font></strong></p>
<ul>
<li>结构体可以继承接口，因为接口是行为的抽象。</li>
</ul>
<p><strong><font size="4">如何选择结构体和类：</font></strong></p>
<ul>
<li>想要使用继承和多态时，直接淘汰结构体，比如玩家、怪物等等。</li>
<li>对象是数据集合时，优先考虑结构体，比如位置、坐标等。</li>
<li>从值类型和引用类型赋值时的区别上去考虑，比如经常被赋值传递的对象，并且改变赋值对象，原对象不想跟着变化时，就用结构体，比如坐标、向量、旋转等等。</li>
</ul>
<hr>
<h1 id="抽象类和接口的区别"><a href="#抽象类和接口的区别" class="headerlink" title="抽象类和接口的区别"></a>抽象类和接口的区别</h1><p><strong><font size="4">知识回顾：</font></strong></p>
<p><strong><font size="3">抽象类和抽象方法：</font></strong></p>
<ul>
<li><em><strong><font color="#4F94CD">abstract</font></strong></em> 修饰的类和方法</li>
<li>抽象类不能实例化</li>
<li>抽象方法只能在抽象类中声明，是个纯虚方法，必须在子类中实现</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">AbstractClass</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">AbstractMethod</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">接口：</font></strong></p>
<ul>
<li><em><strong><font color="#9400D3">internal</font></strong></em> 自定义类型</li>
<li>是行为的抽象</li>
<li>不包含成员变量</li>
<li>仅包含方法、属性、索引器、事件，成员都不能实现，建议不写访问修饰符，默认 public 写 protected 的话要显示实现接口</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">MyInterface</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">InterfaceMethod</span>()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="抽象类和接口区别详解"><a href="#抽象类和接口区别详解" class="headerlink" title="抽象类和接口区别详解"></a>抽象类和接口区别详解</h2><p><strong><font size="4">抽象类和接口的相同点：</font></strong></p>
<ul>
<li>都可以被继承</li>
<li>都不能直接实例化</li>
<li>都可以包含方法声明</li>
<li>子类必须实现未实现的方法</li>
<li>都遵循里氏替换原则</li>
</ul>
<p><strong><font size="4">抽象类和接口的区别：</font></strong></p>
<ul>
<li>抽象类中可以有构造函数；接口中不能</li>
<li>抽象类只能被单一继承；接口可以被继承多个</li>
<li>抽象类中可以有成员变量；接口中不能</li>
<li>抽象类中可以声明成员方法、虚方法、抽象方法、静态方法；接口中只能声明没有实现的抽象方法</li>
<li>抽象类的方法可以使用访问修饰符；接口中建议不写，默认 <em><strong><font color="#9400D3">public</font></strong></em></li>
</ul>
<p><strong><font size="4">如何选择抽象类和接口：</font></strong></p>
<ul>
<li>表示对象的用抽象类，表示行为拓展的用接口。</li>
<li>不同对象拥有的共同行为，我们往往可以使用接口来实现。</li>
<li>举例：动物是一类对象，我们自然会选择抽象类；而飞翔是一个行为，我们自然会选择接口。</li>
</ul>
<hr>
<p>C#关键字样式高亮统一：<br>ref：<em><strong><font color="Purple">ref</font></strong></em><br>out：<em><strong><font color="Purple">out</font></strong></em><br>class：<em><strong><font color="#00BFFF">class</font></strong></em><br>operator：<em><strong><font color="orange">operator</font></strong></em><br>namespace：<em><strong><font color="#9400D3">namespace</font></strong></em><br>const：<em><strong><font color="orange">const</font></strong></em><br>static：<em><strong><font color="#4F94CD">static</font></strong></em><br>void：<em><strong><font color="Purple">void</font></strong></em><br>运算符：<font color="#9400D3">+</font><br>is：<em><strong><font color="#B22222">is</font></strong></em><br>as：<em><strong><font color="#B22222">as</font></strong></em><br>null：<em><strong><font color="#CD0000">null</font></strong></em><br>bool：<em><strong><font color="#BA55D3">bool</font></strong></em><br>base：<em><strong><font color="#4169E1">base</font></strong></em><br>this：<em><strong><font color="#4169E1">this</font></strong></em><br>object：<em><strong><font color="#9400D3">object</font></strong></em><br>sealed：<em><strong><font color="#4F94CD">sealed</font></strong></em><br>virtual：<em><strong><font color="#4F94CD">virtual</font></strong></em><br>override：<em><strong><font color="#4F94CD">override</font></strong></em><br>abstract：<em><strong><font color="#4F94CD">abstract</font></strong></em><br>interface：<em><strong><font color="#00BFFF">interface</font></strong></em><br>partial：<em><strong><font color="#4F94CD">partial</font></strong></em><br>public：<em><strong><font color="#9400D3">public</font></strong></em><br>protected：<em><strong><font color="#9400D3">protected</font></strong></em><br>internal：<em><strong><font color="#9400D3">internal</font></strong></em><br>using：<em><strong><font color="#9400D3">using</font></strong></em><br>string：<em><strong><font color="#BA55D3">string</font></strong></em><br>String：<em><strong><font color="#BA55D3">String</font></strong></em><br>char：<em><strong><font color="#BA55D3">char</font></strong></em><br>StringBuilder：<em><strong><font color="#BA55D3">StringBuilder</font></strong></em></p>
<p>C#文字样式统一：<br><strong><font color="#EECBAD">颜色</font></strong><br><em><strong><font color="#6B8E23">颜色</font></strong></em><br><em><strong><font color="#F4A460">颜色</font></strong></em></p>
<hr>
<p> <em>你阿里</em>//斜体<br> <strong>你阿里</strong>//粗体<br> <em><strong>你阿里</strong></em>//斜体加粗体<br>//灰色背景显示<br><code>C#基础的知识</code></p>
<p>//字体大小<br><font size="4"><br>222<br></font><br>//表格</p>
<table>
<thead>
<tr>
<th>列1</th>
<th>列2</th>
<th>列3</th>
</tr>
</thead>
<tbody><tr>
<td>第1行</td>
<td>12</td>
<td>13</td>
</tr>
<tr>
<td>第2行</td>
<td>22</td>
<td>23</td>
</tr>
<tr>
<td>第3行</td>
<td>32</td>
<td>33</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>列1</th>
</tr>
</thead>
<tbody><tr>
<td>第1行1111111111</td>
</tr>
<tr>
<td>第2行 111111111111111</td>
</tr>
<tr>
<td>第3行111111111111111111111111</td>
</tr>
</tbody></table>
<p>//文字颜色<br><font color="red"> 55555</font><br>//删除线<br><del>ch111111</del></p>
<blockquote>
<p>11111111111111111111111</p>
<blockquote>
<p>22222222222222222222222222</p>
</blockquote>
</blockquote>
<p>//文字背景颜色</p>
<table><tbody><tr><td bgcolor="#DCDCDC">背景色的设置是按照十六进制颜色值：#FFFF00</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#D1EEEE">背景色的设置是按照十六进制颜色值：#D1EEEE</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#C0FF3E">背景色的设置是按照十六进制颜色值：#C0FF3E</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#54FF9F">背景色的设置是按照十六进制颜色值：#54FF9F</td></tr></tbody></table>
 




</body></html>
</article>
    
    

</div>
<div id="post-next-prev" class="row">
    <div class="col-lg-12">
        <!-- title -->
        <h5 class="trm-title-with-divider">
            其他文章
            <span data-number="02"></span>
        </h5>
    </div>
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/Test.github.io/2025/01/07/C/" class="trm-cover-frame trm-anima-link">
            
            
                <img alt="cover" class="no-fancybox" src="/Test.github.io/img/block.jpg">
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /Test.github.io/categories/Unity/">
                    Unity
                </a>
            </div>
            <h5>
                <a href="/Test.github.io/2025/01/07/C/" class="trm-anima-link">
                    C#入门
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>25/01/07</li>
                <li>14:24</li>
                
                
            </ul>
        </div>
    </div>
</div>
    
    
</div>

    



                    <div class="trm-divider footer-divider"></div>

                    <!-- footer -->
                    <footer class="trm-scroll-animation">

    

    

    
        <div class="trm-footer-item">
            <span>
                由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v7.3.0
            </span>
            <span class="footer-separator" data-separator=" | "></span>
            <span> 
                主题 - 
                <a rel="noopener" href='https://github.com/MaLuns/hexo-theme-async' target='_blank'>Async</a>
                v2.1.0-beta.2
            </span>
        </div>
      

     

     
</footer>
 
                    <!-- footer end -->

                </div>
            </div>
        </div>
    </div>
</div>
            <!-- body end -->

            

    <div id="post-toc" class="post-toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#C-核心语法知识概述"  data-scroll-to="#C-核心语法知识概述"><span class="toc-text">C#核心语法知识概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#TOOD补齐"  data-scroll-to="#TOOD补齐"><span class="toc-text">TOOD补齐</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#面向对象的基本概念"  data-scroll-to="#面向对象的基本概念"><span class="toc-text">面向对象的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#面向对象的详解"  data-scroll-to="#面向对象的详解"><span class="toc-text">面向对象的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#学习目标"  data-scroll-to="#学习目标"><span class="toc-text">学习目标</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#TOOD补齐-1"  data-scroll-to="#TOOD补齐-1"><span class="toc-text">TOOD补齐</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#类和对象（封装）"  data-scroll-to="#类和对象（封装）"><span class="toc-text">类和对象（封装）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#面向对象概念回顾"  data-scroll-to="#面向对象概念回顾"><span class="toc-text">面向对象概念回顾</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#什么是类"  data-scroll-to="#什么是类"><span class="toc-text">什么是类</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#类声明在哪里"  data-scroll-to="#类声明在哪里"><span class="toc-text">类声明在哪里</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#类声明的语法"  data-scroll-to="#类声明的语法"><span class="toc-text">类声明的语法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#类声明的实例"  data-scroll-to="#类声明的实例"><span class="toc-text">类声明的实例</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#什么是（类）对象？"  data-scroll-to="#什么是（类）对象？"><span class="toc-text">什么是（类）对象？</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#实例化对象的基本语法"  data-scroll-to="#实例化对象的基本语法"><span class="toc-text">实例化对象的基本语法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#实例化对象"  data-scroll-to="#实例化对象"><span class="toc-text">实例化对象</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结"  data-scroll-to="#总结"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题"  data-scroll-to="#练习题"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#成员变量和访问修饰符"  data-scroll-to="#成员变量和访问修饰符"><span class="toc-text">成员变量和访问修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员变量"  data-scroll-to="#成员变量"><span class="toc-text">成员变量</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#访问修饰符"  data-scroll-to="#访问修饰符"><span class="toc-text">访问修饰符</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员变量的使用和初始值"  data-scroll-to="#成员变量的使用和初始值"><span class="toc-text">成员变量的使用和初始值</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-1"  data-scroll-to="#总结-1"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-1"  data-scroll-to="#练习题-1"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#成员方法"  data-scroll-to="#成员方法"><span class="toc-text">成员方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员方法的声明"  data-scroll-to="#成员方法的声明"><span class="toc-text">成员方法的声明</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-2"  data-scroll-to="#总结-2"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-2"  data-scroll-to="#练习题-2"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#构造函数、析构函数和垃圾回收"  data-scroll-to="#构造函数、析构函数和垃圾回收"><span class="toc-text">构造函数、析构函数和垃圾回收</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#构造函数"  data-scroll-to="#构造函数"><span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#析构函数"  data-scroll-to="#析构函数"><span class="toc-text">析构函数</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#垃圾回收机制"  data-scroll-to="#垃圾回收机制"><span class="toc-text">垃圾回收机制</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#TOOD-缺图片"  data-scroll-to="#TOOD-缺图片"><span class="toc-text">TOOD 缺图片</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-3"  data-scroll-to="#总结-3"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#成员属性"  data-scroll-to="#成员属性"><span class="toc-text">成员属性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员属性的基本概念"  data-scroll-to="#成员属性的基本概念"><span class="toc-text">成员属性的基本概念</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员属性的基本语法"  data-scroll-to="#成员属性的基本语法"><span class="toc-text">成员属性的基本语法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员属性中-get和set前-可以加访问修饰符"  data-scroll-to="#成员属性中-get和set前-可以加访问修饰符"><span class="toc-text">成员属性中 get和set前 可以加访问修饰符</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#get和set可以只有一个"  data-scroll-to="#get和set可以只有一个"><span class="toc-text">get和set可以只有一个</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#自动属性"  data-scroll-to="#自动属性"><span class="toc-text">自动属性</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#成员属性的使用"  data-scroll-to="#成员属性的使用"><span class="toc-text">成员属性的使用</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-4"  data-scroll-to="#总结-4"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-3"  data-scroll-to="#练习题-3"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#索引器"  data-scroll-to="#索引器"><span class="toc-text">索引器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-5"  data-scroll-to="#总结-5"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-4"  data-scroll-to="#练习题-4"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#静态成员"  data-scroll-to="#静态成员"><span class="toc-text">静态成员</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#静态成员详解"  data-scroll-to="#静态成员详解"><span class="toc-text">静态成员详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#常量和静态变量"  data-scroll-to="#常量和静态变量"><span class="toc-text">常量和静态变量</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-6"  data-scroll-to="#总结-6"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-5"  data-scroll-to="#练习题-5"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#静态类和静态构造函数"  data-scroll-to="#静态类和静态构造函数"><span class="toc-text">静态类和静态构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#静态类"  data-scroll-to="#静态类"><span class="toc-text">静态类</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#静态构造函数"  data-scroll-to="#静态构造函数"><span class="toc-text">静态构造函数</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-7"  data-scroll-to="#总结-7"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-6"  data-scroll-to="#练习题-6"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#拓展方法"  data-scroll-to="#拓展方法"><span class="toc-text">拓展方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#拓展方法基本概念"  data-scroll-to="#拓展方法基本概念"><span class="toc-text">拓展方法基本概念</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#拓展方法的基本语法"  data-scroll-to="#拓展方法的基本语法"><span class="toc-text">拓展方法的基本语法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#拓展方法的实例"  data-scroll-to="#拓展方法的实例"><span class="toc-text">拓展方法的实例</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#拓展方法的使用"  data-scroll-to="#拓展方法的使用"><span class="toc-text">拓展方法的使用</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#为自定义的类型拓展方法"  data-scroll-to="#为自定义的类型拓展方法"><span class="toc-text">为自定义的类型拓展方法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-8"  data-scroll-to="#总结-8"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-7"  data-scroll-to="#练习题-7"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#运算符重载"  data-scroll-to="#运算符重载"><span class="toc-text">运算符重载</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#运算符重载的基本概念"  data-scroll-to="#运算符重载的基本概念"><span class="toc-text">运算符重载的基本概念</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#运算符重载的基本语法"  data-scroll-to="#运算符重载的基本语法"><span class="toc-text">运算符重载的基本语法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#运算符重载的实例"  data-scroll-to="#运算符重载的实例"><span class="toc-text">运算符重载的实例</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#运算符重载的使用"  data-scroll-to="#运算符重载的使用"><span class="toc-text">运算符重载的使用</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#可重载和不可重载运算符"  data-scroll-to="#可重载和不可重载运算符"><span class="toc-text">可重载和不可重载运算符</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-9"  data-scroll-to="#总结-9"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-8"  data-scroll-to="#练习题-8"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#内部类和分部类"  data-scroll-to="#内部类和分部类"><span class="toc-text">内部类和分部类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#内部类"  data-scroll-to="#内部类"><span class="toc-text">内部类</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#分部类"  data-scroll-to="#分部类"><span class="toc-text">分部类</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#分布方法"  data-scroll-to="#分布方法"><span class="toc-text">分布方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#继承的基本规则（继承）"  data-scroll-to="#继承的基本规则（继承）"><span class="toc-text">继承的基本规则（继承）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#继承"  data-scroll-to="#继承"><span class="toc-text">继承</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#访问修饰符的影响"  data-scroll-to="#访问修饰符的影响"><span class="toc-text">访问修饰符的影响</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#子类和父类的同名成员"  data-scroll-to="#子类和父类的同名成员"><span class="toc-text">子类和父类的同名成员</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-10"  data-scroll-to="#总结-10"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-9"  data-scroll-to="#练习题-9"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#里氏替换原则"  data-scroll-to="#里氏替换原则"><span class="toc-text">里氏替换原则</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#里氏替换原则的基本概念"  data-scroll-to="#里氏替换原则的基本概念"><span class="toc-text">里氏替换原则的基本概念</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#里氏替换原则的基本实现"  data-scroll-to="#里氏替换原则的基本实现"><span class="toc-text">里氏替换原则的基本实现</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#is-和-as"  data-scroll-to="#is-和-as"><span class="toc-text">is 和 as</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-11"  data-scroll-to="#总结-11"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-10"  data-scroll-to="#练习题-10"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#继承中的构造函数"  data-scroll-to="#继承中的构造函数"><span class="toc-text">继承中的构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#继承中的构造函数-1"  data-scroll-to="#继承中的构造函数-1"><span class="toc-text">继承中的构造函数</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#继承中构造函数的执行顺序"  data-scroll-to="#继承中构造函数的执行顺序"><span class="toc-text">继承中构造函数的执行顺序</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#父类的无参构造函数的重要性"  data-scroll-to="#父类的无参构造函数的重要性"><span class="toc-text">父类的无参构造函数的重要性</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#通过base调用指定父类构造"  data-scroll-to="#通过base调用指定父类构造"><span class="toc-text">通过base调用指定父类构造</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-12"  data-scroll-to="#总结-12"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-11"  data-scroll-to="#练习题-11"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#万物之父和-装箱拆箱"  data-scroll-to="#万物之父和-装箱拆箱"><span class="toc-text">万物之父和 装箱拆箱</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#里氏替换原则知识点回顾："  data-scroll-to="#里氏替换原则知识点回顾："><span class="toc-text">里氏替换原则知识点回顾：</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#万物之父"  data-scroll-to="#万物之父"><span class="toc-text">万物之父</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#装箱-和-拆箱"  data-scroll-to="#装箱-和-拆箱"><span class="toc-text">装箱 和 拆箱</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-13"  data-scroll-to="#总结-13"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-12"  data-scroll-to="#练习题-12"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#密封类"  data-scroll-to="#密封类"><span class="toc-text">密封类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#密封类的详解"  data-scroll-to="#密封类的详解"><span class="toc-text">密封类的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-14"  data-scroll-to="#总结-14"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-13"  data-scroll-to="#练习题-13"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#virtual-override-base（多态）"  data-scroll-to="#virtual-override-base（多态）"><span class="toc-text">virtual override base（多态）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#没有多态时遇到的问题"  data-scroll-to="#没有多态时遇到的问题"><span class="toc-text">没有多态时遇到的问题</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#多态的使用"  data-scroll-to="#多态的使用"><span class="toc-text">多态的使用</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-15"  data-scroll-to="#总结-15"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-14"  data-scroll-to="#练习题-14"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#抽象类和抽象方法"  data-scroll-to="#抽象类和抽象方法"><span class="toc-text">抽象类和抽象方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#抽象类"  data-scroll-to="#抽象类"><span class="toc-text">抽象类</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#抽象方法"  data-scroll-to="#抽象方法"><span class="toc-text">抽象方法</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-16"  data-scroll-to="#总结-16"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-15"  data-scroll-to="#练习题-15"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#接口"  data-scroll-to="#接口"><span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#接口的详解"  data-scroll-to="#接口的详解"><span class="toc-text">接口的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#接口的使用"  data-scroll-to="#接口的使用"><span class="toc-text">接口的使用</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#接口可以继承接口"  data-scroll-to="#接口可以继承接口"><span class="toc-text">接口可以继承接口</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#显示实现接口"  data-scroll-to="#显示实现接口"><span class="toc-text">显示实现接口</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-17"  data-scroll-to="#总结-17"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-16"  data-scroll-to="#练习题-16"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#密封方法"  data-scroll-to="#密封方法"><span class="toc-text">密封方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#密封方法的详解"  data-scroll-to="#密封方法的详解"><span class="toc-text">密封方法的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-18"  data-scroll-to="#总结-18"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#命名空间"  data-scroll-to="#命名空间"><span class="toc-text">命名空间</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#命名空间的详解"  data-scroll-to="#命名空间的详解"><span class="toc-text">命名空间的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#关于修饰类的访问修饰符"  data-scroll-to="#关于修饰类的访问修饰符"><span class="toc-text">关于修饰类的访问修饰符</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-19"  data-scroll-to="#总结-19"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-17"  data-scroll-to="#练习题-17"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#万物之父中的方法"  data-scroll-to="#万物之父中的方法"><span class="toc-text">万物之父中的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-20"  data-scroll-to="#总结-20"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-18"  data-scroll-to="#练习题-18"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#string"  data-scroll-to="#string"><span class="toc-text">string</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#String详解"  data-scroll-to="#String详解"><span class="toc-text">String详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-19"  data-scroll-to="#练习题-19"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#StringBuilder"  data-scroll-to="#StringBuilder"><span class="toc-text">StringBuilder</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#StringBuilder的详解"  data-scroll-to="#StringBuilder的详解"><span class="toc-text">StringBuilder的详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#StringBuilder的容量"  data-scroll-to="#StringBuilder的容量"><span class="toc-text">StringBuilder的容量</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#StringBuilder的增删查改替换"  data-scroll-to="#StringBuilder的增删查改替换"><span class="toc-text">StringBuilder的增删查改替换</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-20"  data-scroll-to="#练习题-20"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#结构体和类的区别"  data-scroll-to="#结构体和类的区别"><span class="toc-text">结构体和类的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#结构体和类区别详解"  data-scroll-to="#结构体和类区别详解"><span class="toc-text">结构体和类区别详解</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#抽象类和接口的区别"  data-scroll-to="#抽象类和接口的区别"><span class="toc-text">抽象类和接口的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#抽象类和接口区别详解"  data-scroll-to="#抽象类和接口区别详解"><span class="toc-text">抽象类和接口区别详解</span></a></li></ol></li></ol>
    </div>

            
<div class="trm-fixed-container">
    
        <div class="trm-fixed-btn post-toc-btn" data-title="目录">
            <i class="iconfont fas fa-th-list"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="阅读模式" onclick="asyncFun.switchReadMode()">
            <i class="iconfont fas fa-book-reader"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="单栏和双栏切换" onclick="asyncFun.switchSingleColumn()">
            <i class="iconfont fas fa-arrows-alt-h"></i>
        </div>
    
    <div id="trm-back-top" class="trm-fixed-btn" data-title="回到顶部">
        <i class="iconfont fas fa-arrow-up"></i>
    </div>
</div>
        </div>
      </div>
      <!-- scroll container end -->
  </div>
  <!-- app wrapper end -->

  
  <!-- Plugin -->




    
    
<script src="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

    

    

    

    <!-- 数学公式 -->
    

    <!-- 评论插件 -->
    
        

        
    



<!-- CDN -->


    

    

    




    <!-- Service Worker -->
    
    <!-- baidu push -->
    


<script id="async-script" src="/Test.github.io/js/main.js?v=2.1.0-beta.2"></script>

</body>

</html>