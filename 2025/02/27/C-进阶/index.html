<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="x5-fullscreen" content="true">
<meta name="full-screen" content="yes">
<meta name="theme-color" content="#317EFB" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" name="viewport">
<meta property="og:type" content="article">
<meta property="og:title" content="C#进阶">
<meta property="og:url" content="https://l-cxq-520.github.io/Test.github.io/2025/02/27/C-%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale">
<meta property="og:image" content="https://l-cxq-520.github.io/Test.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/Test.github.io/img/404.jpg">
<meta property="article:published_time" content="2025-02-27T01:15:50.000Z">
<meta property="article:modified_time" content="2025-03-06T09:24:35.398Z">
<meta property="article:author" content="CXQ">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="001">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://l-cxq-520.github.io/Test.github.io/img/404.jpg">


<title >C#进阶</title>

<!-- Favicon -->

    <link href='/Test.github.io/img/favicon.svg?v=2.1.0-beta.2' rel='icon' type='image/png' sizes='16x16' ></link>


    <link href='/Test.github.io/img/favicon.svg?v=2.1.0-beta.2' rel='icon' type='image/png' sizes='32x32' ></link>




<!-- Plugin -->




    
<link rel="stylesheet" href="/Test.github.io/css/plugins/bootstrap.row.css">

    
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css">

    
    




<!-- Icon -->

    
<link rel="stylesheet" href="/Test.github.io/css/plugins/font-awesome.min.css">




<!-- Variable -->
<script>window.ASYNC_CONFIG = {"hostname":"l-cxq-520.github.io","author":"CXQ","root":"/Test.github.io/","typed_text":null,"theme_version":"2.1.0-beta.2","theme":{"switch":true,"default":"style-light"},"favicon":{"logo":"/img/favicon.svg","icon16":"/img/favicon.svg","icon32":"/img/favicon.svg","appleTouchIcon":null,"webmanifest":null,"visibilitychange":false,"hidden":"/failure.ico","showText":"(/≧▽≦/)咦！又好了！","hideText":"(●—●)喔哟，崩溃啦！"},"i18n":{"placeholder":"搜索文章...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）","author":"本文作者：","copyright_link":"本文链接：","copyright_license_title":"版权声明：","copyright_license_content":"本博客所有文章除特别声明外，均默认采用 undefined 许可协议。","copy_success":"复制成功","copy_failure":"复制失败","open_read_mode":"进入阅读模式","exit_read_mode":"退出阅读模式","notice_outdate_message":"距离上次更新已经 undefined 天了, 文章内容可能已经过时。","just":"刚刚","min":"分钟前","hour":"小时前","day":"天前","month":"个月前"},"swup":false,"plugin":{"flickr_justified_gallery":"https://unpkg.com/flickr-justified-gallery@latest/dist/fjGallery.min.js"},"icons":{"sun":"far fa-sun","moon":"far fa-moon","play":"fas fa-play","email":"far fa-envelope","next":"fas fa-arrow-right","calendar":"far fa-calendar-alt","clock":"far fa-clock","user":"far fa-user","back_top":"fas fa-arrow-up","close":"fas fa-times","search":"fas fa-search","reward":"fas fa-hand-holding-usd","user_tag":"fas fa-user-alt","toc_tag":"fas fa-th-list","read":"fas fa-book-reader","arrows":"fas fa-arrows-alt-h","double_arrows":"fas fa-angle-double-down","copy":"fas fa-copy"},"icontype":"font","highlight":{"plugin":"prismjs","theme":true,"copy":true,"lang":true,"title":"mac","height_limit":true}};</script>
<script id="async-page-config">window.PAGE_CONFIG = {"isPost":true,"isHome":false,"postUpdate":"2025-03-06 17:24:35"};</script>

<!-- Theme mode css -->
<link data-swup-theme rel="stylesheet" href="/Test.github.io/css/index.css?v=2.1.0-beta.2" id="trm-switch-style">
<script>
    let defaultMode = ASYNC_CONFIG.theme.default !=='auto' ?  ASYNC_CONFIG.theme.default : (window.matchMedia("(prefers-color-scheme: light)").matches ? 'style-light' : 'style-dark')
    let catchMode = localStorage.getItem('theme-mode') || defaultMode;
    let type = catchMode === 'style-dark' ? 'add' : 'remove';
    document.documentElement.classList[type]('dark')
</script>

<!-- CDN -->


    
    



<!-- Site Analytics -->
 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>

  <!-- app wrapper -->
  <div class="trm-app-frame">

    <!-- page preloader -->
    <div class="trm-preloader">
    <div class="trm-holder">
        <div class="preloader">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <!-- page preloader end -->

    <!-- change mode preloader -->
    <div class="trm-mode-swich-animation-frame">
    <div class="trm-mode-swich-animation">
        <i class="i-sun"><i class="iconfont far fa-sun"></i></i>
        <div class="trm-horizon"></div>
        <i class="i-moon"><i class="iconfont far fa-moon"></i></i>
    </div>
</div>
    <!-- change mode preloader end -->

      <!-- scroll container -->
      <div id="trm-dynamic-content" class="trm-swup-animation">
        <div id="trm-scroll-container" class="trm-scroll-container" style="opacity: 0">
            <!-- top bar -->
            <header class="trm-top-bar">
	<div class="container">
		<div class="trm-left-side">
			<!-- logo -->
<a href="/Test.github.io/" class="trm-logo-frame trm-anima-link">
    
        <img alt="logo" src="/Test.github.io/img/favicon.svg">
    
    
        <div class="trm-logo-text">
            Async<span>Theme</span>
        </div>
    
</a>
<!-- logo end -->
		</div>
		<div class="trm-right-side">
			<!-- menu -->
<div class="trm-menu">
    <nav>
        <ul>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/" target="">
                    首页
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/Test.github.io/archives2/" target="">
                            archives2
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/archives/" target="">
                    归档
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/categories/" target="">
                    分类
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/Test.github.io/tags/" target="">
                    标签
                </a>
                
            </li>
            
        </ul>
    </nav>
</div>
<!-- menu end -->
			
    <!-- mode switcher place -->
    <div class="trm-mode-switcher-place">
        <div class="trm-mode-switcher">
            <i class="iconfont far fa-sun"></i>
            <input class="tgl tgl-light" id="trm-swich" type="checkbox">
            <label class="trm-swich" for="trm-swich"></label>
            <i class="iconfont far fa-moon"></i>
        </div>
    </div>
    <!-- mode switcher place end -->

			
		</div>
		<div class="trm-menu-btn">
			<span></span>
		</div>
	</div>
</header>
            <!-- top bar end -->

            <!-- body -->
            
<div class="trm-content-start">
    <!-- banner -->
    <div class="trm-banner">
    
    <!-- banner cover -->
    <img style="object-position:top;object-fit:cover;" alt="banner" class="trm-banner-cover" src="/Test.github.io/img/banner.png">
    <!-- banner cover end -->
    

    <!-- banner content -->
    <div class="trm-banner-content trm-overlay">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-4"></div>
                
                <div class="col-lg-8">

                    <!-- banner title -->
                    <div class="trm-banner-text ">
                        <div class="trm-label trm-mb-20">
                            NEWS LETTER
                        </div>
                        <h1 class="trm-mb-30 trm-hsmb-font">
                            C#进阶
                        </h1>

                        
                            <ul class="trm-breadcrumbs trm-label">
                                <li>
                                    <a href="/Test.github.io/" class="trm-anima-link">Home</a>
                                </li>
                                <li>
                                    <span>
                                        2025
                                    </span>
                                </li>
                            </ul>
                        
                    </div>
                    <!-- banner title end -->

                    <!-- scroll hint -->
                    <span id="scroll-triger" class="trm-scroll-hint-frame">
                        <div class="trm-scroll-hint"></div>
                        <span class="trm-label">Scroll down</span>
                    </span>
                    <!-- scroll hint end -->

                </div>
            </div>
        </div>
    </div>
    <!-- banner content end -->
</div>
    <!-- banner end -->
    <div class="container">
        <div class="row">
            
                <div id="page-sidebar" class="col-lg-4 hidden-sm">
                    <!-- main card -->
                    <div class="trm-main-card-frame trm-sidebar">
    <div class="trm-main-card"> 
        <!-- card header -->
<div class="trm-mc-header">
    <div class="trm-avatar-frame trm-mb-20">
        <img alt="Avatar" class="trm-avatar" src="/Test.github.io/img/avatar.jpg">
    </div>
    <h5 class="trm-name trm-mb-15">
        ThemeAsync
    </h5>
    
</div>
<!-- card header end -->
        <!-- sidebar social -->

<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<div class="trm-social">
    
        <a href="https://github.com" title="Github" rel="nofollow" target="_blank">
            <i class="iconfont fab fa-github"></i>
        </a>
    
</div>

<!-- sidebar social end -->
        <!-- info -->
<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<ul class="trm-table trm-mb-20">
    
        <li>
            <div class="trm-label">
                Residence:
            </div>
            <div class="trm-label trm-label-light">
                Mars
            </div>
        </li>
    
</ul>
<!-- info end -->

        
    </div>
</div>
                    <!-- main card end -->
                </div>
            
            <div id="page-content" class="col-lg-8">
                <div class="trm-content" id="trm-content">
                    <div id="post-info" class="row hidden-sm">
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-calendar-alt trm-icon"></i><br>
            02/27
        </div>
    </div>
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-clock trm-icon"></i><br>
            09:15
        </div>
    </div>
    <div class="col-sm-4">
        <div id="post-author" class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-user trm-icon"></i><br>
            CXQ
        </div>
    </div>
</div>
<div class="trm-card ">
    <article id="article-container" class="trm-publication">
    <html><head></head><body><h1 id="C-进阶语法知识概述"><a href="#C-进阶语法知识概述" class="headerlink" title="C#进阶语法知识概述"></a>C#进阶语法知识概述</h1><h2 id="TOOD缺少"><a href="#TOOD缺少" class="headerlink" title="TOOD缺少"></a>TOOD缺少</h2><h1 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a><em><strong><font color="#BA55D3">ArrayList</font></strong></em></h1><ul>
<li>简单数据结构类- <em><strong><font color="#BA55D3">ArrayList</font></strong></em></li>
</ul>
<h2 id="ArrayList-详解"><a href="#ArrayList-详解" class="headerlink" title="ArrayList 详解"></a><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 详解</h2><p><strong><font size="4">ArrayList的本质：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 是一个C#为我们封装好的类，它的本质是一个 <em><strong><font color="#9400D3">object</font></strong></em> 类型的数组（可以存储任何类型的数组）。<em><strong><font color="#BA55D3">ArrayList</font></strong></em> 类帮助我们实现了很多方法，比如数组的增删查改。</li>
</ul>
<p><strong><font size="4">ArrayList的申明：</font></strong></p>
<ul>
<li>需要引用命名空间using System.Collections; 包含一些集合类。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">ArrayList的增删查改和遍历：</font></strong></p>
<p><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前arrayList中的元素有：————长度为0.</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ }————为空</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Add方法：</font></strong></p>
<ul>
<li>直接在ArrayList末尾增加对应元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">   {</span><br><span class="line"></span><br><span class="line">   }</span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line"></span><br><span class="line">           arrayList.Add(<span class="number">1</span>);</span><br><span class="line">           arrayList.Add(<span class="string">"123"</span>);</span><br><span class="line">           arrayList.Add(<span class="literal">true</span>);</span><br><span class="line">           arrayList.Add(<span class="keyword">new</span> <span class="built_in">object</span>());</span><br><span class="line">           arrayList.Add(<span class="keyword">new</span> Test());</span><br><span class="line">           arrayList.Add(<span class="number">1</span>);</span><br><span class="line">           arrayList.Add(<span class="literal">true</span>);</span><br><span class="line">           Console.WriteLine(arrayList.Count);<span class="comment">//7</span></span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">AddRange方法：</font></strong></p>
<ul>
<li>范围增加（批量增加，把另一个ArrayList容器里面的所有元素加到当前ArrayList容器后面）。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   ArrayList arrayList2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">   arrayList2.Add(<span class="string">"我是arrayList2中的元素"</span>);</span><br><span class="line">   arrayList.AddRange(arrayList2); <span class="comment">// 会把arrayList2中所有元素拼接在arrayList后面</span></span><br><span class="line">   Console.WriteLine(arrayList.Count);<span class="comment">//8</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Insert方法：</font></strong></p>
<ul>
<li>往指定位置插入元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   arrayList.Insert(<span class="number">8</span>, <span class="string">"我是arrayList中索引为8的元素"</span>);</span><br><span class="line">   Console.WriteLine(arrayList[<span class="number">8</span>]); <span class="comment">// 我是arrayList中索引为8的元素</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>增完之后arrayList中的元素有：————长度为9</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True, System.Object, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">删：</font></strong></p>
<ul>
<li>当前arrayList中的元素有：————长度为9</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True, System.Object, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Remove方法：</font></strong></p>
<ul>
<li>移除指定元素，从头找，找到即删，假如有多个只会删除第一个。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   arrayList.Remove(<span class="number">1</span>); <span class="comment">// 删除指定元素1</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">RemoveAt方法：</font></strong></p>
<ul>
<li>移除指定位置的元素，索引从0开始。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   arrayList.RemoveAt(<span class="number">2</span>); <span class="comment">// 删除索引为2的System.Object</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Clear方法：</font></strong></p>
<ul>
<li>清空ArrayList中所有元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   arrayList.Clear(); <span class="comment">// 为了后面测试方便，先注释</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>删完之后arrayList中的元素有：————长度为7</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">123</span>, True, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前arrayList中的元素有：————长度为7</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">123</span>, True, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ArrayList[x]索引器get：</font></strong></p>
<ul>
<li>得到指定位置x的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   Console.WriteLine(arrayList[<span class="number">0</span>]); <span class="comment">// 123</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法：</font></strong></p>
<ul>
<li>传入元素，查看元素是否存在。存在返回true，否则返回false。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="keyword">if</span> (arrayList.Contains(<span class="string">"123"</span>))</span><br><span class="line">   {</span><br><span class="line">       Console.WriteLine(<span class="string">"存在123"</span>); <span class="comment">// 存在123</span></span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">IndexOf方法：</font></strong></p>
<ul>
<li>正向查找元素位置。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// 找到的返回值是位置，找不到返回值是-1，假如有多个，只会返回从头数第一找到的元素的位置</span></span><br><span class="line">   <span class="built_in">int</span> index = arrayList.IndexOf(<span class="literal">true</span>);</span><br><span class="line">   Console.WriteLine(index); <span class="comment">// 1 找到从头数第一个true在索引1位置，假如有两个true只会返回第一个true所在的位置</span></span><br><span class="line">   Console.WriteLine(arrayList.IndexOf(<span class="literal">false</span>)); <span class="comment">// -1 找不到false这个元素</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">LastIndexOf方法：</font></strong></p>
<ul>
<li>反向查找元素位置。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// 返回时从头开始的索引数</span></span><br><span class="line">   index = arrayList.LastIndexOf(<span class="literal">true</span>);</span><br><span class="line">   Console.WriteLine(index); <span class="comment">// 4 找到从末尾数第一个true在索引4位置，假如有两个true只会返回从末尾数第一个true所在的位置</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前arrayList中的元素有：————长度为7</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">123</span>, True, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ArrayList[x] = “” 索引器set：</font></strong></p>
<ul>
<li>修改指定位置x的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   Console.WriteLine(arrayList[<span class="number">0</span>]); <span class="comment">// 123</span></span><br><span class="line">   arrayList[<span class="number">0</span>] = <span class="string">"999"</span>;</span><br><span class="line">   Console.WriteLine(arrayList[<span class="number">0</span>]); <span class="comment">// 999</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>改完之后arrayList中的元素有：————长度为7</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">999</span>, True, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前arrayList中的元素有：————长度为7</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">999</span>, True, _1.ArrayLists.Test, <span class="number">1</span>, True, 我是arrayList2中的元素, 我是arrayList中索引为<span class="number">8</span>的元素 }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count属性：</font></strong></p>
<ul>
<li>返回ArrayList的长度，具体存了多少个。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   Console.WriteLine(arrayList.Count); <span class="comment">// 7  </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Capacity属性：</font></strong></p>
<ul>
<li>返回ArrayList的容量</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// 每次长度大于容量时会扩容至当前容量的两倍，避免产生过多的垃圾</span></span><br><span class="line">   Console.WriteLine(arrayList.Capacity); <span class="comment">// 16</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">普通for循环遍历：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">       Console.WriteLine(<span class="string">"**********普通for循环遍历**********"</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arrayList.Count; i++)</span><br><span class="line">       {</span><br><span class="line">           Console.WriteLine(arrayList[i]);</span><br><span class="line">           <span class="comment">//{ 999, True, _1.ArrayLists.Test, 1, True, 我是arrayList2中的元素, 我是arrayList中索引为8的元素 }</span></span><br><span class="line">       }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">迭代器foreach遍历：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">     Console.WriteLine(<span class="string">"**********迭代器foreach遍历**********"</span>);</span><br><span class="line">       <span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> arrayList)</span><br><span class="line">       {</span><br><span class="line">           Console.WriteLine(item);</span><br><span class="line">           <span class="comment">//{ 999, True, _1.ArrayLists.Test, 1, True, 我是arrayList2中的元素, 我是arrayList中索引为8的元素 }</span></span><br><span class="line">       }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4"> <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 的装箱拆箱：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 本质上是一个可以自动扩容的 <em><strong><font color="#9400D3">object</font></strong></em> 数组，由于用 <em><strong><font color="#9400D3">object</font></strong></em> 来存储数据，自然存在装箱拆箱。当往其中进行值类型存储时就是在装箱，当将值类型元素取出来转换使用时，就存在拆箱。</li>
</ul>
<p><strong><font size="3">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="built_in">int</span> k = <span class="number">1</span>;</span><br><span class="line">   arrayList[<span class="number">0</span>] = k; <span class="comment">// 装箱，ArrayList的元素是object类型的，把值类型用引用类型来存 </span></span><br><span class="line">   k = (<span class="built_in">int</span>)arrayList[<span class="number">0</span>]; <span class="comment">// 拆箱，ArrayList的元素是object类型的，把引用类型强转成值类型</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请简述 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 和数组的区别</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 本质上是一个 <em><strong><font color="#9400D3">object</font></strong></em> 数组的封装，而数组是一种数据结构，用来存储固定大小的相同类型元素的集合。</li>
<li><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 可以动态增长和缩减，而数组的长度在创建时就已经确定，不能动态改变。</li>
<li>数组可以指定存储类型，而 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 默认存储的是 <em><strong><font color="#9400D3">object</font></strong></em> 类型。</li>
<li>数组的增删操作需要手动实现，而 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 提供了方便的API来实现增删操作。</li>
<li>使用 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 时可能存在装箱拆箱的问题，而数组不会存在这个问题，除非是 <em><strong><font color="#9400D3">object</font></strong></em> 数组。</li>
<li>数组的长度属性为Length，而 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 的长度属性为Count。</li>
</ul>
</details>

<p><strong><font size="4">2.创建一个背包管理类，使用 <em><strong><font color="#BA55D3">ArrayList</font></strong></em> 存储物品，实现购买物品，卖出物品，显示物品的功能。购买与卖出物品会导致金钱变化</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 背包管理类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">BagMgr</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 背包中的物品列表</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList items;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 背包中的金钱</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> money;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 背包管理类构造函数，初始化背包中的金钱和物品列表</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BagMgr</span>(<span class="params"><span class="built_in">int</span> money</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">        items = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 购买物品</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BuyItem</span>(<span class="params">Item item</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 检测物品信息是否正确</span></span><br><span class="line">        <span class="keyword">if</span> (item.num &lt;= <span class="number">0</span> || item.money &lt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"请传入正确的物品信息"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检查金钱是否足够</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.money &lt; item.money * item.num)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"买不起，钱不够"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 扣除金钱</span></span><br><span class="line">        <span class="keyword">this</span>.money -= item.money * item.num;</span><br><span class="line">        Console.WriteLine(<span class="string">"购买{0}{1}个，花费{2}钱"</span>, item.name, item.num, item.money * item.num);</span><br><span class="line">        Console.WriteLine(<span class="string">"剩余{0}元钱"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检查背包中是否已有该物品，如有，数量叠加</span></span><br><span class="line">        <span class="keyword">foreach</span> (Item i <span class="keyword">in</span> items)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (i.id == item.id)</span><br><span class="line">            {</span><br><span class="line">                i.num += item.num;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 若背包中没有该物品，则添加到背包</span></span><br><span class="line">        items.Add(item);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 卖出物品</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SellItem</span>(<span class="params">Item item</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; items.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> ((items[i] <span class="keyword">as</span> Item).id == item.id)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">int</span> num = Math.Min((items[i] <span class="keyword">as</span> Item).num, item.num); <span class="comment">// 实际卖出的数量</span></span><br><span class="line">                <span class="built_in">string</span> name = (items[i] <span class="keyword">as</span> Item).name;</span><br><span class="line">                <span class="built_in">int</span> sellMoney = (<span class="built_in">int</span>)(num * (items[i] <span class="keyword">as</span> Item).money * <span class="number">0.8f</span>); <span class="comment">// 打八折</span></span><br><span class="line">                <span class="keyword">this</span>.money += sellMoney; <span class="comment">// 加到总金币中</span></span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">"卖了{0}{1}个，赚了{2}钱"</span>, name, num, sellMoney);</span><br><span class="line">                Console.WriteLine(<span class="string">"目前拥有{0}元钱"</span>, <span class="keyword">this</span>.money);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 减少背包中物品数量，如果数量为0，则从背包中移除该物品</span></span><br><span class="line">                (items[i] <span class="keyword">as</span> Item).num -= num;</span><br><span class="line">                <span class="keyword">if</span> ((items[i] <span class="keyword">as</span> Item).num == <span class="number">0</span>)</span><br><span class="line">                {</span><br><span class="line">                    items.RemoveAt(i);</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显示物品</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowItem</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">foreach</span> (Item item <span class="keyword">in</span> items)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"有{0}{1}个"</span>, item.name, item.num);</span><br><span class="line">        }</span><br><span class="line">        Console.WriteLine(<span class="string">"当前拥有{0}元钱"</span>, <span class="keyword">this</span>.money);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 物品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Item</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id; <span class="comment">// 物品唯一ID</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> money; <span class="comment">// 物品价格</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name; <span class="comment">// 物品名称</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> num; <span class="comment">// 物品数量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 物品类构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Item</span>(<span class="params"><span class="built_in">int</span> id, <span class="built_in">int</span> money, <span class="built_in">string</span> name, <span class="built_in">int</span> num</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            BagMgr myBag = <span class="keyword">new</span> BagMgr(<span class="number">99999</span>); <span class="comment">// 初始化背包，金钱99999</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 创造几个物品</span></span><br><span class="line">            Item item1 = <span class="keyword">new</span> Item(<span class="number">1</span>, <span class="number">10</span>, <span class="string">"红药"</span>, <span class="number">10</span>);</span><br><span class="line">            Item item2 = <span class="keyword">new</span> Item(<span class="number">2</span>, <span class="number">20</span>, <span class="string">"蓝药"</span>, <span class="number">10</span>);</span><br><span class="line">            Item item3 = <span class="keyword">new</span> Item(<span class="number">3</span>, <span class="number">999</span>, <span class="string">"屠龙刀"</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            myBag.BuyItem(item1); <span class="comment">// 购买红药10个，花费100钱，剩余99899元钱</span></span><br><span class="line">            myBag.BuyItem(item2); <span class="comment">// 购买蓝药10个，花费200钱，剩余99699元钱</span></span><br><span class="line">            myBag.BuyItem(item3); <span class="comment">// 购买屠龙刀1个，花费999钱，剩余98700元钱</span></span><br><span class="line"></span><br><span class="line">            myBag.SellItem(item3); <span class="comment">// 卖了屠龙刀1个，赚了799钱，目前拥有99499元钱</span></span><br><span class="line">            myBag.SellItem(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 卖了红药1个，赚了8钱，目前拥有99507元钱</span></span><br><span class="line"></span><br><span class="line">            myBag.SellItem(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 卖了红药1个，赚了8钱，目前拥有99515元钱</span></span><br><span class="line">            myBag.SellItem(<span class="number">2</span>, <span class="number">1</span>); <span class="comment">// 卖了蓝药1个，赚了16钱，目前拥有99531元钱</span></span><br><span class="line">            myBag.SellItem(<span class="number">2</span>, <span class="number">1</span>); <span class="comment">// 卖了蓝药1个，赚了16钱，目前拥有99547元钱</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a><em><strong><font color="#BA55D3">Stack</font></strong></em></h1><h2 id="Stack-详解"><a href="#Stack-详解" class="headerlink" title="Stack 详解"></a><em><strong><font color="#BA55D3">Stack</font></strong></em> 详解</h2><p><strong><font size="4"> <em><strong><font color="#BA55D3">Stack</font></strong></em> 的本质：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">Stack</font></strong></em>（栈）是一个C#为我们封装好的类，它的本质也是 <em><strong><font color="#9400D3">object</font></strong></em> []数组，只是封装了特殊的存储规则。</li>
<li><em><strong><font color="#BA55D3">Stack</font></strong></em> 是栈存储容器，栈是一种先进后出的数据结构，即先存入的数据后获取，后存入的数据先获取。</li>
</ul>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Stack</font></strong></em> 的声明：</font></strong></p>
<ul>
<li>需要引用命名空间 using System.Collections; 包含一些集合类。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stack stack = <span class="keyword">new</span> Stack();</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Stack</font></strong></em> 的增取查改和便利：</font></strong><br><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前stack中的元素有：————长度0</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Push方法：</font></strong></p>
<ul>
<li>压栈，把元素往栈中压。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">   {</span><br><span class="line"></span><br><span class="line">   }</span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line"></span><br><span class="line">           stack.Push(<span class="number">1</span>);</span><br><span class="line">           stack.Push(<span class="string">"123"</span>);</span><br><span class="line">           stack.Push(<span class="literal">true</span>);</span><br><span class="line">           stack.Push(<span class="number">1.2f</span>);</span><br><span class="line">           stack.Push(<span class="keyword">new</span> Test());</span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>增完之后 <em><strong><font color="#BA55D3">Stack</font></strong></em> 中的元素有：————长度5</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True, <span class="number">1.2f</span>, _2.Stacks.Test }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">取：</font></strong></p>
<ul>
<li>当前stack中的元素有：————长度5</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True, <span class="number">1.2f</span>, _2.Stacks.Test }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>栈中不存在删除的概念，只有取的概念。</p>
</blockquote>
<p><strong><font size="3">Pop方法：</font></strong></p>
<ul>
<li>弹栈，把元素从栈顶上弹出。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="built_in">object</span> v = stack.Pop();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// _2.Stacks.Test</span></span><br><span class="line">   v = stack.Pop();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// 1.2f</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>增完之后 <em><strong><font color="#BA55D3">Stack</font></strong></em> 中的元素有：————长度3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前stack中的元素有：————长度3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Peek方法：</font></strong></p>
<ul>
<li>查看栈顶元素。栈无法查看指定位置的元素，只能查看栈顶元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// v = stack.Pop(); 上述变量</span></span><br><span class="line">   <span class="comment">// Peek方法只会查看栈顶元素，不会弹出栈顶元素</span></span><br><span class="line">   v = stack.Peek();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// True</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法：</font></strong></p>
<ul>
<li>传入元素，查看元素是否存在于栈中。存在返回true，否则返回false。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (stack.Contains(<span class="string">"123"</span>))</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在123"</span>); <span class="comment">// 存在123</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前stack中的元素有：————长度3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True}</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>栈无法改变其中的元素，只能压（存）和弹（取）。如果实在要改，只有清空。</p>
</blockquote>
<p><strong><font size="3">Clear方法：</font></strong></p>
<ul>
<li>清空栈所有元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   stack.Clear(); <span class="comment">// 会清空栈，为后面方便演示，注释</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前stack中的元素有：————长度3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, True}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count属性：</font></strong></p>
<ul>
<li>返回栈的长度。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line"> Console.WriteLine(stack.Count); <span class="comment">// 3</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历栈：</font></strong></p>
<ul>
<li>用foreach遍历 遍历出来的顺序也是从栈顶到栈底。栈不能直接通过for循环遍历，因为栈没有提供索引器通过[]访问。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> stack)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，栈顶到栈底</span></span><br><span class="line">        <span class="comment">// True</span></span><br><span class="line">        <span class="comment">// 123</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ToArray方法：</font></strong></p>
<ul>
<li>将栈转换为object数组，再用for循环遍历。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 遍历出来的顺序也是从栈顶到栈底</span></span><br><span class="line">    <span class="built_in">object</span>[] stackToObjectArray = stack.ToArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; stackToObjectArray.Length; i++)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(stackToObjectArray[i]);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，栈顶到栈底</span></span><br><span class="line">        <span class="comment">// True</span></span><br><span class="line">        <span class="comment">// 123</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">    }</span><br><span class="line">    Console.WriteLine(stack.Count); <span class="comment">// 栈的长度仍然是3，不被影响</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">while循环弹栈：</font></strong></p>
<ul>
<li>每次循环弹出栈顶元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line"> {</span><br><span class="line">    <span class="keyword">while</span> (stack.Count &gt; <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">object</span> o = stack.Pop();</span><br><span class="line">        Console.WriteLine(o);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，栈顶到栈底</span></span><br><span class="line">        <span class="comment">// True</span></span><br><span class="line">        <span class="comment">// 123</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">    }</span><br><span class="line">    Console.WriteLine(stack.Count); <span class="comment">// 栈的长度变为0，栈空</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Stack</font></strong></em> 的装箱拆箱：</font></strong></p>
<ul>
<li>由于用 <em><strong><font color="#9400D3">object</font></strong></em> 来存储数据，自然存在装箱拆箱。当往其中进行值类型存储时就是在装箱，当将值类型对象取出来转换使用时，就存在拆箱。</li>
</ul>
<h2 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请简述栈的存储规则</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li>栈是一种后进先出（LIFO，Last In First Out）的数据结构，即最后进入栈的元素最先被取出。</li>
<li>栈的存储规则是先进后出，最新的元素总是在栈顶，而最旧的元素在栈底。</li>
</ul>
</details>

<p><strong><font size="4">2.写一个方法计算任意一个数的二进制数，使用栈结构方式存储，之后打印出来</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算十进制转二进制方法</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CalculateDecimalToBinary</span>(<span class="params"><span class="built_in">uint</span> num</span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.Write(<span class="string">"{0}的二进制是："</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个栈</span></span><br><span class="line">    Stack stack = <span class="keyword">new</span> Stack();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 循环遍历压栈</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 保存除2的余数</span></span><br><span class="line">        stack.Push(num % <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 除2</span></span><br><span class="line">        num /= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果当前被除数是1的话 存了这个1就跳出while循环</span></span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            stack.Push(num);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 循环弹栈，打印转化后的2进制</span></span><br><span class="line">    <span class="keyword">while</span> (stack.Count &gt; <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        Console.Write(stack.Pop());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Console.WriteLine();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用例子模拟演算</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/10</span></span><br><span class="line">    <span class="comment">//num = 10;</span></span><br><span class="line">    <span class="comment">//stack.Push(num % 2);//0</span></span><br><span class="line">    <span class="comment">//num /= 2;//5</span></span><br><span class="line">    <span class="comment">//stack.Push(num % 2);//1</span></span><br><span class="line">    <span class="comment">//num /= 2;//2</span></span><br><span class="line">    <span class="comment">//stack.Push(num % 2);//0</span></span><br><span class="line">    <span class="comment">//num /= 2;//1</span></span><br><span class="line">    <span class="comment">//if( num == 1 )</span></span><br><span class="line">    <span class="comment">//{</span></span><br><span class="line">    <span class="comment">//    stack.Push(num);//1</span></span><br><span class="line">    <span class="comment">//}</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 调用示例</span></span><br><span class="line">            CalculateDecimalToBinary(<span class="number">10</span>);  <span class="comment">// 10的二进制是：1010</span></span><br><span class="line">            CalculateDecimalToBinary(<span class="number">2</span>);   <span class="comment">// 2的二进制是：10</span></span><br><span class="line">            CalculateDecimalToBinary(<span class="number">3</span>);   <span class="comment">// 3的二进制是：11</span></span><br><span class="line">            CalculateDecimalToBinary(<span class="number">8</span>);   <span class="comment">// 8的二进制是：1000</span></span><br><span class="line">            CalculateDecimalToBinary(<span class="number">16</span>);  <span class="comment">// 16的二进制是：10000</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>
---

<h1 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a><em><strong><font color="#BA55D3">Queue</font></strong></em></h1><h2 id="Queue-详解"><a href="#Queue-详解" class="headerlink" title="Queue 详解"></a><em><strong><font color="#BA55D3">Queue</font></strong></em> 详解</h2><p><strong><font size="4"> <em><strong><font color="#BA55D3">Queue</font></strong></em> 的本质：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">Queue</font></strong></em>（队列）是一个C#为我们封装好的类，它的本质也是 <em><strong><font color="#9400D3">object</font></strong></em> []数组，只是封装了特殊的存储规则。</li>
<li><em><strong><font color="#BA55D3">Queue</font></strong></em> 是队列存储容器，队列是一种先进先出的数据结构，即先存入的数据先获取，后存入的数据后获取。</li>
</ul>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Queue</font></strong></em> 的声明：</font></strong></p>
<ul>
<li>需要引用命名空间 System.Collections。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Queue queue = <span class="keyword">new</span> Queue();</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Queue</font></strong></em> 的增取查改和遍历：</font></strong><br><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前queue中的元素有：————长度0</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Enqueue方法：</font></strong></p>
<ul>
<li>传入元素直接让元素入队。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">   {</span><br><span class="line"></span><br><span class="line">   }</span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   {</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">       {</span><br><span class="line">           queue.Enqueue(<span class="number">1</span>);</span><br><span class="line">           queue.Enqueue(<span class="string">"123"</span>);</span><br><span class="line">           queue.Enqueue(<span class="number">1.4f</span>);</span><br><span class="line">           queue.Enqueue(<span class="keyword">new</span> Test());</span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>增完之后queue中的元素有： ————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, <span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">取：</font></strong></p>
<ul>
<li>当前queue中的元素有： ————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>, <span class="number">123</span>, <span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>队列中不存在删除的概念，只有取的概念，取出先加入的对象。</p>
</blockquote>
<p><strong><font size="3">Dequeue方法：</font></strong></p>
<ul>
<li>取出队首元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="built_in">object</span> v = queue.Dequeue();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// 1</span></span><br><span class="line">   v = queue.Dequeue();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// 123</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>取完之后queue中的元素有：————长度2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前queue中的元素有： ————长度2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{<span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Peek方法：</font></strong></p>
<ul>
<li>查看队首元素。队列无法查看指定位置的元素，只能查看队首元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// Peek方法只会查看队首元素，不会移除队首元素</span></span><br><span class="line">   v = queue.Peek();</span><br><span class="line">   Console.WriteLine(v); <span class="comment">// 1.4</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法：</font></strong></p>
<ul>
<li>传入元素，查看元素是否存在于队列中。存在返回true，否则返回false。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">   <span class="keyword">if</span> (queue.Contains(<span class="number">1.4f</span>))</span><br><span class="line">   {</span><br><span class="line">       Console.WriteLine(<span class="string">"队列中存在1.4f"</span>); <span class="comment">// 队列中存在1.4f</span></span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前queue中的元素有： ————长度2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{<span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>队列无法改变其中的元素，只能进出队列。如果实在要改，只有清空。</p>
</blockquote>
<p><strong><font size="3">Clear方法：</font></strong></p>
<ul>
<li>清空队列中所有元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    queue.Clear(); <span class="comment">// 会清空队列，为后面方便演示，注释</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前queue中的元素有： ————长度2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{<span class="number">1.4f</span>, _3.Queues.Test }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count属性：</font></strong></p>
<ul>
<li>返回队列的长度。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(queue.Count); <span class="comment">// 2</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历队列：</font></strong></p>
<ul>
<li>用foreach遍历遍历出来的顺序也是从队首到队尾。队列不能直接通过for循环遍历，因为队列没有提供索引器通过[]访问。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> queue)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，队首到队尾</span></span><br><span class="line">        <span class="comment">// 1.4</span></span><br><span class="line">        <span class="comment">// _3.Queues.Test.Test</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ToArray方法：</font></strong></p>
<ul>
<li>将队列转换为object数组，再用for循环遍历。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 遍历出来的顺序也是从队首到队尾</span></span><br><span class="line">    <span class="built_in">object</span>[] array = queue.ToArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Length; i++)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(array[i]);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，队首到队尾</span></span><br><span class="line">        <span class="comment">// 1.4</span></span><br><span class="line">        <span class="comment">// _3.Queues.Test.Test</span></span><br><span class="line">    }</span><br><span class="line">        Console.WriteLine(queue.Count); <span class="comment">// 队列的长度仍然是2，不被影响</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">while循环出队：</font></strong></p>
<ul>
<li>每次循环弹出队首元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">while</span> (queue.Count &gt; <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">object</span> o = queue.Dequeue();</span><br><span class="line">        Console.WriteLine(o);</span><br><span class="line">        <span class="comment">// 打印的顺序如下，队首到队尾</span></span><br><span class="line">        <span class="comment">// 1.4</span></span><br><span class="line">        <span class="comment">// Lesson03_Queue.Test</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(queue.Count); <span class="comment">// 队列的长度变为0，队列空</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4"> <em><strong><font color="#BA55D3">Queue</font></strong></em> 的装箱拆箱：</font></strong></p>
<ul>
<li>由于用 <em><strong><font color="#9400D3">object</font></strong></em> 来存储数据，自然存在装箱拆箱。当往其中进行值类型存储时就是在装箱，当将值类型对象取出来转换使用时，就存在拆箱。</li>
</ul>
<h2 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请简述队列的存储规则</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li>队列是一种先进先出（FIFO，First In First Out）的数据结构，即最先进入队列的元素最先被取出。</li>
<li>队列的存储规则是先进先出，最先添加的元素在队列的前面，而最后添加的元素在队列的后面。</li>
</ul>
</details>



<p><strong><font size="4">2.使用队列存储消息，一次性存10条消息，每隔一段时间打印一条消息，控制台打印消息时要有明显停顿感</font></strong></p>
<details>
  <summary>查看答案</summary>
 
 <figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 新建一个队列，加入一些元素</span></span><br><span class="line">Queue queue = <span class="keyword">new</span> Queue();</span><br><span class="line">queue.Enqueue(<span class="string">"获得10枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得屠龙刀x1"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得99枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得血瓶x1"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得85枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得11枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得2枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得91枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得73枚金币"</span>);</span><br><span class="line">queue.Enqueue(<span class="string">"获得645枚金币"</span>);</span><br><span class="line">{% spoiler <span class="string">"代码"</span> %}</span><br><span class="line"><span class="comment">// 模仿贪吃蛇的做法，计算循环次数，达到一定次数后执行逻辑</span></span><br><span class="line"><span class="built_in">int</span> whileLoopTimes = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 每当循环次数达到一定值时打印消息</span></span><br><span class="line">    <span class="keyword">if</span> (whileLoopTimes % <span class="number">99999999</span> == <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 如果队列中有元素，则打印并移除队首元素</span></span><br><span class="line">        <span class="keyword">if</span> (queue.Count &gt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(queue.Dequeue());</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 每次打印后，重置循环次数</span></span><br><span class="line">        whileLoopTimes = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 添加停顿感，让消息打印的间隔更明显</span></span><br><span class="line">        System.Threading.Thread.Sleep(<span class="number">1000</span>); <span class="comment">// 1000毫秒 = 1秒</span></span><br><span class="line">    }</span><br><span class="line">    ++whileLoopTimes;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
</details>

<hr>
<h1 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a><em><strong><font color="#BA55D3">Hashtable</font></strong></em></h1><h2 id="Hashtable-详解"><a href="#Hashtable-详解" class="headerlink" title="Hashtable 详解"></a><em><strong><font color="#BA55D3">Hashtable</font></strong></em> 详解</h2><p><strong><font size="4"> <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的本质：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">Hashtable</font></strong></em>（又称散列表）是基于键的哈希代码组织起来的键/值对，其主要作用是提高数据查询的效率。使用键来访问集合中的元素。</li>
</ul>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的申明：</font></strong></p>
<ul>
<li>需要引用命名空间 System.Collections。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hashtable hashtable = <span class="keyword">new</span> Hashtable();</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的增删查改：</font></strong><br><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前hashtable中的元素有：————长度为0</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Add方法：</font></strong></p>
<ul>
<li>传入键和值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    hashtable.Add(<span class="number">1</span>, <span class="string">"123"</span>);</span><br><span class="line">    hashtable.Add(<span class="string">"123"</span>, <span class="number">2</span>);</span><br><span class="line">    hashtable.Add(<span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line">    hashtable.Add(<span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// 注意：不能出现相同键</span></span><br><span class="line">    <span class="comment">// hashtable.Add(1, "333");// 报错，不能出现相同键</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p><del>hashtable.Add(1, “333”);</del> ——运行时会报错，不能出现相同键</p>
</li>
<li><p>增完之后hashtable中的元素有：</p>
</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：False</span><br><span class="line">    键：<span class="number">1</span> 值：<span class="string">"123"</span></span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">删：</font></strong></p>
<ul>
<li>当前hashtable中的元素有：————长度为4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：False</span><br><span class="line">    键：<span class="number">1</span> 值：<span class="string">"123"</span></span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Remove方法：</font></strong></p>
<ul>
<li>传入键，只能通过键去删除。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    hashtable.Remove(<span class="number">1</span>);<span class="comment">//删除键为1的值</span></span><br><span class="line">    <span class="comment">// 要是删除不存在的键的话，没有反应</span></span><br><span class="line">    hashtable.Remove(<span class="number">2</span>);<span class="comment">//hashtable不包含2这个键，没有反应</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Clear方法：</font></strong></p>
<ul>
<li>直接清空。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    hashtable.Clear(); <span class="comment">// 会清空哈希表，为后面方便演示，注释</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>删完之后hashtable中的元素有：————长度为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：False</span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前hashtable中的元素有：————长度为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：False</span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Hashtable[key]索引器get：</font></strong></p>
<ul>
<li>通过键查看值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(hashtable[<span class="string">"123"</span>]); <span class="comment">// 2</span></span><br><span class="line">    <span class="comment">// 找不到会返回空</span></span><br><span class="line">    Console.WriteLine(hashtable[<span class="number">4</span>]); <span class="comment">// null</span></span><br><span class="line">    Console.WriteLine(hashtable[<span class="string">"123123"</span>]); <span class="comment">// null</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法、ContainsKey方法：</font></strong></p>
<ul>
<li>传入键，查看键是否存在于哈希表中。存在返回true，否则返回false。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 根据键检测</span></span><br><span class="line">    <span class="keyword">if</span> (hashtable.Contains(<span class="string">"123"</span>)) <span class="comment">//成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在键为123的键值对"</span>); <span class="comment">// 存在键为123的键值对</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (hashtable.ContainsKey(<span class="number">2</span>)) <span class="comment">//不成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在键为2的键值对"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ContainsValue方法：</font></strong></p>
<ul>
<li>传入值，查看值是否存在于哈希表中。存在返回true，否则返回false。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 根据值检测</span></span><br><span class="line">    <span class="keyword">if</span> (hashtable.ContainsValue(<span class="number">2</span>)) <span class="comment">//成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在值为2的键值对"</span>); <span class="comment">// 存在值为2的键值对</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前hashtable中的元素有：————长度为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：False</span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Hashtable[key]索引器set：</font></strong></p>
<ul>
<li>通过键修改值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 只能改变键对应的值内容，无法修改键</span></span><br><span class="line">    Console.WriteLine(hashtable[<span class="literal">false</span>]); <span class="comment">// False 传键时不能输入大写False，输入小写的false</span></span><br><span class="line">    hashtable[<span class="literal">false</span>] = <span class="number">100.5f</span>;</span><br><span class="line">    Console.WriteLine(hashtable[<span class="literal">false</span>]); <span class="comment">// 100.5f</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>改完之后hashtable中的元素有：————长度为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：<span class="number">100.5</span></span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前hashtable中的元素有：————长度为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    键：<span class="number">123</span> 值：<span class="number">2</span></span><br><span class="line">    键：False 值：<span class="number">100.5</span></span><br><span class="line">    键：True 值：False</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count属性：</font></strong></p>
<ul>
<li>返回键值对数量。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(hashtable.Count); <span class="comment">// 3</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历所有键：</font></strong></p>
<ul>
<li>Hashtable.Keys得到所有键。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> hashtable.Keys)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"键："</span> + item);</span><br><span class="line">        Console.WriteLine(<span class="string">"值："</span> + hashtable[item]);</span><br><span class="line">        <span class="comment">// 打印如下，无序</span></span><br><span class="line">        <span class="comment">//{</span></span><br><span class="line">        <span class="comment">//    键：123 值：2</span></span><br><span class="line">        <span class="comment">//    键：False 值：100.5f</span></span><br><span class="line">        <span class="comment">//    键：True 值：False</span></span><br><span class="line">        <span class="comment">//}</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历所有值：</font></strong></p>
<ul>
<li>Hashtable.Values得到所有值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">object</span> item <span class="keyword">in</span> hashtable.Values)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"值："</span> + item);</span><br><span class="line">        <span class="comment">// 打印如下，无序</span></span><br><span class="line">        <span class="comment">//{</span></span><br><span class="line">        <span class="comment">//    值：2</span></span><br><span class="line">        <span class="comment">//    值：100.5f</span></span><br><span class="line">        <span class="comment">//    值：False</span></span><br><span class="line">        <span class="comment">//}</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历键值对：</font></strong></p>
<blockquote>
<p>DictionaryEntry和迭代器相关，是一个数据结构，里面存了一个键和一个值<br>item.Key得到当前键，item.Value得到当前值</p>
</blockquote>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (DictionaryEntry item <span class="keyword">in</span> hashtable)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"键："</span> + item.Key + <span class="string">" 值："</span> + item.Value);</span><br><span class="line">        <span class="comment">// 打印如下，无序</span></span><br><span class="line">        <span class="comment">//{</span></span><br><span class="line">        <span class="comment">//    键：123 值：2</span></span><br><span class="line">        <span class="comment">//    键：False 值：100.5f</span></span><br><span class="line">        <span class="comment">//    键：True 值：False</span></span><br><span class="line">        <span class="comment">//}</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">迭代器遍历法：</font></strong></p>
<ul>
<li>通过Hashtable的GetEnumerator方法获得一个IDictionaryEnumerator字典枚举器接口对象。</li>
<li>IDictionaryEnumerator字典枚举器接口有Key和Value。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    IDictionaryEnumerator myEnumerator = hashtable.GetEnumerator();</span><br><span class="line">    <span class="comment">// IDictionaryEnumerator接口里的MoveNext方法相当于一个游标，只要后面还有键值对会返回true</span></span><br><span class="line">    <span class="built_in">bool</span> flag = myEnumerator.MoveNext();</span><br><span class="line">    <span class="comment">// while循环遍历哈希表</span></span><br><span class="line">    <span class="keyword">while</span> (flag)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 打印IDictionaryEnumerator字典枚举器接口的Key和Value</span></span><br><span class="line">        Console.WriteLine(<span class="string">"IDictionaryEnumerator 键："</span> + myEnumerator.Key + <span class="string">" IDictionaryEnumerator 值："</span> + myEnumerator.Value);</span><br><span class="line">        <span class="comment">// 通过MoveNext方法判断后面还有没有键值对</span></span><br><span class="line">        flag = myEnumerator.MoveNext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 打印如下，无序</span></span><br><span class="line">        <span class="comment">//{</span></span><br><span class="line">        <span class="comment">//    IDictionaryEnumerator 键：True IDictionaryEnumerator 值：False</span></span><br><span class="line">        <span class="comment">//    IDictionaryEnumerator 键：False IDictionaryEnumerator 值：100.5</span></span><br><span class="line">        <span class="comment">//    IDictionaryEnumerator 键：123 IDictionaryEnumerator 值：2</span></span><br><span class="line">        <span class="comment">//}</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的装箱拆箱：</font></strong></p>
<ul>
<li>由于用 <em><strong><font color="#9400D3">object</font></strong></em> 来存储数据，自然存在装箱拆箱。当往其中进行值类型存储时就是在装箱，当将值类型对象取出来转换使用时，就存在拆箱。</li>
</ul>
<h2 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请描述 <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的存储规则</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li><em><strong><font color="#BA55D3">Hashtable</font></strong></em> 是一种键值对形式存储的容器。</li>
<li>每个键对应一个值，其中键和值的类型都是 <em><strong><font color="#9400D3">object</font></strong></em> 。</li>
<li><em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的键是唯一的，即不能重复。</li>
</ul>
</details>

<p><strong><font size="4">2.制作一个怪物管理器，提供创建怪物，移除怪物的方法。每个怪物都有自己的唯一ID</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 怪物管理器类，因为一般管理器都是唯一的，所以把它做成一个单例模式的对象</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title">MonsterMgr</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 怪物管理器单例 初始化new出来</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MonsterMgr instance = <span class="keyword">new</span> MonsterMgr();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物管理器单例 提供给外部使用 得到唯一的怪物管理器 第一次使用的时候会new出来</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> MonsterMgr Instance</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有的怪物管理器构造函数 外面new不出来</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MonsterMgr</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物哈希表</span></span><br><span class="line">    <span class="keyword">private</span> Hashtable monstersTable = <span class="keyword">new</span> Hashtable();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物id默认是0</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> monsterID = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加怪物</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddMonster</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 添加怪物时创建怪物</span></span><br><span class="line">        Monster monster = <span class="keyword">new</span> Monster(monsterID);</span><br><span class="line">        Console.WriteLine(<span class="string">"创建了id为{0}的怪物"</span>, monsterID);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 怪物id+1</span></span><br><span class="line">        ++monsterID;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 存到怪物哈希表中</span></span><br><span class="line">        <span class="comment">// Hashtable的键是不能重复的，所以一定是用唯一ID</span></span><br><span class="line">        monstersTable.Add(monster.id, monster);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移除怪物</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveMonster</span>(<span class="params"><span class="built_in">int</span> monsterID</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 判断怪物哈希表中有没有这个怪物id</span></span><br><span class="line">        <span class="keyword">if</span> (monstersTable.ContainsKey(monsterID))</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 有的话调用怪物死亡</span></span><br><span class="line">            (monstersTable[monsterID] <span class="keyword">as</span> Monster).Dead();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 怪物哈希表中移除</span></span><br><span class="line">            monstersTable.Remove(monsterID);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 怪物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 怪物唯一id</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物构造函数 初始化怪物</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monster</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物死亡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dead</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"怪物{0}死亡"</span>, id);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    {</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">        {</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            MonsterMgr.Instance.AddMonster();</span><br><span class="line">            <span class="comment">// 创建了id为0的怪物</span></span><br><span class="line">            <span class="comment">// 创建了id为1的怪物</span></span><br><span class="line">            <span class="comment">// 创建了id为2的怪物</span></span><br><span class="line">            <span class="comment">// 创建了id为3的怪物</span></span><br><span class="line">            <span class="comment">// 创建了id为4的怪物</span></span><br><span class="line">            <span class="comment">// 创建了id为5的怪物</span></span><br><span class="line"></span><br><span class="line">            MonsterMgr.Instance.RemoveMonster(<span class="number">0</span>);</span><br><span class="line">            MonsterMgr.Instance.RemoveMonster(<span class="number">3</span>);</span><br><span class="line">            <span class="comment">// 怪物0死亡</span></span><br><span class="line">            <span class="comment">// 怪物3死亡</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
</details>
---

<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="泛型-详解"><a href="#泛型-详解" class="headerlink" title="泛型 详解"></a>泛型 详解</h2><p><strong><font size="4">泛型是什么：</font></strong></p>
<ul>
<li>泛型实现了类型参数化，达到代码重用的目的。通过类型参数化来实现同一份代码操作多种类型。</li>
<li>泛型相当于类型占位符，定义类或方法时使用替代符代表变量类型，当真正使用类或方法时再具体指定类型。</li>
</ul>
<p><strong><font size="4">泛型分类：</font></strong><br><strong><font size="3">泛型类：</font></strong></p>
<ul>
<li>基本语法：class 类名&lt;泛型占位字母&gt;</li>
</ul>
<p><strong><font size="3">泛型接口：</font></strong></p>
<ul>
<li>基本语法：interface 接口名&lt;泛型占位字母&gt;</li>
</ul>
<p><strong><font size="3">泛型方法：</font></strong></p>
<ul>
<li>基本语法：方法名&lt;泛型占位字母&gt;(参数列表)</li>
<li>注意：泛型占位字母可以有多个，用逗号分开。</li>
</ul>
<p><strong><font size="4">泛型类和泛型接口：</font></strong></p>
<ul>
<li>在类和接口的语句块外部（ <em><strong><font color="#9400D3">namespace</font></strong></em> 语句块内）</li>
</ul>
<p><strong><font size="3">泛型类：</font></strong></p>
<ul>
<li>单个泛型占位符的泛型测试类：</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">SingleGenericClass</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>多个泛型占位符的泛型测试类：</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">MultiGenericClass</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>, <span class="title">K</span>, <span class="title">M</span>, <span class="title">LL</span>, <span class="title">Key</span>, <span class="title">Value</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> T1 value1;</span><br><span class="line">    <span class="keyword">public</span> T2 value2;</span><br><span class="line">    <span class="keyword">public</span> K value3;</span><br><span class="line">    <span class="keyword">public</span> M value4;</span><br><span class="line">    <span class="keyword">public</span> LL value5;</span><br><span class="line">    <span class="keyword">public</span> Key value6;</span><br><span class="line">    <span class="keyword">public</span> Value value7;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">泛型接口：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title">IGenericInterface</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    T Value { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">主函数内：</font></strong><br><strong><font size="3">实例化泛型类：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    SingleGenericClass&lt;<span class="built_in">int</span>&gt; t = <span class="keyword">new</span> SingleGenericClass&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    t.<span class="keyword">value</span> = <span class="number">10</span>;</span><br><span class="line">    Console.WriteLine(t.<span class="keyword">value</span>); <span class="comment">// 输出：10</span></span><br><span class="line"></span><br><span class="line">    SingleGenericClass&lt;<span class="built_in">string</span>&gt; t2 = <span class="keyword">new</span> SingleGenericClass&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    t2.<span class="keyword">value</span> = <span class="string">"123123"</span>;</span><br><span class="line">    Console.WriteLine(t2.<span class="keyword">value</span>); <span class="comment">// 输出：123123</span></span><br><span class="line"></span><br><span class="line">    MultiGenericClass&lt;<span class="built_in">int</span>, <span class="built_in">string</span>, <span class="built_in">float</span>, <span class="built_in">double</span>, SingleGenericClass&lt;<span class="built_in">int</span>&gt;, <span class="built_in">uint</span>, <span class="built_in">short</span>&gt; t3 = <span class="keyword">new</span> MultiGenericClass&lt;<span class="built_in">int</span>, <span class="built_in">string</span>, <span class="built_in">float</span>, <span class="built_in">double</span>, SingleGenericClass&lt;<span class="built_in">int</span>&gt;, <span class="built_in">uint</span>, <span class="built_in">short</span>&gt;();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">泛型方法：</font></strong></p>
<ul>
<li>在类和接口的语句块外部（ <em><strong><font color="#9400D3">namespace</font></strong></em> 语句块内）</li>
</ul>
<p><strong><font size="3">普通类中的泛型方法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">GenericTest2</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GenericFunction</span>&lt;<span class="title">T</span>&gt;(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="keyword">value</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GenericFunction</span>&lt;<span class="title">T</span>&gt;()</span></span><br><span class="line">    {</span><br><span class="line">        T t = <span class="literal">default</span>(T);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GenericFunction</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> v</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GenericFunction</span>&lt;<span class="title">T</span>, <span class="title">K</span>, <span class="title">M</span>&gt;(<span class="params">T t, K k, M m</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">泛型类中的泛型方法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">GenericTest2</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K k</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>(<span class="params">T t</span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">主函数内：</font></strong><br><strong><font size="3">普通类中的泛型方法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    GenericTest2 genericTest2 = <span class="keyword">new</span> GenericTest2();</span><br><span class="line">    genericTest2.GenericFunction&lt;<span class="built_in">string</span>&gt;(<span class="string">"123123"</span>); <span class="comment">// 输出：123123</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">泛型类中的泛型方法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    GenericTest2&lt;<span class="built_in">int</span>&gt; genericTest_2 = <span class="keyword">new</span> GenericTest2&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    genericTest_2.TestFun(<span class="number">10</span>); <span class="comment">// 这不是泛型方法，相当于调用TestFun(int t)</span></span><br><span class="line">    genericTest_2.TestFun&lt;<span class="built_in">string</span>&gt;(<span class="string">"123"</span>); <span class="comment">// 输出：123</span></span><br><span class="line">    genericTest_2.TestFun&lt;<span class="built_in">float</span>&gt;(<span class="number">1.2f</span>); <span class="comment">// 输出：1.2</span></span><br><span class="line">    genericTest_2.TestFun(<span class="literal">true</span>);</span><br><span class="line">    genericTest_2.TestFun&lt;<span class="built_in">int</span>&gt;(<span class="number">250</span>); <span class="comment">// 这才是泛型方法</span></span><br><span class="line">    genericTest_2.TestFun(<span class="number">250</span>); <span class="comment">// 这样用的还是泛型方法</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">泛型的作用：</font></strong></p>
<ul>
<li>不同类型对象的相同逻辑处理可以选择泛型。</li>
<li>使用泛型可以一定程度避免装箱拆箱。</li>
</ul>
<p><strong><font size="4">举例：</font></strong></p>
<ul>
<li>优化 ArrayList。传入泛型后，不同类型数组可以复用相同的代码。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> T[] array;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>申明泛型时，它只是一个类型的占位符。</li>
<li>泛型真正起作用的时候是在使用它的时候。</li>
<li>泛型占位字母可以有 n 个，用逗号分开。</li>
<li>泛型占位字母一般是大写字母。</li>
<li>不确定泛型类型时，获取默认值可以使用 default(占位字符)。</li>
<li>看到 &lt; &gt; 包裹的字母，那肯定是泛型。</li>
</ul>
<h2 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.定义一个泛型方法，判断类型并返回类型名称与占有的字节数：</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">   <span class="comment">// 判断类型泛型方法</span></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="built_in">string</span> <span class="title">JudgeTypeFunction</span>&lt;<span class="title">T</span>&gt;()</span></span><br><span class="line">   {</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">typeof</span>(T) == <span class="keyword">typeof</span>(<span class="built_in">int</span>))</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"{0},{1}字节"</span>, <span class="string">"整形"</span>, <span class="keyword">sizeof</span>(<span class="built_in">int</span>));</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(T) == <span class="keyword">typeof</span>(<span class="built_in">char</span>))</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"{0},{1}字节"</span>, <span class="string">"字符"</span>, <span class="keyword">sizeof</span>(<span class="built_in">char</span>));</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(T) == <span class="keyword">typeof</span>(<span class="built_in">float</span>))</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"{0},{1}字节"</span>, <span class="string">"单精度浮点数"</span>, <span class="keyword">sizeof</span>(<span class="built_in">float</span>));</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span>(T) == <span class="keyword">typeof</span>(<span class="built_in">string</span>))</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"{0},{1}字节"</span>, <span class="string">"字符串"</span>, <span class="string">"不定"</span>);</span><br><span class="line">       }</span><br><span class="line">           <span class="keyword">return</span> <span class="string">"其它类型"</span>;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">   {</span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">int</span>&gt;());    <span class="comment">// 整形,4字节</span></span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">string</span>&gt;()); <span class="comment">// 字符串,?字节</span></span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">char</span>&gt;());   <span class="comment">// 字符,2字节</span></span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">float</span>&gt;());  <span class="comment">// 单精度浮点数,4字节</span></span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">double</span>&gt;()); <span class="comment">// 其它类型</span></span><br><span class="line">       Console.WriteLine(JudgeTypeFunction&lt;<span class="built_in">uint</span>&gt;());   <span class="comment">// 其它类型</span></span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h1><details>
  <summary>知识回顾</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T t;</span><br><span class="line">    <span class="keyword">public</span> U u;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 泛型类中的成员方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> U <span class="title">GenericClassFunction</span>(<span class="params">T t</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">default</span>(U);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 泛型类中的泛型方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">GenericClassFunction</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt;(<span class="params">K k</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">default</span>(V);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 泛型类，实际使用时再具体传入类型</span></span><br><span class="line">        GenericClass&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; genericClass = <span class="keyword">new</span> GenericClass&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 泛型变量</span></span><br><span class="line">        genericClass.t = <span class="string">"123123"</span>;</span><br><span class="line">        genericClass.u = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 泛型类中的成员方法</span></span><br><span class="line">        genericClass.GenericClassFunction(<span class="string">"123"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 泛型类中的泛型方法</span></span><br><span class="line">        genericClass.GenericClassFunction&lt;<span class="built_in">float</span>, <span class="built_in">double</span>&gt;(<span class="number">1.4f</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</details>

<h2 id="泛型约束-详解"><a href="#泛型约束-详解" class="headerlink" title="泛型约束 详解"></a>泛型约束 详解</h2><p><strong><font size="4">什么是泛型约束:</font></strong><br><strong><font size="3">泛型约束：</font></strong></p>
<ul>
<li>让泛型的类型有一定限制。</li>
</ul>
<p><strong><font size="3">关键字：</font></strong></p>
<ul>
<li><em><strong><font color="#4169E1">where</font></strong></em> 。</li>
</ul>
<p><strong><font size="3">语法：</font></strong></p>
<ul>
<li><em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: (约束的类型)。</li>
</ul>
<p><strong><font size="3">泛型约束分类：</font></strong></p>
<ul>
<li>1.值类型：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: struct</li>
<li>2.引用类型：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: <em><strong><font color="#00BFFF">class</font></strong></em></li>
<li>3.存在无参公共构造函数：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: new()</li>
<li>4.某个类本身或者其派生类：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: 类名</li>
<li>5.某个接口的派生类型：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: 接口名</li>
<li>6.另一个泛型类型本身或者派生类型：<em><strong><font color="#4169E1">where</font></strong></em> 泛型字母: 另一个泛型字母</li>
</ul>
<p><strong><font size="4">各泛型约束讲解：</font></strong><br><strong><font size="3">值类型约束:</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 值类型泛型约束类，代表 T 一定是一个结构体</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test1</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">struct</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 值类型泛型约束方法，代表 K 一定是一个结构体</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K v</span>) <span class="keyword">where</span> K : <span class="keyword">struct</span></span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// int 实际上也是一个结构体，可以传入值类型泛型约束类的实例中</span></span><br><span class="line">        Test1&lt;<span class="built_in">int</span>&gt; t1 = <span class="keyword">new</span> Test1&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// float 实际上也是一个结构体，可以传入值类型泛型约束方法中</span></span><br><span class="line">        t1.TestFun&lt;<span class="built_in">float</span>&gt;(<span class="number">1.3f</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">引用类型约束:</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用类型泛型约束类，代表 T 一定是一个类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test2</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="keyword">class</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 引用类型泛型约束方法，代表 K 一定是一个类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K k</span>) <span class="keyword">where</span> K : <span class="keyword">class</span></span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Random 实际上是一个类，可以传入引用类型泛型约束类的实例中</span></span><br><span class="line">        Test2&lt;Random&gt; t2 = <span class="keyword">new</span> Test2&lt;Random&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这样 value 的类型也是 Random</span></span><br><span class="line">        t2.<span class="keyword">value</span> = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// object 实际上也是一个类，可以传入引用类型泛型约束方法中</span></span><br><span class="line">        t2.TestFun&lt;<span class="built_in">object</span>&gt;(<span class="keyword">new</span> <span class="built_in">object</span>());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">公共无参构造约束：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 公共无参构造泛型约束类，代表 T 一定要有公共无参构造函数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test3</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">new</span>()</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 公共无参构造泛型约束方法，代表 K 一定要有公共无参构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K k</span>) <span class="keyword">where</span> K : <span class="keyword">new</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Test31 有公共无参构造，正常 new 出来</span></span><br><span class="line">        Test3&lt;Test31&gt; t31 = <span class="keyword">new</span> Test3&lt;Test31&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test32 没有公共无参构造，报错</span></span><br><span class="line">        <span class="comment">// Test3&lt;Test32&gt; t32 = new Test3&lt;Test32&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test33 只有私有无参构造，报错</span></span><br><span class="line">        <span class="comment">// Test3&lt;Test33&gt; t33 = new Test3&lt;Test33&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test34 有公共无参构造，但是 Test34 是抽象类，无法直接用无参构造 new 出来，报错</span></span><br><span class="line">        <span class="comment">// Test3&lt;Test34&gt; t34 = new Test3&lt;Test34&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 可以传入结构体，因为结构体默认有公共无参构造，而且就算写了有参构造，公共无参构造也不会被顶掉</span></span><br><span class="line">        Test3&lt;<span class="built_in">int</span>&gt; t3Struct = <span class="keyword">new</span> Test3&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">类约束：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类约束泛型约束类，代表 T 一定是 Test31 或 Test31 的派生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test4</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">Test31</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类约束泛型约束方法，代表 K 一定是 Test31 或 Test31 的派生类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K k</span>) <span class="keyword">where</span> K : Test31</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span> </span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 直接传入 Test31，正常 new</span></span><br><span class="line">        Test4&lt;Test31&gt; t4 = <span class="keyword">new</span> Test4&lt;Test31&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test41 继承 Test31，正常 new</span></span><br><span class="line">        Test4&lt;Test41&gt; t41 = <span class="keyword">new</span> Test4&lt;Test41&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test42 没有继承 Test31，报错</span></span><br><span class="line">        <span class="comment">// Test4&lt;Test42&gt; t42 = new Test4&lt;Test42&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// object 是 Test31 的父类，不是 Test31 的派生类，报错</span></span><br><span class="line">        <span class="comment">// Test4&lt;object&gt; t4Object = new Test4&lt;object&gt;();</span></span><br><span class="line">    }</span><br><span class="line">} </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">接口约束：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口约束泛型约束类，代表 T 一定是 IFly 或 IFly 的派生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test5</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 接口约束泛型约束方法，代表 T 一定是 IFly 或 IFly 的派生类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>&gt;(<span class="params">K k</span>) <span class="keyword">where</span> K : IFly</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 飞行接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 走路接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IWalk</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动接口继承飞行接口和走路接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">IMove</span> : <span class="title">IFly</span>, <span class="title">IWalk</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我的飞行类，继承飞行接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">MyFly</span> : <span class="title">IFly</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 直接传入 IFly，正常 new</span></span><br><span class="line">        Test5&lt;IFly&gt; t51 = <span class="keyword">new</span> Test5&lt;IFly&gt;();</span><br><span class="line">        t51.<span class="keyword">value</span> = <span class="keyword">new</span> MyFly(); <span class="comment">// MyFly 继承 IFly，可以 new 出接口的实现子类</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// IWalk 没有继承 IFly，报错</span></span><br><span class="line">        <span class="comment">// Test5&lt;IWalk&gt; t52 = new Test5&lt;IWalk&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// IMove 继承 IFly，正常 new</span></span><br><span class="line">        Test5&lt;IMove&gt; t53 = <span class="keyword">new</span> Test5&lt;IMove&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// MyFly 继承 IFly，正常 new</span></span><br><span class="line">        Test5&lt;MyFly&gt; t54 = <span class="keyword">new</span> Test5&lt;MyFly&gt;();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">另一个泛型约束：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 另一个泛型约束泛型约束类，代表 T 一定是 U 或 U 的派生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test6</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">U</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型变量</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 另一个泛型约束泛型约束类，代表 K 一定是 V 或 V 的派生类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt;(<span class="params">K k</span>) <span class="keyword">where</span> K : V</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// MyFly 是 IFly 的子类，正常 new</span></span><br><span class="line">        Test6&lt;MyFly, IFly&gt; t61 = <span class="keyword">new</span> Test6&lt;MyFly, IFly&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// MyFly 不是 IWalk 的子类，报错</span></span><br><span class="line">        <span class="comment">// Test6&lt;MyFly, IWalk&gt; t62 = new Test6&lt;MyFly, IWalk&gt;();</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">约束的组合使用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法：class 类&lt;T&gt; where T: 约束1,约束2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 意味着 T 必须是个类，而且有公共的无参构造函数</span></span><br><span class="line"><span class="comment">// 有些约束只能现在另一个约束前面，比如 class 要写在 new() 前面，否则报错</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test71</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="keyword">class</span>, <span class="title">new</span>()</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有些组合不能一起使用，会报错</span></span><br><span class="line"><span class="comment">// 比如 struct 本身就有公共的无参构造函数，不能组合</span></span><br><span class="line"><span class="comment">// class Test72&lt;T&gt; where T : struct, new() 报错</span></span><br><span class="line"><span class="comment">// {</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// }</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">多个泛型有约束：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法：class 类&lt;T,K&gt; where T: 约束1,约束2 where K:约束3</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test8</span>&lt;<span class="title">T</span>, <span class="title">K</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="keyword">class</span>, <span class="title">new</span>() <span class="keyword">where</span> <span class="title">K</span> : <span class="title">struct</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">泛型约束：</font></strong></p>
<ul>
<li>让泛型的类型有一定限制。</li>
</ul>
<p><strong><font size="4">泛型约束分类：</font></strong></p>
<ul>
<li><em><strong><font color="#00BFFF">class</font></strong></em></li>
<li>struct</li>
<li>new()</li>
<li>类名</li>
<li>接口名</li>
<li>另一个泛型字母</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>可以组合使用。</li>
<li>多个泛型约束用 <em><strong><font color="#4169E1">where</font></strong></em> 连接即可。</li>
</ul>
<h2 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.用泛型实现一个单例模式基类</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型单例基类，泛型约束一下，必须要有公共无参构造</span></span><br><span class="line"><span class="comment">// 缺点：有无参构造暴露给外部使用，不能私有，但其实无伤大雅，有经验的程序员不会new单例类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">SingleBase</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="title">new</span>()</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> T instance = <span class="keyword">new</span> T();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> T Instance</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 游戏管理类，继承泛型单例基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">GameMgr</span> : <span class="title">SingleBase</span>&lt;<span class="title">GameMgr</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">value</span> = <span class="number">10</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试类1，继承泛型单例基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span> : <span class="title">SingleBase</span>&lt;<span class="title">Test</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">value</span> = <span class="number">10</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试类2，不继承泛型单例基类，要自己手动写单例实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test2</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Test2 instance = <span class="keyword">new</span> Test2();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> <span class="keyword">value</span> = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Test2</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Test2 Instance</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        GameMgr.Instance.<span class="keyword">value</span> = <span class="number">10</span>; <span class="comment">// 直接.Instance使用单例</span></span><br><span class="line">        <span class="comment">// GameMgr g = new GameMgr(); // 缺点：有无参构造暴露给外部使用，不能私有，但其实无伤大雅，有经验的程序员不会new单例类</span></span><br><span class="line"></span><br><span class="line">        Test.Instance.<span class="keyword">value</span> = <span class="number">10</span>; <span class="comment">// 直接.Instance使用单例</span></span><br><span class="line">        <span class="comment">// Test t = new Test(); // 缺点：有无参构造暴露给外部使用，不能私有，但其实无伤大雅，有经验的程序员不会new单例类</span></span><br><span class="line"></span><br><span class="line">        Test2.Instance.<span class="keyword">value</span> = <span class="number">10</span>; <span class="comment">// 直接.Instance使用单例，但是是自己手动实现的，没有继承泛型单例基类</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</details>

<p><strong><font size="4">2.利用泛型知识点，仿造ArrayList实现一个不确定数组类型的类，实现增删查改方法</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们自己写的泛型ArrayList类</span></span><br><span class="line"><span class="comment">// 和C#自带的ArrayList相比，我们自己写的可以约束类型，不能什么类都往里面加，不用装箱拆箱</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 泛型数组</span></span><br><span class="line">    <span class="keyword">private</span> T[] array;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当前正儿八经存了多少数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 默认一一开始存的数为0</span></span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 一开始的容量就是16</span></span><br><span class="line">        array = <span class="keyword">new</span> T[<span class="number">16</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 增</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 是否需要扩容</span></span><br><span class="line">        <span class="keyword">if</span> (count &gt;= Capacity)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 每次加倍扩容</span></span><br><span class="line">            T[] temp = <span class="keyword">new</span> T[Capacity * <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 遍历搬家</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; Capacity; i++)</span><br><span class="line">            {</span><br><span class="line">                temp[i] = array[i];</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 重新指向地址</span></span><br><span class="line">            array = temp;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 不需要扩容，直接加</span></span><br><span class="line">        array[count] = <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当前存的数+1</span></span><br><span class="line">        ++count;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 按值删</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 实现略</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 按位置删</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveAt</span>(<span class="params"><span class="built_in">int</span> index</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 实现略</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 索引器</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">this</span>[<span class="built_in">int</span> index]</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 实现略</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 实现略</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取容量</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Capacity</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> array.Length;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 得到具体存了几个值</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Count</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 声明泛型int的ArrayList</span></span><br><span class="line">        ArrayList&lt;<span class="built_in">int</span>&gt; array = <span class="keyword">new</span> ArrayList&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(array.Count); <span class="comment">// 0</span></span><br><span class="line">        Console.WriteLine(array.Capacity); <span class="comment">// 16</span></span><br><span class="line"></span><br><span class="line">        array.Add(<span class="number">1</span>);</span><br><span class="line">        array.Add(<span class="number">2</span>);</span><br><span class="line">        array.Add(<span class="number">3</span>);</span><br><span class="line">        Console.WriteLine(array.Count); <span class="comment">// 3</span></span><br><span class="line">        Console.WriteLine(array.Capacity); <span class="comment">// 16</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(array[i]); <span class="comment">// 1 2 3</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(array[<span class="number">1</span>]); <span class="comment">// 2</span></span><br><span class="line">        Console.WriteLine(array[<span class="number">-1</span>]); <span class="comment">// 索引不合法 返回默认值0</span></span><br><span class="line">        Console.WriteLine(array[<span class="number">3</span>]); <span class="comment">// 索引不合法 返回默认值0</span></span><br><span class="line"></span><br><span class="line">        array.RemoveAt(<span class="number">0</span>); <span class="comment">// 移除索引为0的元素</span></span><br><span class="line">        Console.WriteLine(array.Count); <span class="comment">// 2</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(array[i]); <span class="comment">// 2 3</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        array.Remove(<span class="number">3</span>); <span class="comment">// 移除值为3的元素</span></span><br><span class="line">        Console.WriteLine(array.Count); <span class="comment">// 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; array.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(array[i]); <span class="comment">// 2</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(array[<span class="number">0</span>]); <span class="comment">// 2</span></span><br><span class="line">        array[<span class="number">0</span>] = <span class="number">99</span>;</span><br><span class="line">        Console.WriteLine(array[<span class="number">0</span>]); <span class="comment">// 99</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 泛型string的ArrayList同理</span></span><br><span class="line">        ArrayList&lt;<span class="built_in">string</span>&gt; array2 = <span class="keyword">new</span> ArrayList&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
</details>

<hr>
<h1 id="List"><a href="#List" class="headerlink" title="List"></a><em><strong><font color="#BA55D3">List</font></strong></em></h1><h2 id="List-详解"><a href="#List-详解" class="headerlink" title="List 详解"></a><em><strong><font color="#BA55D3">List</font></strong></em> 详解</h2><p><strong><font size="4"> <em><strong><font color="#BA55D3">List</font></strong></em> 的本质：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">List</font></strong></em> 是一个C#为我们封装好的类，它的本质是一个可变类型的泛型数组， <em><strong><font color="#BA55D3">List</font></strong></em> 类帮助我们实现了很多方法，比如泛型数组的增删查改。</li>
</ul>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">List</font></strong></em> 的声明：</font></strong></p>
<ul>
<li>需要引用命名空间 using System.Collections.Generic。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    List&lt;<span class="built_in">int</span>&gt; list1 = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    List&lt;<span class="built_in">string</span>&gt; list2 = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    List&lt;<span class="built_in">bool</span>&gt; list3 = <span class="keyword">new</span> List&lt;<span class="built_in">bool</span>&gt;();</span><br><span class="line"></span><br><span class="line">    List&lt;<span class="built_in">int</span>&gt; list4 = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt; { <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> };</span><br><span class="line">    List&lt;<span class="built_in">string</span>&gt; list5 = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt; { <span class="string">"apple"</span>, <span class="string">"banana"</span>, <span class="string">"orange"</span> };</span><br><span class="line">    List&lt;<span class="built_in">bool</span>&gt; list6 = <span class="keyword">new</span> List&lt;<span class="built_in">bool</span>&gt; { <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span> };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">List</font></strong></em> 的增删查改和遍历：</font></strong><br><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前list1中的元素有：————长度0</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Add方法：</font></strong></p>
<ul>
<li>直接在尾部添加元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    list1.Add(<span class="number">0</span>);</span><br><span class="line">    list1.Add(<span class="number">1</span>);</span><br><span class="line">    list1.Add(<span class="number">2</span>);</span><br><span class="line">    list1.Add(<span class="number">3</span>);</span><br><span class="line">    list1.Add(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    list2.Add(<span class="string">"123"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">AddRange方法：</font></strong></p>
<ul>
<li>把其他相同的类型的List的所有元素拼接到尾部。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    List&lt;<span class="built_in">string</span>&gt; listStr = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    listStr.Add(<span class="string">"123"</span>);</span><br><span class="line">    listStr.Add(<span class="string">"cxq"</span>);</span><br><span class="line">    list2.AddRange(listStr);<span class="comment">//把listStr中的"123","cxq"加到list2的尾部</span></span><br><span class="line">    Console.writeline(listStr.count);<span class="comment">//3</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i;i&lt;list2.count;i++)</span><br><span class="line">    {</span><br><span class="line">         Console.WriteLine(list2[i]);<span class="comment">//123</span></span><br><span class="line">                                     <span class="comment">//123</span></span><br><span class="line">                                     <span class="comment">//cxq      </span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Insert方法：</font></strong></p>
<ul>
<li>在指定位置插入元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    list1.Insert(<span class="number">0</span>, <span class="number">999</span>);</span><br><span class="line">    Console.WriteLine(list1[<span class="number">0</span>]); <span class="comment">// 999</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>增加完的list1中的元素有：————长度6</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">999</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">删：</font></strong></p>
<ul>
<li>当前list1中的元素有：————长度6</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">999</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Remove方法：</font></strong></p>
<ul>
<li>移除指定元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    list1.Remove(<span class="number">1</span>);<span class="comment">//移除元素为1的元素</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">RemoveAt方法：</font></strong></p>
<ul>
<li>移除指定位置的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    list1.RemoveAt(<span class="number">0</span>);<span class="comment">//移除下标为0的元素——移除999</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Clear方法：</font></strong></p>
<ul>
<li>清空所有的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    list1.Clear(); <span class="comment">// 方便后面演示，注释</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>删除完的list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">0</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">0</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">List[x]索引器get：</font></strong></p>
<ul>
<li>得到指定位置的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(list1[<span class="number">0</span>]); <span class="comment">// 0</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法：</font></strong></p>
<ul>
<li>查看元素是否存在。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (list1.Contains(<span class="number">2</span>))<span class="comment">//成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在元素 2"</span>); <span class="comment">// 存在元素 2</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">   </span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">IndexOf方法：</font></strong></p>
<ul>
<li>正向查找元素位置，找到返回位置，找不到返回-1。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> index = list1.IndexOf(<span class="number">5</span>);</span><br><span class="line">    Console.WriteLine(index); <span class="comment">// -1</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">LastIndexOf方法：</font></strong></p>
<ul>
<li>反向查找元素位置，找到返回位置，找不到返回-1。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    index = list1.LastIndexOf(<span class="number">2</span>);</span><br><span class="line">    Console.WriteLine(index); <span class="comment">// 1</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">0</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">List[x] = xx索引器set：</font></strong></p>
<ul>
<li>修改指定位置的元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(list1[<span class="number">0</span>]); <span class="comment">// 0</span></span><br><span class="line">    list1[<span class="number">0</span>] = <span class="number">99</span>;</span><br><span class="line">    Console.WriteLine(list1[<span class="number">0</span>]); <span class="comment">// 99</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>改完list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">99</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">99</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count属性：</font></strong></p>
<ul>
<li>返回List长度。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(list1.Count); <span class="comment">// 4</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Capacity属性：</font></strong></p>
<ul>
<li>返回List容量。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 容量的目的是避免产生垃圾</span></span><br><span class="line">    Console.WriteLine(list1.Capacity); <span class="comment">// 8</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">for循环遍历：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list1.Count; i++)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(list1[i]);</span><br><span class="line">        <span class="comment">// 99</span></span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">        <span class="comment">// 4</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach遍历：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> item <span class="keyword">in</span> list1)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        <span class="comment">// 99</span></span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">        <span class="comment">// 4</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>当前list1中的元素有：————长度4</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">99</span>,  <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> }</span><br></pre></td></tr></tbody></table></figure>
<h2 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请描述List和ArrayList的区别</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li><em><strong><font color="#BA55D3">List</font></strong></em> 内部封装的是一个泛型数组，基本不存在装箱拆箱（除非泛型传入 <em><strong><font color="#9400D3">object</font></strong></em> ）。</li>
<li><em><strong><font color="#BA55D3">ArrayList</font></strong></em> 内部封装的是一个 <em><strong><font color="#9400D3">object</font></strong></em> 数组。</li>
</ul>
</details>

<p><strong><font size="4">2.建立一个整形List，为它添加10~1，删除List中第五个元素，遍历剩余元素并打印</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 声明list</span></span><br><span class="line">    List&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历设置元素10~1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">10</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">    {</span><br><span class="line">        list.Add(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除List中第五个元素</span></span><br><span class="line">    list.RemoveAt(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历剩余元素打印</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> item <span class="keyword">in</span> list)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<p><strong><font size="4">3.一个Monster基类，Boss和Gablin类继承它。在怪物类的构造函数中，将其存储到一个怪物List中，遍历列表可以让Boss和Gablin对象产生不同攻击</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 怪物类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 怪物List 静态的 不然每个怪物里都有</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Monster&gt; monsters = <span class="keyword">new</span> List&lt;Monster&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数 初始化时就添加自己到怪物List</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monster</span>()</span></span><br><span class="line">    {</span><br><span class="line">        monsters.Add(<span class="keyword">this</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 抽象攻击方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 哥布林类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Gablin</span> : <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"哥布林的攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Boss类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Boss</span> : <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Boss的攻击"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 造几个怪物出来</span></span><br><span class="line">        Boss b = <span class="keyword">new</span> Boss();</span><br><span class="line">        Gablin g = <span class="keyword">new</span> Gablin();</span><br><span class="line">        Boss b2 = <span class="keyword">new</span> Boss();</span><br><span class="line">        Gablin g2 = <span class="keyword">new</span> Gablin();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历怪物列表 逐个攻击</span></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> monster <span class="keyword">in</span> Monster.monsters)</span><br><span class="line">        {</span><br><span class="line">            monster.Atk();</span><br><span class="line">            <span class="comment">// Boss的攻击</span></span><br><span class="line">            <span class="comment">// 哥布林的攻击</span></span><br><span class="line">            <span class="comment">// Boss的攻击</span></span><br><span class="line">            <span class="comment">// 哥布林的攻击</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a><em><strong><font color="#BA55D3">Dictionary</font></strong></em></h1><h2 id="Dictionary-详解"><a href="#Dictionary-详解" class="headerlink" title="Dictionary 详解"></a><em><strong><font color="#BA55D3">Dictionary</font></strong></em> 详解</h2><p><strong><font size="4"> <em><strong><font color="#BA55D3">Dictionary</font></strong></em> 的本质：</font></strong></p>
<ul>
<li>可以将 <em><strong><font color="#BA55D3">Dictionary</font></strong></em> 理解为拥有泛型的 <em><strong><font color="#BA55D3">Hashtable</font></strong></em> ，它也是基于键的哈希代码组织起来的键/值对。键值对类型从 <em><strong><font color="#BA55D3">Hashtable</font></strong></em> 的 <em><strong><font color="#9400D3">object</font></strong></em> 变为了可以自己制定的泛型。</li>
</ul>
<p><strong><font size="4">Dictionary的声明：</font></strong></p>
<ul>
<li>需要引用命名空间usingSystem.Collections.Generic。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dictionary = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dictionary2 = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;()</span><br><span class="line">    {</span><br><span class="line">        {<span class="number">1</span>, <span class="string">"One"</span>},</span><br><span class="line">        {<span class="number">2</span>, <span class="string">"Two"</span>},</span><br><span class="line">        {<span class="number">3</span>, <span class="string">"Three"</span>}</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">Dictionary的增删查改和遍历：</font></strong></p>
<p><strong><font size="4">增：</font></strong></p>
<ul>
<li>当前dictionary中的元素：————元素为0</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{  }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Add方法：</font></strong></p>
<ul>
<li>直接尾部添加元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    dictionary.Add(<span class="number">1</span>, <span class="string">"111"</span>);</span><br><span class="line">    dictionary.Add(<span class="number">2</span>, <span class="string">"222"</span>);</span><br><span class="line">    dictionary.Add(<span class="number">3</span>, <span class="string">"333"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注意：不能出现相同键<br><del>dictionary.Add(3, “123”);</del> 运行的时候才会报错</p>
</blockquote>
<ul>
<li>当前dictionary中的元素：————元素为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>:<span class="string">"111"</span>, <span class="number">2</span>:<span class="string">"222"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">删：</font></strong></p>
<ul>
<li>当前dictionary中的元素：————元素为3</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">1</span>:<span class="string">"111"</span>, <span class="number">2</span>:<span class="string">"222"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Remove方法：</font></strong> </p>
<ul>
<li>通过键去删除元素</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dictionary.Remove(<span class="number">1</span>);</span><br><span class="line">dictionary.Remove(<span class="number">4</span>); <span class="comment">// 删除不存在键，没有反应</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">Clear方法：</font></strong> </p>
<ul>
<li>清空所有元素</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dictionary.Clear();<span class="comment">// 为了方便后面演示，注释</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"222"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">查：</font></strong></p>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"222"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Dictionary[x]索引器get：</font></strong></p>
<ul>
<li>通过键查看值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(dictionary[<span class="number">2</span>]); <span class="comment">// 222</span></span><br><span class="line">    <span class="comment">// Console.WriteLine(dictionary[4]);// 找不到，运行时直接报错，Hashtable不会报错会返回空</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ContainsKey方法：</font></strong></p>
<ul>
<li>查看键是否存在。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (dictionary.ContainsKey(<span class="number">2</span>))<span class="comment">//成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在键为2的键值对"</span>); <span class="comment">// 存在键为2的键值对</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">ContainsValue方法：</font></strong></p>
<ul>
<li>查看值是否存在。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (dictionary.ContainsValue(<span class="string">"222"</span>))<span class="comment">//成立</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"存在值为222的键值对"</span>); <span class="comment">// 存在值为222的键值对</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"222"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Dictionary[x] = xx索引器set：</font></strong></p>
<ul>
<li>通过键修改值。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(dictionary[<span class="number">2</span>]); <span class="comment">// 222</span></span><br><span class="line">    dictionary[<span class="number">2</span>] = <span class="string">"555"</span>;</span><br><span class="line">    Console.WriteLine(dictionary[<span class="number">2</span>]); <span class="comment">// 555</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"555"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">遍历：</font></strong></p>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"555"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Count方法：</font></strong></p>
<ul>
<li>返回Dictionary的长度。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(dictionary.Count);<span class="comment">//2</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach循环：</font></strong></p>
<ul>
<li>遍历所有键Dictionary.Keys</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> item <span class="keyword">in</span> dictionary.Keys)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        Console.WriteLine(dictionary[item]);</span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 555</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">        <span class="comment">// 333</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach循环：</font></strong></p>
<ul>
<li>遍历所有值Dictionary.Values。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">string</span> item <span class="keyword">in</span> dictionary.Values)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        <span class="comment">// 555</span></span><br><span class="line">        <span class="comment">// 333</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">foreach循环：</font></strong></p>
<ul>
<li>用KeyValuePair&lt;键类型, 值类型&gt;键值对一起遍历Dictionary。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Mian</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; item <span class="keyword">in</span> dictionary)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"键："</span> + item.Key + <span class="string">" 值："</span> + item.Value);</span><br><span class="line">        <span class="comment">// 键：2 值：555</span></span><br><span class="line">        <span class="comment">// 键：3 值：333</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>当前dictionary中的元素：————元素为2</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">{ <span class="number">2</span>:<span class="string">"555"</span>, <span class="number">3</span>:<span class="string">"333"</span> }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.使用字典存储0~9的数字对应的大写文字，提供一个方法，返回数的大写</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回大写数字方法</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ReturnUppercaseNumber</span>(<span class="params"><span class="built_in">int</span> num</span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 声明一个&lt;int, string&gt;的字典</span></span><br><span class="line">    Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 把大写数字的映射关系逐个添加到字典中</span></span><br><span class="line">    dic.Add(<span class="number">0</span>, <span class="string">"零"</span>);</span><br><span class="line">    dic.Add(<span class="number">1</span>, <span class="string">"壹"</span>);</span><br><span class="line">    dic.Add(<span class="number">2</span>, <span class="string">"贰"</span>);</span><br><span class="line">    dic.Add(<span class="number">3</span>, <span class="string">"叁"</span>);</span><br><span class="line">    dic.Add(<span class="number">4</span>, <span class="string">"肆"</span>);</span><br><span class="line">    dic.Add(<span class="number">5</span>, <span class="string">"伍"</span>);</span><br><span class="line">    dic.Add(<span class="number">6</span>, <span class="string">"陆"</span>);</span><br><span class="line">    dic.Add(<span class="number">7</span>, <span class="string">"柒"</span>);</span><br><span class="line">    dic.Add(<span class="number">8</span>, <span class="string">"捌"</span>);</span><br><span class="line">    dic.Add(<span class="number">9</span>, <span class="string">"玖"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明存储大写数字变量</span></span><br><span class="line">    <span class="built_in">string</span> uppercaseNumberString = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得百位</span></span><br><span class="line">    <span class="built_in">int</span> bai = num / <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">if</span> (bai != <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        uppercaseNumberString += dic[bai];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得十位数</span></span><br><span class="line">    <span class="built_in">int</span> shi = num % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> (shi != <span class="number">0</span> || uppercaseNumberString != <span class="string">""</span>)</span><br><span class="line">    {</span><br><span class="line">        uppercaseNumberString += dic[shi];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得个位</span></span><br><span class="line">    <span class="built_in">int</span> ge = num % <span class="number">10</span>;</span><br><span class="line">    uppercaseNumberString += dic[ge];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回存储大写数字变量</span></span><br><span class="line">    <span class="keyword">return</span> uppercaseNumberString;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"请输入一个不超过3位的数"</span>);</span><br><span class="line">        Console.WriteLine(ReturnUppercaseNumber(<span class="built_in">int</span>.Parse(Console.ReadLine())));</span><br><span class="line">        <span class="comment">// 直接把输入的内容传入返回大写数字方法中</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">catch</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"请输入数字"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>


<p><strong><font size="4">2.计算每个字母出现的次数“Welcome to Unity World！”，使用字典存储，最后遍历整个字典，不区分大小写</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Mian</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 声明&lt;char, int&gt;字典</span></span><br><span class="line">    Dictionary&lt;<span class="built_in">char</span>, <span class="built_in">int</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">char</span>, <span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> targetString = <span class="string">"Welcome to Unity World!"</span>; <span class="comment">// 存储目标字符串</span></span><br><span class="line">    targetString = targetString.ToLower(); <span class="comment">// 全部转成小写</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历目标字符串</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; targetString.Length; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 如果字典里有当前这个char，就把数量+1</span></span><br><span class="line">        <span class="keyword">if</span> (dic.ContainsKey(targetString[i]))</span><br><span class="line">        {</span><br><span class="line">            dic[targetString[i]] += <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果字典里没有当前这个char，就把当前这个char存入字典中，数量为1</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            dic.Add(targetString[i], <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历字典，打印各个字母的数量</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">char</span> item <span class="keyword">in</span> dic.Keys)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"字母{0}出现了{1}次"</span>, item, dic[item]);</span><br><span class="line">        <span class="comment">// 字母w出现了2次</span></span><br><span class="line">        <span class="comment">// 字母e出现了2次</span></span><br><span class="line">        <span class="comment">// 字母l出现了2次</span></span><br><span class="line">        <span class="comment">// 字母c出现了1次</span></span><br><span class="line">        <span class="comment">// 字母o出现了3次</span></span><br><span class="line">        <span class="comment">// 字母m出现了1次</span></span><br><span class="line">        <span class="comment">// 字母 出现了3次</span></span><br><span class="line">        <span class="comment">// 字母t出现了2次</span></span><br><span class="line">        <span class="comment">// 字母u出现了1次</span></span><br><span class="line">        <span class="comment">// 字母n出现了1次</span></span><br><span class="line">        <span class="comment">// 字母i出现了1次</span></span><br><span class="line">        <span class="comment">// 字母y出现了1次</span></span><br><span class="line">        <span class="comment">// 字母r出现了1次</span></span><br><span class="line">        <span class="comment">// 字母d出现了1次</span></span><br><span class="line">        <span class="comment">// 字母！出现了1次</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


</details>

<hr>
<h1 id="顺序存储和链式存储"><a href="#顺序存储和链式存储" class="headerlink" title="顺序存储和链式存储"></a>顺序存储和链式存储</h1><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p><strong><font size="4">数据结构的概念：</font></strong></p>
<ul>
<li>数据结构是计算机存储、组织数据的方式（规则）。数据结构是指相互之间存在一种或多种特定关系的数据元素的集合，比如自定义的一个类也可以称为一种数据结构，自己定义的数据组合规则。不要把数据结构想得太复杂，简单点理解，就是人定义的存储数据和表示数据之间关系的规则而已。</li>
</ul>
<p><strong><font size="4">常用的数据结构：</font></strong></p>
<ul>
<li>常用的数据结构包括数组、栈、队列、链表、树、图、堆、散列表。</li>
</ul>
<p><strong><font size="4">线性表：</font></strong></p>
<ul>
<li>线性表是一种数据结构，是由n个具有相同特性的数据元素的有限序列，比如数组、ArrayList、Stack、Queue、链表等等。</li>
</ul>
<p><strong><font size="4">顺序存储和链式存储是数据结构中两种存储结构：</font></strong><br><strong><font size="3">顺序存储：</font></strong></p>
<ul>
<li>顺序存储：用一组地址连续的存储单元依次存储线性表的各个数据元素。</li>
</ul>
 <img src="/Test.github.io/2025/02/27/C-%E8%BF%9B%E9%98%B6/%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8.png" class="" title="顺序存储" loading="lazy" onerror='this.onerror=null;this.src="/Test.github.io/img/404.jpg"'>

<p><strong><font size="3">链式存储：</font></strong></p>
<ul>
<li>链式存储(链接存储)：用一组任意的存储单元存储线性表中的各个数据元素。</li>
</ul>
 <img src="/Test.github.io/2025/02/27/C-%E8%BF%9B%E9%98%B6/%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8.png" class="" title="链式存储" loading="lazy" onerror='this.onerror=null;this.src="/Test.github.io/img/404.jpg"'>


<p><strong><font size="4">实现一个最简单的单向链表：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 单向链表节点</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name="T"&gt;</span>泛型数据<span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title">LinkedNode</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//具体存储的数据</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前节点的下一节点</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; nextNode;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造函数 初始化值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedNode</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.<span class="keyword">value</span> = <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 单向链表类 管理 节点 管理 添加等等</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name="T"&gt;</span><span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title">LindedList</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//头结点</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//尾结点</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; last;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//添加节点 必然是new一个新的节点</span></span><br><span class="line">        LinkedNode&lt;T&gt; node = <span class="keyword">new</span> LinkedNode&lt;T&gt;(<span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果没有头结点 新new出来的节点即是头节点也是尾节点</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            head = node;</span><br><span class="line">            last = node;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//如果有头结点 让尾节点指向当前new出来的节点 让new出来的节点充当尾节点</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            last.nextNode = node;</span><br><span class="line">            last = node;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//移除节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//如果没有头结点 说明没有节点存在里面 直接return</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果移除的是头节点</span></span><br><span class="line">        <span class="keyword">if</span> (head.<span class="keyword">value</span>.Equals(<span class="keyword">value</span>))</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//是的话头结点往后移一个位置</span></span><br><span class="line">            head = head.nextNode;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果头节点 被移除 发现头节点变空</span></span><br><span class="line">            <span class="comment">//证明只有一个节点 那尾也要清空</span></span><br><span class="line">            <span class="keyword">if</span> (head == <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                last = <span class="literal">null</span>;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//声明一个临时的指针节点 先指向头结点 遍历的往后找</span></span><br><span class="line">        LinkedNode&lt;T&gt; node = head;</span><br><span class="line">        <span class="keyword">while</span> (node.nextNode != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment"><span class="doctag">///</span>如果当前节点的下一节点就是要移除的节点</span></span><br><span class="line">            <span class="keyword">if</span> (node.nextNode.<span class="keyword">value</span>.Equals(<span class="keyword">value</span>))</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//让当前找到的这个元素的 上一个节点</span></span><br><span class="line">                <span class="comment">//指向 自己的下一个节点</span></span><br><span class="line">                node.nextNode = node.nextNode.nextNode;</span><br><span class="line">                node = node.nextNode;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//这里其实有移除尾节点的bug 深究的话还要处理</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//声明一个单向链表</span></span><br><span class="line">        LindedList&lt;<span class="built_in">int</span>&gt; linkList = <span class="keyword">new</span> LindedList&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//加一点元素</span></span><br><span class="line">        linkList.Add(<span class="number">1</span>);</span><br><span class="line">        linkList.Add(<span class="number">2</span>);</span><br><span class="line">        linkList.Add(<span class="number">3</span>);</span><br><span class="line">        linkList.Add(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//声明一个临时的指针节点 先指向头结点 遍历打印元素</span></span><br><span class="line">        LinkedNode&lt;<span class="built_in">int</span>&gt; node = linkList.head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">            node = node.nextNode;</span><br><span class="line">            <span class="comment">//1</span></span><br><span class="line">            <span class="comment">//2</span></span><br><span class="line">            <span class="comment">//3</span></span><br><span class="line">            <span class="comment">//4</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//移除了非头元素元素2后 重新指向头结点 再次遍历打印元素</span></span><br><span class="line">        linkList.Remove(<span class="number">2</span>);</span><br><span class="line">        node = linkList.head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">            Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">            node = node.nextNode;</span><br><span class="line">            <span class="comment">//1</span></span><br><span class="line">            <span class="comment">//3</span></span><br><span class="line">            <span class="comment">//4</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//移除了头元素元素1后 重新指向头结点 再次遍历打印元素</span></span><br><span class="line">        linkList.Remove(<span class="number">1</span>);</span><br><span class="line">        node = linkList.head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">            node = node.nextNode;</span><br><span class="line">            <span class="comment">//3</span></span><br><span class="line">            <span class="comment">//4</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//再加一个元素99 重新指向头结点 再次遍历打印元素</span></span><br><span class="line">        linkList.Add(<span class="number">99</span>);</span><br><span class="line">        node = linkList.head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">            node = node.nextNode;</span><br><span class="line">            <span class="comment">//3</span></span><br><span class="line">            <span class="comment">//4</span></span><br><span class="line">            <span class="comment">//99</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">顺序存储和链式存储的优缺点：</font></strong><br><strong><font size="3">从增删查改的角度去思考：</font></strong></p>
<ul>
<li>增：链式存储计算上优于顺序存储（中间插入时链式不用像顺序一样去移动位置）。</li>
<li>删：链式存储计算上优于顺序存储（中间删除时链式不用像顺序一样去移动位置）。</li>
<li>查：顺序存储使用上优于链式存储（数组可以直接通过下标得到元素，链式需要遍历）。</li>
<li>改：顺序存储使用上优于链式存储（数组可以直接通过下标得到元素，链式需要遍历）。</li>
</ul>
<h2 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.常用的数据结构有哪些</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li>数组</li>
<li>栈</li>
<li>队列</li>
<li>链表</li>
<li>树</li>
<li>图</li>
<li>堆</li>
<li>散列表</li>
</ul>
</details>

<p><strong><font size="4">2.顺序存储和链式存储的区别</font></strong></p>
<details>
  <summary>查看答案</summary>

<p><strong><font size="3">顺序存储：</font></strong></p>
<ul>
<li>在内存中使用一组地址连续的存储单元存储线性表，数据元素之间的逻辑关系由它们在存储器中的相对位置来体现。数组就是一种顺序存储结构。</li>
</ul>
<p><strong><font size="3">链式存储：</font></strong></p>
<ul>
<li>在内存中使用一组任意的存储单元存储线性表，数据元素之间的逻辑关系不是通过物理位置来表示的，而是通过每个节点中的指针来表示。链表就是一种典型的链式存储结构。</li>
</ul>
</details>


<p><strong><font size="4">3.实现一个双向链表,并提供以下方法和属性:数据的个数,头节点,尾节点,增加数据到链表最后,删除指定位置节点</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 节点类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">LinkedNode</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 存储的值</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="keyword">value</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 上一个节点</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; frontNode;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 下一个节点</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; nextNode;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 节点类构造函数 初始化存储的值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedNode</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.<span class="keyword">value</span> = <span class="keyword">value</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 链表类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 链表长度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> count = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 头结点</span></span><br><span class="line">    <span class="keyword">private</span> LinkedNode&lt;T&gt; head;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 尾节点</span></span><br><span class="line">    <span class="keyword">private</span> LinkedNode&lt;T&gt; last;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 链表长度属性</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Count</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span> { <span class="keyword">return</span> count; }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 头结点属性</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; Head</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span> { <span class="keyword">return</span> head; }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 尾节点属性</span></span><br><span class="line">    <span class="keyword">public</span> LinkedNode&lt;T&gt; Last</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span> { <span class="keyword">return</span> last; }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 添加节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 新加的节点</span></span><br><span class="line">        LinkedNode&lt;T&gt; node = <span class="keyword">new</span> LinkedNode&lt;T&gt;(<span class="keyword">value</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 如果头结点为空</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 新加的节点即是头结点也是尾节点</span></span><br><span class="line">            head = node;</span><br><span class="line">            last = node;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 如果头结点不为空</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 新加的节点添加到尾部</span></span><br><span class="line">            last.nextNode = node;</span><br><span class="line">            <span class="comment">// 新加的节点 记录自己的上一个节点是谁</span></span><br><span class="line">            node.frontNode = last;</span><br><span class="line">            <span class="comment">// 让当前新加的节点变成最后一个节点</span></span><br><span class="line">            last = node;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 加了一个节点 链表长度+1</span></span><br><span class="line">        ++count;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 根据索引移除节点方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveAt</span>(<span class="params"><span class="built_in">int</span> index</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 首先判断是否越界</span></span><br><span class="line">        <span class="keyword">if</span> (index &gt;= count || index &lt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"只有{0}个节点，请输入合法位置"</span>, count);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建临时索引和临时节点变量</span></span><br><span class="line">        <span class="built_in">int</span> tempCount = <span class="number">0</span>;</span><br><span class="line">        LinkedNode&lt;T&gt; tempNode = head;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 遍历链表</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 找到了对应位置的要移除的节点 然后移除即可</span></span><br><span class="line">            <span class="keyword">if</span> (tempCount == index)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">// 当前要移除的节点的上一个节点 指向当前要移除的节点的下一个节点</span></span><br><span class="line">                <span class="keyword">if</span> (tempNode.frontNode != <span class="literal">null</span>)</span><br><span class="line">                {</span><br><span class="line">                    tempNode.frontNode.nextNode = tempNode.nextNode;</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">// 当前要移除的节点的下一个节点 指向当前要移除的节点的上一个节点</span></span><br><span class="line">                <span class="keyword">if</span> (tempNode.nextNode != <span class="literal">null</span>)</span><br><span class="line">                {</span><br><span class="line">                    tempNode.nextNode.frontNode = tempNode.frontNode;</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">// 如果是头节点，需要改变头节点的指向</span></span><br><span class="line">                <span class="keyword">if</span> (index == <span class="number">0</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="comment">// 如果头节点被移除，那头节点就变成了头节点的下一个</span></span><br><span class="line">                    head = head.nextNode;</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">// 如果是尾节点，需要改变尾节点的指向</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (index == count - <span class="number">1</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="comment">// 如果尾节点被移除了，那尾结点就变成了尾结点的上一个</span></span><br><span class="line">                    last = last.frontNode;</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">// 移除了一个节点 链表长度-1</span></span><br><span class="line">                --count;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 每次循环完过后，让当前临时节点等于下一个节点</span></span><br><span class="line">            tempNode = tempNode.nextNode;</span><br><span class="line">            <span class="comment">// 索引+1</span></span><br><span class="line">            ++tempCount;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">            <span class="comment">//创建一个链表 添加几个元素</span></span><br><span class="line">            LinkedList&lt;<span class="built_in">int</span>&gt; link = <span class="keyword">new</span> LinkedList&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">            link.Add(<span class="number">1</span>);</span><br><span class="line">            link.Add(<span class="number">2</span>);</span><br><span class="line">            link.Add(<span class="number">3</span>);</span><br><span class="line">            link.Add(<span class="number">4</span>);</span><br><span class="line">            <span class="comment">//正向遍历</span></span><br><span class="line">            LinkedNode&lt;<span class="built_in">int</span>&gt; node = link.Head;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.nextNode;</span><br><span class="line">                <span class="comment">//1</span></span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">                <span class="comment">//3</span></span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//反向遍历</span></span><br><span class="line">            node = link.Last;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.frontNode;</span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">                <span class="comment">//3</span></span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">                <span class="comment">//1</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//移除第0个元素后</span></span><br><span class="line">            link.RemoveAt(<span class="number">0</span>);</span><br><span class="line">            <span class="comment">//正向遍历</span></span><br><span class="line">            node = link.Head;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.nextNode;</span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">                <span class="comment">//3</span></span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//反向遍历</span></span><br><span class="line">            node = link.Last;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.frontNode;</span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">                <span class="comment">//3</span></span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//移除第1个元素后</span></span><br><span class="line">            link.RemoveAt(<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//正向遍历</span></span><br><span class="line">            node = link.Head;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.nextNode;</span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//反向遍历</span></span><br><span class="line">            node = link.Last;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.frontNode;</span><br><span class="line">                <span class="comment">//4</span></span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//移除第1个元素后</span></span><br><span class="line">            link.RemoveAt(<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//正向遍历</span></span><br><span class="line">            node = link.Head;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.nextNode;</span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//反向遍历</span></span><br><span class="line">            node = link.Last;</span><br><span class="line">            <span class="keyword">while</span> (node != <span class="literal">null</span>)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(node.<span class="keyword">value</span>);</span><br><span class="line">                node = node.frontNode;</span><br><span class="line">                <span class="comment">//2</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//移除第1个元素后</span></span><br><span class="line">            link.RemoveAt(<span class="number">1</span>); <span class="comment">//只有1个节点，请输入合法位置</span></span><br><span class="line">    }        </span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a><em><strong><font color="#BA55D3">LinkedList</font></strong></em></h1><p><strong><font size="4"> <em><strong><font color="#BA55D3">LinkedList</font></strong></em> 的概念：</font></strong></p>
<ul>
<li><em><strong><font color="#BA55D3">LinkedList</font></strong></em> 是一个C#为我们封装好的类，它的本质是一个可变类型的泛型双向链表。</li>
</ul>
<p><strong><font size="4"> <em><strong><font color="#BA55D3">LinkedList</font></strong></em> 的声明：</font></strong></p>
<ul>
<li>需要引用命名空间 using System.Collections.Generic。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedList&lt;<span class="built_in">int</span>&gt; linkedList = <span class="keyword">new</span> LinkedList&lt;<span class="built_in">int</span>&gt;(); <span class="comment">// int类型的链表</span></span><br><span class="line">    LinkedList&lt;<span class="built_in">string</span>&gt; linkedList2 = <span class="keyword">new</span> LinkedList&lt;<span class="built_in">string</span>&gt;(); <span class="comment">// string类型的链表</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>链表对象需要掌握两个类，一个是链表本身，一个是链表节点类LinkedListNode。可以进去LinkedList类里面看。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">System.Collections.Generic</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// 摘要:</span></span><br><span class="line">    <span class="comment">//     表示双重链接列表。</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// 类型参数:</span></span><br><span class="line">    <span class="comment">//   T:</span></span><br><span class="line">    <span class="comment">//     指定链接列表的元素类型。</span></span><br><span class="line">    [<span class="meta">ComVisible(false)</span>]</span><br><span class="line">    [<span class="meta">DebuggerDisplay(<span class="string">"Count = {Count}"</span>)</span>]</span><br><span class="line">    [<span class="meta">DebuggerTypeProxy(typeof(Generic.System_CollectionDebugView&lt;&gt;))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">T</span>&gt; : <span class="title">ICollection</span>&lt;<span class="title">T</span>&gt;, <span class="title">IEnumerable</span>&lt;<span class="title">T</span>&gt;, <span class="title">IEnumerable</span>, <span class="title">ICollection</span>, <span class="title">IReadOnlyCollection</span>&lt;<span class="title">T</span>&gt;, <span class="title">ISerializable</span>, <span class="title">IDeserializationCallback</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     初始化为空的 System.Collections.Generic.LinkedList`1 类的新实例。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span>()</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     初始化 System.Collections.Generic.LinkedList`1 类的新实例，该实例包含从指定的 System.Collections.IEnumerable</span></span><br><span class="line">        <span class="comment">//     中复制的元素并且其容量足以容纳所复制的元素数。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   collection:</span></span><br><span class="line">        <span class="comment">//     System.Collections.IEnumerable，它的元素被复制到新 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     collection 为 null。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span>(<span class="params">IEnumerable&lt;T&gt; collection</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     新实例初始化 System.Collections.Generic.LinkedList`1 是可序列化与指定的类 System.Runtime.Serialization.SerializationInfo</span></span><br><span class="line">        <span class="comment">//     和 System.Runtime.Serialization.StreamingContext。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   info:</span></span><br><span class="line">        <span class="comment">//     一个 System.Runtime.Serialization.SerializationInfo 对象包含序列化 System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     所需的信息。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   context:</span></span><br><span class="line">        <span class="comment">//     一个 System.Runtime.Serialization.StreamingContext 对象包含与System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     关联的序列化流的源和目标。</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="title">LinkedList</span>(<span class="params">SerializationInfo info, StreamingContext context</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     获取的最后一个节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     最后一个 System.Collections.Generic.LinkedListNode`1 的 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="keyword">public</span> LinkedListNode&lt;T&gt; Last { <span class="keyword">get</span>; }</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     获取的第一个节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     第一个 System.Collections.Generic.LinkedListNode`1 的 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="keyword">public</span> LinkedListNode&lt;T&gt; First { <span class="keyword">get</span>; }</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     获取中实际包含的节点数 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     中实际包含的节点数 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Count { <span class="keyword">get</span>; }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     添加包含指定的值中指定的现有节点后的新节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedListNode`1 在其之后插入新 System.Collections.Generic.LinkedListNode`1</span></span><br><span class="line">        <span class="comment">//     包含 value。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要添加到值 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 包含 value。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 不在当前 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">AddAfter</span>(<span class="params">LinkedListNode&lt;T&gt; node, T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     在中指定的现有节点之后添加指定的新节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedListNode`1 在其之后插入 newNode。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   newNode:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 将添加到 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。 - 或 - newNode 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 不在当前 System.Collections.Generic.LinkedList`1。 - 或 - newNode 属于另一个 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddAfter</span>(<span class="params">LinkedListNode&lt;T&gt; node, LinkedListNode&lt;T&gt; newNode</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     添加包含在指定的现有节点前的指定的值的新节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedListNode`1 在其前面进行插入一个新 System.Collections.Generic.LinkedListNode`1</span></span><br><span class="line">        <span class="comment">//     包含 value。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要添加到值 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 包含 value。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 不在当前 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">AddBefore</span>(<span class="params">LinkedListNode&lt;T&gt; node, T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     添加指定的新节点中指定的现有节点前 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedListNode`1 在其前面进行插入 newNode。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   newNode:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 将添加到 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。 - 或 - newNode 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 不在当前 System.Collections.Generic.LinkedList`1。 - 或 - newNode 属于另一个 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddBefore</span>(<span class="params">LinkedListNode&lt;T&gt; node, LinkedListNode&lt;T&gt; newNode</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     添加包含指定的值的开头的新节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要添加的开头处的值 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 包含 value。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">AddFirst</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     将指定的新节点添加的开头 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 的开头添加 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 属于另一个 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddFirst</span>(<span class="params">LinkedListNode&lt;T&gt; node</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     添加包含指定的值的末尾的新节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     值的结尾处添加 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 包含 value。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">AddLast</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     将指定的新节点添加的末尾 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     新 System.Collections.Generic.LinkedListNode`1 的末尾添加 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 属于另一个 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddLast</span>(<span class="params">LinkedListNode&lt;T&gt; node</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     删除所有节点从 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     确定一个值是否在 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要在 System.Collections.Generic.LinkedList`1 中定位的值。 对于引用类型，该值可以为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     如果在 true 中找到 value，则为 System.Collections.Generic.LinkedList`1；否则为 false。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Contains</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     从目标数组的指定索引处开始将整个 System.Collections.Generic.LinkedList`1 复制到兼容的一维 System.Array。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   array:</span></span><br><span class="line">        <span class="comment">//     一维 System.Array，它是从 System.Collections.Generic.LinkedList`1 复制的元素的目标。 System.Array</span></span><br><span class="line">        <span class="comment">//     必须具有从零开始的索引。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   index:</span></span><br><span class="line">        <span class="comment">//     array 中从零开始的索引，从此处开始复制。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     array 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentOutOfRangeException:</span></span><br><span class="line">        <span class="comment">//     index 小于零。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentException:</span></span><br><span class="line">        <span class="comment">//     源中的元素数目 System.Collections.Generic.LinkedList`1 大于从的可用空间 index 目标从头到尾 array。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CopyTo</span>(<span class="params">T[] array, <span class="built_in">int</span> index</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     查找包含指定的值的第一个节点。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要在 System.Collections.Generic.LinkedList`1 中定位的值。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     第一个 System.Collections.Generic.LinkedListNode`1 ，包含指定的值时，如果找到; 否则为 null。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">Find</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     查找包含指定的值的最后一个节点。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要在 System.Collections.Generic.LinkedList`1 中定位的值。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     最后一个 System.Collections.Generic.LinkedListNode`1 ，包含指定的值时，如果找到; 否则为 null。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> LinkedListNode&lt;T&gt; <span class="title">FindLast</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     返回循环访问 System.Collections.Generic.LinkedList`1 的枚举数。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     用于 System.Collections.Generic.LinkedList`1.Enumerator 的 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Enumerator <span class="title">GetEnumerator</span>()</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     实现 System.Runtime.Serialization.ISerializable 接口，并返回序列化 System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     实例所需的数据。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   info:</span></span><br><span class="line">        <span class="comment">//     System.Runtime.Serialization.SerializationInfo 对象，该对象包含序列化 System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     实例所需的信息。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   context:</span></span><br><span class="line">        <span class="comment">//     System.Runtime.Serialization.StreamingContext 对象，该对象包含与 System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     实例关联的序列化流的源和目标。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     info 为 null。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">GetObjectData</span>(<span class="params">SerializationInfo info, StreamingContext context</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     实现 System.Runtime.Serialization.ISerializable 接口，并在完成反序列化之后引发反序列化事件。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   sender:</span></span><br><span class="line">        <span class="comment">//     反序列化事件源。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.Runtime.Serialization.SerializationException:</span></span><br><span class="line">        <span class="comment">//     System.Runtime.Serialization.SerializationInfo 关联与当前对象 System.Collections.Generic.LinkedList`1</span></span><br><span class="line">        <span class="comment">//     实例无效。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDeserialization</span>(<span class="params"><span class="built_in">object</span> sender</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     移除从指定的值的第一个匹配项 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   value:</span></span><br><span class="line">        <span class="comment">//     要移除的值 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 返回结果:</span></span><br><span class="line">        <span class="comment">//     true 如果元素包含 value 成功删除; 否则为 false。 如果在原始 false 中没有找到 value，则此方法也会返回 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Remove</span>(<span class="params">T <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     移除指定的节点从 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 参数:</span></span><br><span class="line">        <span class="comment">//   node:</span></span><br><span class="line">        <span class="comment">//     要从 System.Collections.Generic.LinkedListNode`1 移除的 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.ArgumentNullException:</span></span><br><span class="line">        <span class="comment">//     node 为 null。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     node 不在当前 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">LinkedListNode&lt;T&gt; node</span>)</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     删除的开始处的节点 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedList`1 为空。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveFirst</span>()</span>;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     删除节点的末尾 System.Collections.Generic.LinkedList`1。</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 异常:</span></span><br><span class="line">        <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">        <span class="comment">//     System.Collections.Generic.LinkedList`1 为空。</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveLast</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// 摘要:</span></span><br><span class="line">        <span class="comment">//     枚举 System.Collections.Generic.LinkedList`1 的元素。</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">struct</span> Enumerator : IEnumerator&lt;T&gt;, IDisposable, IEnumerator, ISerializable, IDeserializationCallback</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 摘要:</span></span><br><span class="line">            <span class="comment">//     获取枚举数当前位置的元素。</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 返回结果:</span></span><br><span class="line">            <span class="comment">//     System.Collections.Generic.LinkedList`1 中位于该枚举数当前位置的元素。</span></span><br><span class="line">            <span class="keyword">public</span> T Current { <span class="keyword">get</span>; }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 摘要:</span></span><br><span class="line">            <span class="comment">//     释放由 System.Collections.Generic.LinkedList`1.Enumerator 使用的所有资源。</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span>;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 摘要:</span></span><br><span class="line">            <span class="comment">//     使枚举数前进到 System.Collections.Generic.LinkedList`1 的下一个元素。</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 返回结果:</span></span><br><span class="line">            <span class="comment">//     如果枚举数已成功地推进到下一个元素，则为 true；如果枚举数传递到集合的末尾，则为 false。</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// 异常:</span></span><br><span class="line">            <span class="comment">//   T:System.InvalidOperationException:</span></span><br><span class="line">            <span class="comment">//     创建枚举器后，已修改该集合。</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">MoveNext</span>()</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4"> <em><strong><font color="#BA55D3">LinkedList</font></strong></em> 的增删查改和遍历</font></strong><br><strong><font size="4">增：</font></strong><br><strong><font size="3">AddLast方法：</font></strong></p>
<ul>
<li>在链表尾部添加元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    linkedList.AddLast(<span class="number">10</span>);</span><br><span class="line">    linkedList.AddLast(<span class="number">1</span>);</span><br><span class="line">    linkedList.AddLast(<span class="number">2</span>);</span><br><span class="line">    linkedList.AddLast(<span class="number">3</span>);</span><br><span class="line">    linkedList.AddLast(<span class="number">4</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">AddFirst方法：</font></strong></p>
<ul>
<li>在链表头部添加元素。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    linkedList.AddFirst(<span class="number">20</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">AddAfter方法：</font></strong></p>
<ul>
<li>在指定节点之后添加一个节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; node1 = linkedList.Find(<span class="number">20</span>);</span><br><span class="line">    linkedList.AddAfter(node1, <span class="number">15</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">AddBefore方法：</font></strong></p>
<ul>
<li>在指定节点之前添加一个节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; node2 = linkedList.Find(<span class="number">1</span>);</span><br><span class="line">    linkedList.AddBefore(node2, <span class="number">11</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">删：</font></strong><br><strong><font size="3">RemoveFirst方法：</font></strong></p>
<ul>
<li>移除头节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    linkedList.RemoveFirst();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">RemoveLast方法：</font></strong></p>
<ul>
<li>移除尾节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    linkedList.RemoveLast();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Remove方法：</font></strong></p>
<ul>
<li>移除指定节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    linkedList.Remove(<span class="number">20</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">查：</font></strong><br><strong><font size="3">First属性：</font></strong></p>
<ul>
<li>返回头节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; first = linkedList.First;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Last属性：</font></strong></p>
<ul>
<li>返回尾节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LinkedListNode&lt;<span class="built_in">int</span>&gt; last = linkedList.Last;</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Find方法：</font></strong></p>
<ul>
<li>找到指定值的节点，找不到返回空。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; node3 = linkedList.Find(<span class="number">3</span>);</span><br><span class="line">    Console.WriteLine(node3.Value); <span class="comment">// 3</span></span><br><span class="line">    node3 = linkedList.Find(<span class="number">5</span>); <span class="comment">// 这个node是空</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">Contains方法：</font></strong></p>
<ul>
<li>判断是否存在。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (linkedList.Contains(<span class="number">1</span>))</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"链表中存在1"</span>); <span class="comment">// 链表中存在1</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">改：</font></strong></p>
<ul>
<li>改节点值，要先得到节点，再修改Value属性。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(linkedList.First.Value); <span class="comment">// 15</span></span><br><span class="line">    linkedList.First.Value = <span class="number">10</span>;</span><br><span class="line">    Console.WriteLine(linkedList.First.Value); <span class="comment">// 10</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">遍历：</font></strong><br><strong><font size="3">foreach遍历：</font></strong></p>
<ul>
<li>遍历直接得到的是节点的值，而不是节点。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">int</span> item <span class="keyword">in</span> linkedList)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(item);</span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">        <span class="comment">// 11</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">通过节点while循环遍历：</font></strong></p>
<ul>
<li>从头到尾遍历</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; nowNode = linkedList.First;</span><br><span class="line">    <span class="keyword">while</span> (nowNode != <span class="literal">null</span>)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(nowNode.Value);</span><br><span class="line">        nowNode = nowNode.Next;</span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">        <span class="comment">// 11</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>从尾到头遍历</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    nowNode = linkedList.Last;</span><br><span class="line">    <span class="keyword">while</span> (nowNode != <span class="literal">null</span>)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(nowNode.Value);</span><br><span class="line">        nowNode = nowNode.Previous;</span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">        <span class="comment">// 2</span></span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">        <span class="comment">// 11</span></span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">        <span class="comment">// 10</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="练习题-9"><a href="#练习题-9" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.使用Linkedlist，向其中加入10个随机整形变量</font></strong></p>
<blockquote>
<p>正向遍历一次打印出信息<br>反向遍历一次打印出信息</p>
</blockquote>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 创建链表</span></span><br><span class="line">    LinkedList&lt;<span class="built_in">int</span>&gt; linkedList = <span class="keyword">new</span> LinkedList&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建随机对象</span></span><br><span class="line">    Random r = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 随机往链表加入10个数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        linkedList.AddLast(r.Next(<span class="number">1</span>, <span class="number">101</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 正向遍历</span></span><br><span class="line">    LinkedListNode&lt;<span class="built_in">int</span>&gt; nowNode = linkedList.First;</span><br><span class="line">    <span class="keyword">while</span> (nowNode != <span class="literal">null</span>)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(nowNode.Value);</span><br><span class="line">        nowNode = nowNode.Next;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 反向遍历</span></span><br><span class="line">    nowNode = linkedList.Last;</span><br><span class="line">    <span class="keyword">while</span> (nowNode != <span class="literal">null</span>)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(nowNode.Value);</span><br><span class="line">        nowNode = nowNode.Previous;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="泛型栈和队列"><a href="#泛型栈和队列" class="headerlink" title="泛型栈和队列"></a>泛型栈和队列</h1><h2 id="回顾数据容器"><a href="#回顾数据容器" class="headerlink" title="回顾数据容器"></a>回顾数据容器</h2><p><strong><font size="4">变量：</font></strong></p>
<ul>
<li>无符号：byte, ushort, uint, ulong</li>
<li>有符号：sbyte, short, int, long</li>
<li>浮点数：float, double, decimal</li>
<li>特殊：char, bool, string</li>
</ul>
<p><strong><font size="4">复杂数据容器：</font></strong></p>
<ul>
<li>枚举：enum</li>
<li>结构体：struct</li>
<li>数组（一维、二维、交错）：[], [,], [][]</li>
<li>类</li>
</ul>
<p><strong><font size="4">数据集合：</font></strong></p>
<ul>
<li>需要引用命名空间 using System.Collections;</li>
<li>ArrayList：object数据列表</li>
<li>Stack：栈，先进后出</li>
<li>Queue：队列，先进先出</li>
<li>Hashtable：哈希表，键值对</li>
</ul>
<p><strong><font size="4">泛型数据集合：</font></strong></p>
<ul>
<li>需要引用命名空间 using System.Collections.Generic;</li>
<li>List：列表，泛型列表</li>
<li>Dictionary：字典，泛型哈希表</li>
<li>LinkedList：双向链表</li>
<li>Stack：泛型栈</li>
<li>Queue：泛型队列</li>
</ul>
<p><strong><font size="4">泛型栈和队列：</font></strong></p>
<ul>
<li>命名空间：using System.Collections.Generic;</li>
<li>使用上和之前的Stack和Queue一模一样。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Stack&lt;<span class="built_in">int</span>&gt; stack = <span class="keyword">new</span> Stack&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">    Queue&lt;<span class="built_in">object</span>&gt; queue = <span class="keyword">new</span> Queue&lt;<span class="built_in">object</span>&gt;();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>方法不再赘述，和非泛型基本一致。</p>
</blockquote>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">数组、List、Dictionary、Stack、Queue、LinkedList这些存储容器对于我们来说应该如何选择他们来使用：</font></strong><br><strong><font size="3">普通线性表：数组，List，LinkedList</font></strong><br><strong><font size="3">数组：</font></strong></p>
<ul>
<li>固定的不变的一组数据</li>
</ul>
<p><strong><font size="3">List: </font></strong></p>
<ul>
<li>经常改变，经常通过下标查找</li>
</ul>
<p><strong><font size="3">LinkedList：</font></strong></p>
<ul>
<li>不确定长度的，经常临时插入改变，查找不多</li>
</ul>
<p><strong><font size="3">先进后出：Stack</font></strong></p>
<ul>
<li>对于一些可以利用先进后出存储特点的逻辑</li>
<li>比如：UI面板显隐规则</li>
</ul>
<p><strong><font size="3">先进先出：Queue</font></strong></p>
<ul>
<li>对于一些可以利用先进先出存储特点的逻辑</li>
<li>比如：消息队列，有了就往里放，然后慢慢依次处理</li>
</ul>
<p><strong><font size="3">键值对：Dictionary</font></strong></p>
<ul>
<li>需要频繁查找的，有对应关系的数据</li>
<li>比如一些数据存储 id对应数据内容</li>
<li>道具ID ——&gt; 道具信息</li>
<li>等等</li>
</ul>
<hr>
<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="事件-详解"><a href="#事件-详解" class="headerlink" title="事件 详解"></a>事件 详解</h2><p><strong><font size="4">事件是什么：</font></strong></p>
<ul>
<li>事件是基于委托的存在，是委托的安全包裹，让委托的使用更具有安全性。事件是一种特殊的变量类型。</li>
</ul>
<p><strong><font size="4">事件的使用：</font></strong></p>
<p><strong><font size="3">事件的基础知识：</font></strong></p>
<p><strong>声明语法：</strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">event</span> 委托类型 事件名;</span><br></pre></td></tr></tbody></table></figure>
<p><strong>事件的使用：</strong></p>
<ul>
<li>事件是作为成员变量存在于类中。</li>
<li>委托怎么用，事件就怎么用。</li>
</ul>
<p><strong><font size="3">事件相对于委托的区别：</font></strong></p>
<ul>
<li>不能在类外部赋值。</li>
<li>不能再类外部调用。</li>
</ul>
<blockquote>
<p>注意：它只能作为成员存在于类和接口以及结构体中。</p>
</blockquote>
<p><strong><font size="3">实例：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">TestEvent</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 委托成员变量，用于存储函数的无参数无返回值</span></span><br><span class="line">    <span class="keyword">public</span> Action myAction;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 事件成员变量，用于存储函数的无参数无返回值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action myEvent;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试事件类构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestEvent</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 事件的使用和委托一模一样，只是有些细微的区别</span></span><br><span class="line">        <span class="comment">// 委托怎么用，事件就怎么用</span></span><br><span class="line">        myAction = Print123;</span><br><span class="line">        myAction += Print123;</span><br><span class="line">        myAction -= Print123;</span><br><span class="line">        myAction(); </span><br><span class="line">        myAction.Invoke(); </span><br><span class="line"></span><br><span class="line">        myEvent = Print123;</span><br><span class="line">        myEvent += Print123;</span><br><span class="line">        myEvent -= Print123;</span><br><span class="line">        myEvent(); </span><br><span class="line">        myEvent.Invoke(); </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 封装的方法，执行事件</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoEvent</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 事件不为空的话，执行事件</span></span><br><span class="line">        <span class="keyword">if</span> (myEvent != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            myEvent();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印123函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Print123</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"123"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Print456</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"456"</span>);</span><br><span class="line">    }</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建测试事件类</span></span><br><span class="line">        TestEvent testEvent = <span class="keyword">new</span> TestEvent();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 委托可以在外部赋值</span></span><br><span class="line">        testEvent.myAction = <span class="literal">null</span>;</span><br><span class="line">        testEvent.myAction = Print456;</span><br><span class="line">        testEvent.myAction = testEvent.myAction + Print456;</span><br><span class="line">        testEvent.myAction += Print456;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 事件是不能再外部赋值的，否则报错</span></span><br><span class="line">        <span class="comment">// testEvent.myEvent = null;//报错</span></span><br><span class="line">        <span class="comment">// testEvent.myEvent = Print123;//报错</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 事件虽然不能直接赋值，但是可以加减去添加移除记录的函数</span></span><br><span class="line">        testEvent.myEvent += Print456;</span><br><span class="line">        <span class="comment">// testEvent.myEvent = testEvent.myEvent + Print456;//报错，事件不支持这样写</span></span><br><span class="line">        testEvent.myEvent -= Print456;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 委托是可以在外部调用的</span></span><br><span class="line">        testEvent.myAction();</span><br><span class="line">        testEvent.myAction.Invoke();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 事件不能再外部调用</span></span><br><span class="line">        <span class="comment">// testEvent.myEvent();//报错</span></span><br><span class="line">        <span class="comment">// testEvent.myEvent.Invoke();//报错</span></span><br><span class="line">        <span class="comment">// 只能在类的内部去封装调用</span></span><br><span class="line">        testEvent.DoEvent();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 委托能作为临时变量在函数中使用</span></span><br><span class="line">        Action a = Print456;</span><br><span class="line">        <span class="comment">// 事件是不能作为临时变量在函数中使用的</span></span><br><span class="line">        <span class="comment">// event Action eA = Print456;//报错</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">为什么有事件：</font></strong></p>
<ul>
<li>防止外部随意置空委托。</li>
<li>防止外部随意调用委托。</li>
<li>事件相当于对委托进行了一次封装，让其更加安全。</li>
</ul>
<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">事件和委托的区别：</font></strong></p>
<ul>
<li>事件和委托的使用基本是一模一样的。</li>
<li>事件就是特殊的委托。</li>
</ul>
<p><strong><font size="4">主要区别：</font></strong></p>
<ul>
<li>事件不能再外部使用赋值=符号，只能使用+ -。委托哪里都能用。</li>
<li>事件不能再外部执行，委托哪里都能执行。</li>
<li>事件不能作为函数中的临时变量，委托可以。</li>
</ul>
<h2 id="练习题-10"><a href="#练习题-10" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.有一个热水器，包含一个加热器，一个报警器，一个显示器，我们给热水器通上电，当水温超过95度时，报警器会开始发出语音，告诉你谁的温度，显示器也会改变水温提示，提示水已经烧开了</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 加热器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Heater</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 加热到95度是加热器执行的事件</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action&lt;<span class="built_in">int</span>&gt; heaterEvnet;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当前摄氏度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> celsius = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 加热方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddHot</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 帧数计数</span></span><br><span class="line">        <span class="built_in">int</span> updateIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 每9999999帧进一次循环</span></span><br><span class="line">            <span class="keyword">if</span> (updateIndex % <span class="number">9999999</span> == <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                ++celsius;</span><br><span class="line">                Console.WriteLine(<span class="string">"加热到{0}摄氏度"</span>, celsius);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 为了不频繁打印 超过100度 直接 不加热 测试用</span></span><br><span class="line">                <span class="keyword">if</span> (celsius &gt;= <span class="number">100</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 温度超过95度 就触发 报警器和显示器显示信息</span></span><br><span class="line">                <span class="keyword">if</span> (celsius &gt;= <span class="number">95</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="comment">// 加热器事件不为空就执行</span></span><br><span class="line">                    heaterEvnet?.Invoke(celsius);</span><br><span class="line">                    <span class="comment">// 如果只想提示一次 这清空事件容器即可</span></span><br><span class="line">                    heaterEvnet = <span class="literal">null</span>;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 隔一段时间 加一点温度</span></span><br><span class="line">                updateIndex = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 增加帧数</span></span><br><span class="line">            ++updateIndex;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报警器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Alarm</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowInfo</span>(<span class="params"><span class="built_in">int</span> celsius</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"警报！当前水温是{0}摄氏度！"</span>, celsius);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Display</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowInfo</span>(<span class="params"><span class="built_in">int</span> celsius</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"水开了，当前显示的水温是{0}摄氏度"</span>, celsius);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个加热器，一个报警器，一个显示器</span></span><br><span class="line">        Heater heater = <span class="keyword">new</span> Heater();</span><br><span class="line">        Alarm alarm = <span class="keyword">new</span> Alarm();</span><br><span class="line">        Display display = <span class="keyword">new</span> Display();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 报警器和显示器要做的事情加到加热器事件里</span></span><br><span class="line">        heater.heaterEvnet += alarm.ShowInfo;</span><br><span class="line">        heater.heaterEvnet += display.ShowInfo;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 加热器加热</span></span><br><span class="line">        heater.AddHot();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 加热到1摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到2摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到3摄氏度</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="comment">// 加热到94摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到95摄氏度</span></span><br><span class="line">        <span class="comment">// 警报！当前水温是95摄氏度！</span></span><br><span class="line">        <span class="comment">// 水开了，当前显示的水温是95摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到96摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到97摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到98摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到99摄氏度</span></span><br><span class="line">        <span class="comment">// 加热到100摄氏度</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h1><h2 id="匿名函数-详解"><a href="#匿名函数-详解" class="headerlink" title="匿名函数 详解"></a>匿名函数 详解</h2><p><strong><font size="4">什么是匿名函数：</font></strong></p>
<ul>
<li>匿名函数就是没有名字的函数。匿名函数的使用主要是配合委托和事件进行使用。脱离委托和事件是不会使用匿名函数的。</li>
</ul>
<p><strong><font size="4">匿名函数的基本语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delegate</span> (参数列表)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 函数逻辑</span></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">匿名函数何时使用？</font></strong></p>
<ul>
<li>函数中传递委托参数时。</li>
<li>委托或事件赋值时。</li>
</ul>
<p><strong><font size="4">匿名函数的使用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 测试类内部的委托</span></span><br><span class="line">    <span class="keyword">public</span> Action action;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 存在委托作为参数的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ExistDelegateParam</span>(<span class="params"><span class="built_in">int</span> a, Action fun</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(a);</span><br><span class="line">        fun();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 有委托作为返回值的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Action <span class="title">DelegateReturn</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 学了匿名函数之后可以直接返回匿名函数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">delegate</span> ()</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"函数内部返回的一个匿名函数"</span>);</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试用到无参无返回的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestFun</span>()</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//调用看下面↓       </span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">主函数调用：</font></strong></p>
<p><strong><font size="3">无参无返回值的匿名函数：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 这样申明匿名函数只是在申明函数而已，还没有调用</span></span><br><span class="line">    Action action1 = <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"无参无返回值的匿名函数"</span>);</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行委托</span></span><br><span class="line">    action1(); <span class="comment">// 无参无返回值的匿名函数</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">有参无返回值的匿名函数：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Action&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; action2 = <span class="built_in">delegate</span> (<span class="built_in">int</span> a, <span class="built_in">string</span> b)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"有参无返回值的匿名函数"</span> + <span class="string">"int:"</span> + a);</span><br><span class="line">        Console.WriteLine(<span class="string">"有参无返回值的匿名函数"</span> + <span class="string">"string:"</span> + b);</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    action2(<span class="number">100</span>, <span class="string">"123"</span>);</span><br><span class="line">    <span class="comment">// 有参无返回值的匿名函数int: 100</span></span><br><span class="line">    <span class="comment">// 有参无返回值的匿名函数string: 123</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">有返回值的匿名函数：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">    Func&lt;<span class="built_in">string</span>&gt; func1 = <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"有返回值的匿名函数"</span>;</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(func1()); <span class="comment">// 有返回值的匿名函数</span></span><br><span class="line"></span><br><span class="line">}    </span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">一般情况下，匿名函数会作为函数参数传递或者作为函数返回值。</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 创建测试类</span></span><br><span class="line">    Test test = <span class="keyword">new</span> Test();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分两步传入匿名函数</span></span><br><span class="line">    Action action3 = <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"随参数传入的匿名函数逻辑"</span>);</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// 把action3作为参数传入测试类中存在委托作为参数的函数中</span></span><br><span class="line">    test.ExistDelegateParam(<span class="number">50</span>, action3);</span><br><span class="line">    <span class="comment">// 50</span></span><br><span class="line">    <span class="comment">// 随参数传入的匿名函数逻辑</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一步到位，直接传入匿名函数</span></span><br><span class="line">    <span class="comment">// 把匿名函数作为参数传入测试类中存在委托作为参数的函数中</span></span><br><span class="line">    test.ExistDelegateParam(<span class="number">100</span>, <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"随参数传入的匿名函数逻辑"</span>);</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分两步调用委托返回值函数</span></span><br><span class="line">    <span class="comment">// 用action4装载委托返回值函数</span></span><br><span class="line">    Action action4 = test.DelegateReturn();</span><br><span class="line">    <span class="comment">// 执行action4</span></span><br><span class="line">    action4(); <span class="comment">// 函数内部返回的一个匿名函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一步到位，直接调用返回的委托返回值函数</span></span><br><span class="line">    test.DelegateReturn()(); <span class="comment">// 函数内部返回的一个匿名函数</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">匿名函数的缺点：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 添加到委托或事件容器中后，不记录，无法单独移除</span></span><br><span class="line"></span><br><span class="line">    Action action5 = <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"匿名函数一"</span>);</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    action5 += <span class="built_in">delegate</span> ()</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"匿名函数二"</span>);</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    action5();</span><br><span class="line">    <span class="comment">// 匿名函数一</span></span><br><span class="line">    <span class="comment">// 匿名函数二</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 因为匿名函数没有名字，所以没有办法指定移除某一个匿名函数</span></span><br><span class="line">    <span class="comment">// 此匿名函数，非彼匿名函数，不能通过看逻辑是否一样就证明是一个</span></span><br><span class="line">    <span class="comment">// action5 -= delegate ()</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">    <span class="comment">//    Console.WriteLine("匿名函数一");</span></span><br><span class="line">    <span class="comment">// };</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不得已的话，只能清空，但是也会把不想删的东西也移除了</span></span><br><span class="line">    action5 = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// action5();//报错，委托为空</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><ul>
<li>匿名函数就是没有名字的函数，固定写法为：</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delegate</span>(参数列表){}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>主要是在委托传递和存储时，为了方便可以直接使用匿名函数。缺点是没有办法指定移除。</li>
</ul>
<h2 id="练习题-11"><a href="#练习题-11" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.写一个函数传入一个整数，返回一个函数（返回的是匿名函数），之后执行这个匿名函数时传入一个整数和之前那个函数传入的数相乘，返回结果</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 写一个函数传入一个整数，返回一个函数（返回的是匿名函数）</span></span><br><span class="line">    <span class="comment">// 之后执行这个匿名函数时 传入一个整数和之前那个函数传入的数相乘</span></span><br><span class="line">    <span class="comment">// 返回结果</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; <span class="title">TestFun</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 因为要返回一个函数 所以可以用匿名函数</span></span><br><span class="line">        <span class="comment">// 因为执行匿名函数时要传入一个整数 所以匿名函数只有一个int类型的参数</span></span><br><span class="line">        <span class="comment">// 因为匿名函数返回传入一个整数和之前那个函数传入的数相乘的值 所以返回值是int</span></span><br><span class="line">        <span class="comment">// 所以可以确定委托的类型是Func&lt;int, int&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 本来这个i 假如在TestFun函数执行完只后就没用了</span></span><br><span class="line">        <span class="comment">// 但是现在i被匿名函数包裹</span></span><br><span class="line">        <span class="comment">// 这种写法会改变 i的生命周期 </span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">delegate</span> (<span class="built_in">int</span> v)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 返回两数相乘</span></span><br><span class="line">            <span class="keyword">return</span> i * v;</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 两步走</span></span><br><span class="line">        <span class="comment">// 先传入参数拿到返回的委托</span></span><br><span class="line">        Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; fun = TestFun(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">// 再传入参数执行返回的委托</span></span><br><span class="line">        Console.WriteLine(fun(<span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 一步到位 直接传入参数拿到返回的委托再传入参数执行</span></span><br><span class="line">        Console.WriteLine(TestFun(<span class="number">2</span>)(<span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h1 id="lambda表达式和闭包"><a href="#lambda表达式和闭包" class="headerlink" title="lambda表达式和闭包"></a>lambda表达式和闭包</h1><p><code>委托和事件-lambda表达式</code></p>
<h2 id="lambda表达式-详解"><a href="#lambda表达式-详解" class="headerlink" title="lambda表达式 详解"></a>lambda表达式 详解</h2><p><strong><font size="4">什么是lambda表达式：</font></strong></p>
<ul>
<li>可以将lambda表达式理解为匿名函数的简写。它除了写法不同外，使用上和匿名函数一模一样，都是和委托或者事件配合使用的。</li>
</ul>
<p><strong><font size="4">lambda表达式语法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lambda表达式</span><br><span class="line">(参数列表) =&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">匿名函数</span><br><span class="line"><span class="built_in">delegate</span> (参数列表)</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">lambda表达式的使用：</font></strong></p>
<p><strong><font size="3">无参无返回值的lambda表达式：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">{</span><br><span class="line">    Action action1 = () =&gt;</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"无参无返回值的lambda表达式"</span>);</span><br><span class="line">    };  </span><br><span class="line">    action1(); <span class="comment">// 无参无返回值的lambda表达式</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">有参无返回值的lambda表达式：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">{</span><br><span class="line">   Action&lt;<span class="built_in">int</span>&gt; action2 = (<span class="built_in">int</span> <span class="keyword">value</span>) =&gt;</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"有参无返回值的lambda表达式 int value:{0}"</span>, <span class="keyword">value</span>);</span><br><span class="line">    };</span><br><span class="line">    action2(<span class="number">100</span>); <span class="comment">// 有参无返回值的lambda表达式 int value:100</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">有参无返回值的lambda表达式省略参数类型的写法：</font></strong></p>
<ul>
<li>参数类型可以省略，参数类型和委托或事件容器一致。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数内</span></span></span><br><span class="line">{</span><br><span class="line">   Action&lt;<span class="built_in">int</span>&gt; action3 = (<span class="keyword">value</span>) =&gt;</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"省略参数类型的写法 value:{0}"</span>, <span class="keyword">value</span>);</span><br><span class="line">    };</span><br><span class="line">    action3(<span class="number">200</span>); <span class="comment">// 省略参数类型的写法 value:200</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">有参有返回值的lambda表达式：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Mian</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    Func&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; action4 = (<span class="keyword">value</span>) =&gt;</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"有参有返回值的lambda表达式 value:{0}"</span>, <span class="keyword">value</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    };</span><br><span class="line">    Console.WriteLine(action4(<span class="string">"123123"</span>));</span><br><span class="line">    <span class="comment">// 有参有返回值的lambda表达式 value:123123</span></span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="comment">// 其它传参使用等和匿名函数一样</span></span><br><span class="line">    <span class="comment">// 缺点也是和匿名函数一样的，添加到委托后没有办法指定移除lambda表达式</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p><strong><font size="4">闭包的基本概念：</font></strong></p>
<p><strong><font size="3">概念：</font></strong></p>
<ul>
<li>闭包是指一个函数（或者委托）以及其相关的引用环境，形成了一个封闭的作用域。闭包能够捕获并维持其所在作用域的状态，即使在该作用域外部调用闭包，它也能够访问和修改这些状态。</li>
</ul>
<p><strong><font size="3">重点：</font></strong></p>
<ul>
<li>内层的函数可以引用包含在它外层的函数的变量，即使外层函数的执行已经终止。</li>
</ul>
<p><strong><font size="3">注意：</font></strong></p>
<ul>
<li>该变量提供的值并非变量创建时的值，而是在父函数范围内的最终值。</li>
</ul>
<blockquote>
<p>在 C# 中定义一个函数，而在这个函数内部又使用了外部的变量时，这个函数就可以形成一个闭包。闭包简单来说就是一个函数连同它用到的外部变量一起打包了起来。</p>
</blockquote>
<p><strong><font size="4">让我们通过一个通俗易懂的例子来说明闭包：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; <span class="title">Counter</span>(<span class="params"><span class="built_in">int</span> increment</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">int</span> count = <span class="number">0</span>; <span class="comment">// 外部变量</span></span><br><span class="line">        Func&lt;<span class="built_in">int</span>, <span class="built_in">int</span>&gt; incrementCounter = (number) =&gt;</span><br><span class="line">        {</span><br><span class="line">            count += increment; <span class="comment">// 在函数内部使用了外部变量</span></span><br><span class="line">            <span class="keyword">return</span> number + count;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">return</span> incrementCounter;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建一个计数器，增量为 5</span></span><br><span class="line">        <span class="keyword">var</span> counter = Counter(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用计数器，初始数字为 10</span></span><br><span class="line">        Console.WriteLine(counter(<span class="number">10</span>)); <span class="comment">// 输出 15</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 再次使用计数器，初始数字为 20</span></span><br><span class="line">        Console.WriteLine(counter(<span class="number">20</span>)); <span class="comment">// 输出 25</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>在这个例子中，Counter 函数返回了一个委托（incrementCounter），这个委托内部引用了外部的变量 count。虽然 Counter 函数已经执行完毕，但是 incrementCounter 依然可以访问并修改 Counter 函数中的 count 变量。这就是闭包的作用，它保留了函数定义时的环境，使得函数在之后的执行中能够访问和修改它所引用的外部变量。</p>
</li>
<li><p>在这个例子中，闭包是在 Counter 函数内部定义的匿名方法，即 incrementCounter。这个匿名方法捕获了 Counter 函数中的局部变量 count，并形成了闭包。因此，无论 Counter 函数执行完毕后，返回的委托 incrementCounter 仍然可以访问和修改 count 变量，这就是闭包的特性。</p>
</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 测试类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 事件</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action myEvent;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 构造函数的临时变量 正常来说构造函数结束他就会被释放</span></span><br><span class="line">        <span class="built_in">int</span> <span class="keyword">value</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这里就形成了闭包</span></span><br><span class="line">        <span class="comment">// 因为当构造函数执行完毕时，其中申明的临时变量value的声明周期被改变了</span></span><br><span class="line">        <span class="comment">// value还有作用不会被释放，一直会存到action里面，除非手动把action置空</span></span><br><span class="line">        myEvent = () =&gt;</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="keyword">value</span>);</span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 注意：该变量提供的值并非变量创建时的值，而是在父函数范围内的最终值。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 此index 非彼index 每次for循环的index都是新的临时变量</span></span><br><span class="line">            <span class="built_in">int</span> index = i;</span><br><span class="line"></span><br><span class="line">            myEvent += () =&gt;</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(<span class="string">"i:"</span> + i);</span><br><span class="line">                <span class="comment">// 这里的会一直会输出 i:10</span></span><br><span class="line">                <span class="comment">// 本质上传的是i变量，这个i变量在事件没有执行时一直没用到，一直存在事件容器里</span></span><br><span class="line">                <span class="comment">// 但他真正用的时候，这个i的最终值已经是10了，所以只会输出 i:10</span></span><br><span class="line">                <span class="comment">// i在父函数范围内（Test这个函数的语句块）的最终值是10</span></span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">"index:"</span> + index);</span><br><span class="line">                <span class="comment">// 这里会逐个输出index:0-9</span></span><br><span class="line">                <span class="comment">// 因为每次for循环的index都是新的临时变量，所以一共会有10个index临时变量</span></span><br><span class="line">                <span class="comment">// 所以保存的index都不同</span></span><br><span class="line">                <span class="comment">// index在父函数范围内（每一次for循环的语句块）的最终值就是int index = i时的赋值</span></span><br><span class="line">            };</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行事件</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoEvent</span>()</span></span><br><span class="line">    {</span><br><span class="line">        myEvent();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="4">思路解析：</font></strong><br><strong><font size="3">i 的值为 10:</font></strong></p>
<ul>
<li>i 是 for 循环中的变量，在每次循环迭代时都会被更新。但是在匿名方法中，i 是通过闭包捕获的，它捕获的是变量 i 的引用，而不是值的拷贝。</li>
<li>当 myEvent 被调用时，所有被捕获的 i 都指向同一个内存位置，它们都引用了最后一次迭代的值，也就是 10。</li>
<li>因此，每次调用 myEvent 时，打印的 i 的值都是 10。</li>
</ul>
<p><strong><font size="3">index 的值为每次迭代的值:</font></strong></p>
<ul>
<li>在每次循环迭代时，会为 index 创建一个新的局部变量，并在匿名方法中捕获了该变量的值。</li>
<li>每个匿名方法捕获的 index 都是不同的变量实例，它们具有不同的内存位置和值。</li>
<li>因此，每次调用 myEvent 时，打印的 index 的值会是对应迭代时的值，即 0 到 9。</li>
</ul>
<p><strong><font size="4">主函数内：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 调用构造函数，临时变量value的生命周期被改变了</span></span><br><span class="line">    Test test = <span class="keyword">new</span> Test(); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">    test.DoEvent();</span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 0</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 1</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 2</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 3</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 4</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 5</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 6</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 7</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 8</span></span><br><span class="line">    <span class="comment">// i: 10</span></span><br><span class="line">    <span class="comment">// index: 9</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>匿名函数的特殊写法就是lambda表达式。</p>
</li>
<li><p>固定写法是：</p>
</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(参数列表)=&gt;{}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>参数列表可以直接省略参数类型。</li>
<li>主要在委托传递和存储时，为了方便可以直接使用匿名函数或者lambda表达式。</li>
<li>缺点是无法指定移除。</li>
</ul>
<h2 id="练习题-12"><a href="#练习题-12" class="headerlink" title="练习题"></a>练习题</h2><details>
  <summary>查看答案</summary>

<p><strong><font size="4">1.有一个函数，会返回一个委托函数，这个委托函数中只有一句打印代码，之后执行返回的委托函数时，可以打印出1~10</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 要用到闭包的知识</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lambda表达式</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Action <span class="title">GetFun</span>()</span></span><br><span class="line">{</span><br><span class="line">    Action action = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">int</span> index = i;</span><br><span class="line">        action += () =&gt;</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(index);</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> action;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匿名函数</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Action <span class="title">GetFun2</span>()</span></span><br><span class="line">{</span><br><span class="line">    Action action = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">int</span> index = i;</span><br><span class="line">        action += <span class="built_in">delegate</span> ()</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(index);</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> action;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用别的函数包裹起来</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Action <span class="title">GetFun3</span>()</span></span><br><span class="line">{</span><br><span class="line">    Action action = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">int</span> index = i;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// action += Show;</span></span><br><span class="line">        <span class="comment">// 报错 首先action是无参无返回值 Show方法有参无返回值 不匹配</span></span><br><span class="line">        <span class="comment">// 其次 计算action能够匹配Show 也无法传入参数 因为只是传函数名</span></span><br><span class="line"></span><br><span class="line">        action += () =&gt;</span><br><span class="line">        {</span><br><span class="line">            Show(index);</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> action;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印函数</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">{</span><br><span class="line">    Console.WriteLine(i);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//主函数内</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    GetFun()();</span><br><span class="line">    GetFun2()();</span><br><span class="line">    GetFun3()();</span><br><span class="line">    <span class="comment">// 都能正常打印出1~10</span></span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="comment">// 2</span></span><br><span class="line">    <span class="comment">// 3</span></span><br><span class="line">    <span class="comment">// 4</span></span><br><span class="line">    <span class="comment">// 5</span></span><br><span class="line">    <span class="comment">// 6</span></span><br><span class="line">    <span class="comment">// 7</span></span><br><span class="line">    <span class="comment">// 8</span></span><br><span class="line">    <span class="comment">// 9</span></span><br><span class="line">    <span class="comment">// 10</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<hr>
<h1 id="List-排序"><a href="#List-排序" class="headerlink" title="List 排序"></a><em><strong><font color="#BA55D3">List</font></strong></em> 排序</h1><p><strong><font size="4"> <em><strong><font color="#BA55D3">List</font></strong></em> 自带排序方法：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//主函数内</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建一个整型列表，随便加点元素</span></span><br><span class="line">        List&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">        list.Add(<span class="number">3</span>);</span><br><span class="line">        list.Add(<span class="number">2</span>);</span><br><span class="line">        list.Add(<span class="number">6</span>);</span><br><span class="line">        list.Add(<span class="number">1</span>);</span><br><span class="line">        list.Add(<span class="number">4</span>);</span><br><span class="line">        list.Add(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出查看</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(list[i]);</span><br><span class="line">            <span class="comment">// 3</span></span><br><span class="line">            <span class="comment">// 2</span></span><br><span class="line">            <span class="comment">// 6</span></span><br><span class="line">            <span class="comment">// 1</span></span><br><span class="line">            <span class="comment">// 4</span></span><br><span class="line">            <span class="comment">// 5</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// list提供了排序方法Sort</span></span><br><span class="line">        list.Sort(); <span class="comment">// 默认是升序排序</span></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****list.Sort排序后*****"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(list[i]);</span><br><span class="line">            <span class="comment">// 1</span></span><br><span class="line">            <span class="comment">// 2</span></span><br><span class="line">            <span class="comment">// 3</span></span><br><span class="line">            <span class="comment">// 4</span></span><br><span class="line">            <span class="comment">// 5</span></span><br><span class="line">            <span class="comment">// 6</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><fonr size="4">自定义类的排序：</fonr></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 物品类</span></span><br><span class="line"><span class="comment">// 想要调用排序方法正常排序，要让Item继承了IComparable或IComparable&lt;Item&gt;接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Item</span> : <span class="title">IComparable</span>&lt;<span class="title">Item</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 物品价钱</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> money;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数初始化传入物品价钱</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Item</span>(<span class="params"><span class="built_in">int</span> money</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// IComparable&lt;&gt;接口要实现的方法，自己定义比较规则</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">CompareTo</span>(<span class="params">Item other</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 返回值的含义：</span></span><br><span class="line">        <span class="comment">// 小于0：放在传入对象的前面</span></span><br><span class="line">        <span class="comment">// 等于0: 保持当前的位置不变</span></span><br><span class="line">        <span class="comment">// 大于0：放在传入对象的后面</span></span><br><span class="line">        <span class="comment">// 自己定义比较规则是比较不同item的价钱</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.money &gt; other.money)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">主函数调用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建一个物品列表，随便加几个元素</span></span><br><span class="line">        List&lt;Item&gt; itemList = <span class="keyword">new</span> List&lt;Item&gt;();</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">45</span>));</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">10</span>));</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">99</span>));</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">24</span>));</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">100</span>));</span><br><span class="line">        itemList.Add(<span class="keyword">new</span> Item(<span class="number">12</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 想要调用排序方法正常排序，要让Item继承了IComparable或IComparable&lt;Item&gt;接口</span></span><br><span class="line">        itemList.Sort();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****itemList.Sort排序后*****"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; itemList.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(itemList[i].money);</span><br><span class="line">            <span class="comment">// 100</span></span><br><span class="line">            <span class="comment">// 99</span></span><br><span class="line">            <span class="comment">// 45</span></span><br><span class="line">            <span class="comment">// 24</span></span><br><span class="line">            <span class="comment">// 12</span></span><br><span class="line">            <span class="comment">// 10</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">通过委托函数进行排序：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 商店物品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">ShopItem</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 物品id</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 商店物品类构造函数，初始化id</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ShopItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">主函数调用：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 自己写一个函数传到Sort方法里，返回值和参数保持对应格式即可</span></span><br><span class="line">    <span class="comment">// 排序商店物品方法</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="built_in">int</span> <span class="title">SortShopItem</span>(<span class="params">ShopItem a, ShopItem b</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 传入的两个对象为列表中的两个对象</span></span><br><span class="line">        <span class="comment">// 进行两两的比较，用左边的和右边的条件比较</span></span><br><span class="line">        <span class="comment">// 返回值规则和之前一样：0做标准，负数在左（前），正数在右（后）</span></span><br><span class="line">        <span class="keyword">if</span> (a.id &gt; b.id)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建一个商店物品列表，随便加几个元素</span></span><br><span class="line">        List&lt;ShopItem&gt; shopItemList = <span class="keyword">new</span> List&lt;ShopItem&gt;();</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">2</span>));</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">1</span>));</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">4</span>));</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">3</span>));</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">6</span>));</span><br><span class="line">        shopItemList.Add(<span class="keyword">new</span> ShopItem(<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort方法里其实有重载的，其中有一个重载是传委托进去的</span></span><br><span class="line">        <span class="comment">// 所以可以自己写一个函数或者委托传到Sort方法里，返回值和参数保持对应格式即可</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 传入自己写的排序商店物品方法</span></span><br><span class="line">        shopItemList.Sort(SortShopItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 传入匿名函数</span></span><br><span class="line">        shopItemList.Sort(<span class="built_in">delegate</span> (ShopItem a, ShopItem b)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (a.id &gt; b.id)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 传入lambda表达式</span></span><br><span class="line">        <span class="comment">// 可以省略参数类型，因为传入的委托是泛型，是当前列表中的元素类型ShopItem</span></span><br><span class="line">        <span class="comment">// 配合三目运算符完美呈现</span></span><br><span class="line">        shopItemList.Sort((a, b) =&gt; { <span class="keyword">return</span> a.id &gt; b.id ? <span class="number">1</span> : <span class="number">-1</span>; });</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****shopItemList.Sort排序后*****"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i= <span class="number">0</span>; i &lt; shopItemList.Count; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(shopItemList[i].id);</span><br><span class="line">            <span class="comment">// 1</span></span><br><span class="line">            <span class="comment">// 2</span></span><br><span class="line">            <span class="comment">// 3</span></span><br><span class="line">            <span class="comment">// 4</span></span><br><span class="line">            <span class="comment">// 5</span></span><br><span class="line">            <span class="comment">// 6</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="3">系统自带的变量（int, float, double等）：</font></strong></p>
<ul>
<li>一般都可以直接使用Sort方法进行排序。</li>
</ul>
<p><strong><font size="3">自定义类排序有两种方式：</font></strong></p>
<ul>
<li>继承接口IComparable。</li>
<li>在Sort方法中传入委托函数。</li>
</ul>
<h2 id="练习题-13"><a href="#练习题-13" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.写一个怪物类，创建10个怪物将其添加到List中，对List列表进行排序，根据用户输入数字进行排序：1攻击排序2防御排序3血量排序4反转</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 怪物类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Monster</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 静态变量 排序类型</span></span><br><span class="line">    <span class="comment">// 1、攻击排序</span></span><br><span class="line">    <span class="comment">// 2、防御排序</span></span><br><span class="line">    <span class="comment">// 3、血量排序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> SortType = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 攻击</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line">    <span class="comment">// 防御</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> def;</span><br><span class="line">    <span class="comment">// 血量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> hp;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物构造函数初始化攻击防御血量</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Monster</span>(<span class="params"><span class="built_in">int</span> hp, <span class="built_in">int</span> atk, <span class="built_in">int</span> def</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.hp = hp;</span><br><span class="line">        <span class="keyword">this</span>.atk = atk;</span><br><span class="line">        <span class="keyword">this</span>.def = def;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写怪物的ToString方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"怪物信息-血量{0} 攻击力{1} 防御力{2}"</span>, <span class="keyword">this</span>.hp, <span class="keyword">this</span>.atk, <span class="keyword">this</span>.def);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 怪物排序函数</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="built_in">int</span> <span class="title">SortMonsterFun</span>(<span class="params">Monster m1, Monster m2</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">switch</span> (Monster.SortType)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> m1.atk &gt; m2.atk ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> m1.def &gt; m2.def ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">return</span> m1.hp &gt; m2.hp ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//主函数调用</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建怪物列表 随机丢10个怪物进去</span></span><br><span class="line">        List&lt;Monster&gt; monsters = <span class="keyword">new</span> List&lt;Monster&gt;();</span><br><span class="line">        Random r1 = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****怪物排序前*****"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        {</span><br><span class="line">            monsters.Add(<span class="keyword">new</span> Monster(r1.Next(<span class="number">100</span>, <span class="number">201</span>), r1.Next(<span class="number">5</span>, <span class="number">21</span>), r1.Next(<span class="number">2</span>, <span class="number">10</span>)));</span><br><span class="line">            Console.WriteLine(monsters[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"请输入1~4的数字进行排序"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"1:按攻击力升序排列"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"2:按防御力升序排列"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"3:按血量序排列"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"4:翻转"</span>);</span><br><span class="line"></span><br><span class="line">            Monster.SortType = <span class="built_in">int</span>.Parse(Console.ReadLine());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Monster.SortType == <span class="number">4</span>)</span><br><span class="line">            {</span><br><span class="line">                monsters.Reverse();</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {   </span><br><span class="line">                monsters.Sort(SortMonsterFun);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"*****怪物排序后*****"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">            {</span><br><span class="line">                Console.WriteLine(monsters[i]);</span><br><span class="line">            }               </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">catch</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"请输入数字"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<p><strong><font size="4">2.写一个物品类，创建10个物品，添加到List中，同时使用类型、品质、名字长度进行比较，排序的权重是：类型&gt;品质&gt;名字长度</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 物品类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Item</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 类型</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> type;</span><br><span class="line">    <span class="comment">// 名字长度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="comment">// 品质</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> quality;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Item</span>(<span class="params"><span class="built_in">int</span> type, <span class="built_in">string</span> name, <span class="built_in">int</span> quality</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.type = type;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.quality = quality;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">"道具信息-类型{0} 名字{1} 品质{2}"</span>, type, name, quality);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 创建物品列表 随机丢10个物品进去</span></span><br><span class="line">        List&lt;Item&gt; itemList = <span class="keyword">new</span> List&lt;Item&gt;();</span><br><span class="line">        Random r2 = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****Item排序前*****"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        {</span><br><span class="line">            itemList.Add(<span class="keyword">new</span> Item(r2.Next(<span class="number">1</span>, <span class="number">6</span>), <span class="string">"Item"</span> + r2.Next(<span class="number">1</span>, <span class="number">200</span>), r2.Next(<span class="number">1</span>, <span class="number">6</span>)));</span><br><span class="line">            Console.WriteLine(itemList[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        itemList.Sort((a, b) =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// 类型不同 按类型比</span></span><br><span class="line">            <span class="keyword">if</span> (a.type != b.type)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> a.type &gt; b.type ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 否则按品质比</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a.quality != b.quality)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> a.quality &gt; b.quality ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 否则就直接按名字长度比</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">return</span> a.name.Length &gt; b.name.Length ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"*****Item排序后*****"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(itemList[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<p><strong><font size="4">3.请尝试利用List排序方式对Dictionary中的内容排序</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// 创建字典 丢10个元素进去</span></span><br><span class="line">    Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line">    dic.Add(<span class="number">2</span>, <span class="string">"123123"</span>);</span><br><span class="line">    dic.Add(<span class="number">6</span>, <span class="string">"123123"</span>);</span><br><span class="line">    dic.Add(<span class="number">1</span>, <span class="string">"123123"</span>);</span><br><span class="line">    dic.Add(<span class="number">4</span>, <span class="string">"123123"</span>);</span><br><span class="line">    dic.Add(<span class="number">3</span>, <span class="string">"123123"</span>);</span><br><span class="line">    dic.Add(<span class="number">5</span>, <span class="string">"123123"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建KeyValuePair&lt;int, string&gt;这个结构体类型的list 方便遍历字典时加入到list中</span></span><br><span class="line">    List&lt;KeyValuePair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;&gt; list = <span class="keyword">new</span> List&lt;KeyValuePair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历字典的时候 逐个添加到list中</span></span><br><span class="line">    <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; item <span class="keyword">in</span> dic)</span><br><span class="line">    {</span><br><span class="line">        list.Add(item);</span><br><span class="line">        Console.WriteLine(item.Key + <span class="string">"_"</span> + item.Value);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对键进行排序</span></span><br><span class="line">    list.Sort((a, b) =&gt;</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> a.Key &gt; b.Key ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(<span class="string">"*****List&lt;KeyValuePair&lt;int, string&gt;&gt; list排序后*****"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Count; i++)</span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(list[i].Key + <span class="string">"_"</span> + list[i].Value);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>


<h1 id="协变逆变"><a href="#协变逆变" class="headerlink" title="协变逆变"></a>协变逆变</h1><p><strong><font size="4">协变逆变：</font></strong></p>
<p><strong><font size="3">协变：</font></strong></p>
<ul>
<li>和谐的变化，自然的变化。因为里氏替换原则，父类可以装子类，所以子类变父类。比如 string 变成 object，感受是和谐的。</li>
</ul>
<p><strong><font size="3">逆变：</font></strong></p>
<ul>
<li>逆常规的变化，不正常的变化。因为里氏替换原则，父类可以装子类，但是子类不能装父类，所以父类变子类。比如 object 变成 string，感受是不和谐的。</li>
</ul>
<p><strong><font size="4">协变和逆变是用来修饰泛型的：</font></strong></p>
<ul>
<li>协变：out</li>
<li>逆变：in</li>
<li>用于在泛型中修饰泛型字母，只有泛型接口和泛型委托能使用。</li>
</ul>
<p><strong><font size="4">协变逆变的作用：</font></strong></p>
<p><strong><font size="3">返回值和参数</font></strong></p>
<p><strong><font size="3">用out修饰的泛型委托 只能作为返回值 不能作为参数</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> T <span class="title">TestOut1</span>&lt;<span class="keyword">out</span> <span class="title">T</span>&gt;()</span>;<span class="comment">//out修饰了T T只能作为返回值</span></span><br><span class="line"><span class="comment">//delegate T TestOut2&lt;out T&gt;(T t);//报错 out修饰了T T不能作为参数</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">用in修饰的泛型委托 只能作为参数 不能作为返回值</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">TestIn1</span>&lt;<span class="keyword">in</span> <span class="title">T</span>&gt;(<span class="params">T t</span>)</span>;<span class="comment">//in修饰了T T只能作为参数</span></span><br><span class="line"><span class="comment">//delegate T TestIn2&lt;in T&gt;(T t);//报错 in修饰了T T不能作为返回值</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">用out修饰的泛型接口</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title">ITestOut</span>&lt;<span class="keyword">out</span> <span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="function">T <span class="title">TestFun1</span>()</span>;<span class="comment">//out修饰了T T只能作为返回值</span></span><br><span class="line">    <span class="comment">//void TestFun2(T t);//报错 out修饰了T T不能作为参数</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">用in修饰的泛型接口</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title">ITestIn</span>&lt;<span class="keyword">in</span> <span class="title">T</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//T TestFun1();//报错 in修饰了T T不能作为返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TestFun2</span>(<span class="params">T t</span>)</span>;<span class="comment">//in修饰了T T只能作为参数</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong><font size="3">只有泛型接口和泛型委托能使用 泛型类 结构体等 会报错</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class Test&lt;in T&gt;//报错</span></span><br><span class="line"><span class="comment">//{</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//}</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">结合里氏替换原则理解：</font></strong></p>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义父子类例子</span></span><br><span class="line"><span class="comment">// 父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">// 子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="4">主函数内：</font></strong></p>
<p><strong><font size="3">协变：</font></strong></p>
<ul>
<li>父类总是能被子类替换。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 声明一个out修饰的泛型Son委托变量，装载一个返回Son的匿名函数</span></span><br><span class="line">        TestOut1&lt;Son&gt; outSon = () =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Son();</span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 再声明一个out修饰的泛型Father委托变量</span></span><br><span class="line">        <span class="comment">// outFather委托变量可以装载outSon委托变量</span></span><br><span class="line">        TestOut1&lt;Father&gt; outFather = outSon;</span><br><span class="line">        Father father = outFather();</span><br><span class="line">        <span class="comment">// 实际上，执行outFather 返回的是 outSon里面装的函数 返回的是Son</span></span><br><span class="line">        <span class="comment">// Father类型的变量father 是用 父类Father 装 子类Son</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong><font size="3">逆变：</font></strong></p>
<ul>
<li>父类总是能被子类替换。</li>
</ul>
<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">    {</span><br><span class="line">       <span class="comment">// 声明一个in修饰的泛型Father委托变量，装载一个参数是Father的匿名函数</span></span><br><span class="line">        TestIn1&lt;Father&gt; inFather = (<span class="keyword">value</span>) =&gt;</span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 再声明一个in修饰的泛型Son委托变量</span></span><br><span class="line">        <span class="comment">// inSon委托变量可以装载inFather委托变量</span></span><br><span class="line">        TestIn1&lt;Son&gt; inSon = inFather;</span><br><span class="line">        inSon(<span class="keyword">new</span> Son());</span><br><span class="line">        <span class="comment">// 实际上，执行inSon时，实际执行的是inFather</span></span><br><span class="line">        <span class="comment">// 执行inSon时，传入Son类型的参数</span></span><br><span class="line">        <span class="comment">// 因为实际执行的是inFather</span></span><br><span class="line">        <span class="comment">// 正常来说执行inFather时，要传入的是Father类型的参数</span></span><br><span class="line">        <span class="comment">// 但是现在传入的是Son类型的参数</span></span><br><span class="line">        <span class="comment">// 其实还是 参数类型Father 装 参数类型Son，父类装子类</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h2><p><strong><font size="4">协变：</font></strong></p>
<ul>
<li>关键字：out</li>
<li>父类泛型委托装子类泛型委托</li>
</ul>
<p><strong><font size="4">逆变：</font></strong></p>
<ul>
<li>关键字：in</li>
<li>子类泛型委托装父类泛型委托</li>
</ul>
<p><strong><font size="4">注意：</font></strong></p>
<ul>
<li>用来修饰泛型替代符，只能修饰接口和委托中的泛型。</li>
</ul>
<p><strong><font size="4">作用：</font></strong></p>
<ul>
<li>out修饰的泛型类型只能作为返回值类型，in修饰的泛型类型只能作为参数类型。</li>
<li>遵循里氏替换原则的，用out和in修饰的泛型委托可以相互装载（有父子关系的泛型）。</li>
</ul>
<h2 id="练习题-14"><a href="#练习题-14" class="headerlink" title="练习题"></a>练习题</h2><p><strong><font size="4">1.请描述协变逆变有什么作用</font></strong></p>
<details>
  <summary>查看答案</summary>

<ul>
<li>协变和逆变是用来修饰泛型替代符的，在泛型委托和泛型接口中起作用。</li>
<li>使用 out 修饰的泛型类型只能作为返回值类型，称为协变；而使用 in 修饰的泛型类型只能作为参数类型，称为逆变。</li>
<li>遵循里氏替换原则，使用 out 和 in 修饰的泛型委托如果类型是父子关系，则可以相互装载：</li>
<li>协变：父类泛型委托容器可以装载子类泛型委托容器。</li>
<li>逆变：子类泛型委托容器可以装载父类泛型委托容器。</li>
</ul>
</details>

<p><strong><font size="4">2.通过代码说明协变和逆变的作用</font></strong></p>
<details>
  <summary>查看答案</summary>

<figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 协变</span></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> T <span class="title">TestOut</span>&lt;<span class="keyword">out</span> <span class="title">T</span>&gt;()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 逆变</span></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">TestIn</span>&lt;<span class="keyword">in</span> <span class="title">T</span>&gt;(<span class="params">T v</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Son</span> : <span class="title">Father</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)<span class="comment">//主函数里</span></span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// 协变 代码</span></span><br><span class="line">        TestOut&lt;Son&gt; testOutSon = () =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Son();</span><br><span class="line">        };</span><br><span class="line">        TestOut&lt;Father&gt; testOutFather = testOutSon;</span><br><span class="line">        Father father = testOutFather();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 逆变 代码</span></span><br><span class="line">        TestIn&lt;Father&gt; testInFather = (<span class="keyword">value</span>) =&gt;</span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">        };</span><br><span class="line">        TestIn&lt;Son&gt; testInSon = testInFather;</span><br><span class="line">        testInSon(<span class="keyword">new</span> Son());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

</details>

<h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote class="pullquote mindmap mindmap-md"><ul>
<li>C#进阶<ul>
<li>任何方向<ul>
<li>编程语言<ul>
<li>Java</li>
</ul>
</li>
<li>SQL</li>
<li>Linux</li>
<li>Git</li>
</ul>
</li>
<li>技术<ul>
<li>Java Web</li>
<li>数据库</li>
<li>Docker</li>
<li>svn</li>
<li>消息队列(MQ)</li>
<li>mycat</li>
<li>大数据<ul>
<li>Hadoop</li>
<li>HBase</li>
</ul>
</li>
</ul>
</li>
<li>内功<ul>
<li>计算机基础<ul>
<li>计算机网络</li>
<li>计算机操作系统</li>
<li>编译原理</li>
<li>计算机组成原理</li>
</ul>
</li>
<li>数据结构与算法</li>
<li>设计模式</li>
<li>性能优化</li>
<li>架构设计</li>
<li>软件工程</li>
</ul>
</li>
<li>其他<ul>
<li>英语</li>
<li>博客</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>


































<hr>
<details>
  <summary>查看答案</summary>



<p>// 折叠代码</p>
<div class="fold collapsed">
    <div class="fold-title">
        折叠
    </div>
    <div class="fold-content">
        <p>需要折叠的一段内容，支持 markdown</p>

    </div>
</div>



<div class="spoiler collapsed">
    <div class="spoiler-title">
        隐藏内容的标题
    </div>
    <div class="spoiler-content">
        <hr>
<p>C#关键字样式高亮统一：<br>ref：<em><strong><font color="Purple">ref</font></strong></em><br>out：<em><strong><font color="Purple">out</font></strong></em><br>class：<em><strong><font color="#00BFFF">class</font></strong></em><br>operator：<em><strong><font color="orange">operator</font></strong></em><br>namespace：<em><strong><font color="#9400D3">namespace</font></strong></em><br>const：<em><strong><font color="orange">const</font></strong></em><br>static：<em><strong><font color="#4F94CD">static</font></strong></em><br>void：<em><strong><font color="Purple">void</font></strong></em><br>运算符：<font color="#9400D3">+</font><br>is：<em><strong><font color="#B22222">is</font></strong></em><br>as：<em><strong><font color="#B22222">as</font></strong></em><br>null：<em><strong><font color="#CD0000">null</font></strong></em><br>bool：<em><strong><font color="#BA55D3">bool</font></strong></em><br>base：<em><strong><font color="#4169E1">base</font></strong></em><br>this：<em><strong><font color="#4169E1">this</font></strong></em><br>object：<em><strong><font color="#9400D3">object</font></strong></em><br>sealed：<em><strong><font color="#4F94CD">sealed</font></strong></em><br>virtual：<em><strong><font color="#4F94CD">virtual</font></strong></em><br>override：<em><strong><font color="#4F94CD">override</font></strong></em><br>abstract：<em><strong><font color="#4F94CD">abstract</font></strong></em><br>interface：<em><strong><font color="#00BFFF">interface</font></strong></em><br>partial：<em><strong><font color="#4F94CD">partial</font></strong></em><br>public：<em><strong><font color="#9400D3">public</font></strong></em><br>protected：<em><strong><font color="#9400D3">protected</font></strong></em><br>internal：<em><strong><font color="#9400D3">internal</font></strong></em><br>using：<em><strong><font color="#9400D3">using</font></strong></em><br>string：<em><strong><font color="#BA55D3">string</font></strong></em><br>String：<em><strong><font color="#BA55D3">String</font></strong></em><br>char：<em><strong><font color="#BA55D3">char</font></strong></em><br>StringBuilder：<em><strong><font color="#BA55D3">StringBuilder</font></strong></em><br>ArrayList：<em><strong><font color="#BA55D3">ArrayList</font></strong></em><br>Stack：<em><strong><font color="#BA55D3">Stack</font></strong></em><br>Queue：<em><strong><font color="#BA55D3">Queue</font></strong></em><br>Hashtable：<em><strong><font color="#BA55D3">Hashtable</font></strong></em><br>where：<em><strong><font color="#4169E1">where</font></strong></em><br>List：<em><strong><font color="#BA55D3">List</font></strong></em><br>Dictionary：<em><strong><font color="#BA55D3">Dictionary</font></strong></em><br>LinkedList：<em><strong><font color="#BA55D3">LinkedList</font></strong></em></p>
<p>C#文字样式统一：<br><strong><font color="#EECBAD">颜色</font></strong><br><em><strong><font color="#6B8E23">颜色</font></strong></em><br><em><strong><font color="#F4A460">颜色</font></strong></em></p>
<hr>
<p> <em>你阿里</em>//斜体<br> <strong>你阿里</strong>//粗体<br> <em><strong>你阿里</strong></em>//斜体加粗体<br>//灰色背景显示<br><code>C#基础的知识</code></p>
<p>//字体大小<br><font size="4"><br>222<br></font><br>//表格</p>
<table>
<thead>
<tr>
<th>列1</th>
<th>列2</th>
<th>列3</th>
</tr>
</thead>
<tbody><tr>
<td>第1行</td>
<td>12</td>
<td>13</td>
</tr>
<tr>
<td>第2行</td>
<td>22</td>
<td>23</td>
</tr>
<tr>
<td>第3行</td>
<td>32</td>
<td>33</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>列1</th>
</tr>
</thead>
<tbody><tr>
<td>第1行1111111111</td>
</tr>
<tr>
<td>第2行 111111111111111</td>
</tr>
<tr>
<td>第3行111111111111111111111111</td>
</tr>
</tbody></table>
<p>//文字颜色<br><font color="red"> 55555</font><br>//删除线<br><del>ch111111</del></p>
<blockquote>
<p>11111111111111111111111</p>
<blockquote>
<p>22222222222222222222222222</p>
</blockquote>
</blockquote>
<p>//文字背景颜色</p>
<table><tbody><tr><td bgcolor="#DCDCDC">背景色的设置是按照十六进制颜色值：#FFFF00</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#D1EEEE">背景色的设置是按照十六进制颜色值：#D1EEEE</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#C0FF3E">背景色的设置是按照十六进制颜色值：#C0FF3E</td></tr></tbody></table>
<table><tbody><tr><td bgcolor="#54FF9F">背景色的设置是按照十六进制颜色值：#54FF9F</td></tr></tbody></table>














<blockquote>
<p>区块引用<br>菜鸟教程<br>学的不仅是技术更是梦想</p>
</blockquote>
<blockquote>
<p>最外层</p>
<blockquote>
<p>第一层嵌套</p>
<blockquote>
<p>第二层嵌套</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>区块中使用列表</p>
<ol>
<li>第一项</li>
<li>第二项</li>
</ol>
<ul>
<li>第一项</li>
<li>第二项</li>
<li>第三项</li>
</ul>
</blockquote>
<p>列表中使用区块<br>如果要在列表项目内放进区块，那么就需要在 &gt; 前添加四个空格的缩进。</p>
<p>列表中使用区块实例如下：</p>
<ul>
<li>第一项<blockquote>
<p>菜鸟教程<br>学的不仅是技术更是梦想</p>
</blockquote>
</li>
<li>第二项</li>
</ul>
<p><code>printf()</code> 函数</p>
<ul>
<li>使用 <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> 重启电脑</li>
</ul>
<table>
    <tbody><tr>
        <td colspan="2" style="text-align: center;vertical-align:middle;">数据类型</td>
        <td>长度(位)</td>
    </tr>
    <tr>
        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型</td>
        <td>byte</td>
        <td>8</td>
    </tr>
    <tr>
        <td>short</td>
        <td>16</td>
    </tr>
    <tr>
        <td>int</td>
        <td>32</td>
    </tr>
    <tr>
        <td>long</td>
        <td>64</td>
    </tr>
    <tr>
        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型</td>
        <td>float</td>
        <td>32</td>
    </tr>
    <tr>
        <td>double</td>
        <td>64</td>
    </tr>
    <tr>
        <td style="text-align: center;vertical-align:middle;">字符型</td>
        <td>char</td>
        <td>16</td>
    </tr>
    <tr>
        <td style="text-align: center;vertical-align:middle;">布尔型</td>
        <td>boolean</td>
        <td>~</td>
    </tr>
</tbody></table>


    </div>
</div>


<datails>
    <summary> 显示的标题 </summary>
    <p>
        ------------------ 测试折叠 ---------------------
    </p>
    <pre><code>title,value,callBack 可以缺省 </code></pre>
</datails>







</details>

</body></html><link rel="stylesheet" href="/Test.github.io/css/folder.css" type="text/css"><script src="/Test.github.io/js/folder.js" type="text/javascript" async></script><link rel="stylesheet" href="/Test.github.io/css/spoiler.css" type="text/css"><script src="/Test.github.io/js/spoiler.js" type="text/javascript" async></script><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
</article>
    
    

</div>
<div id="post-next-prev" class="row">
    <div class="col-lg-12">
        <!-- title -->
        <h5 class="trm-title-with-divider">
            其他文章
            <span data-number="02"></span>
        </h5>
    </div>
    
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/Test.github.io/2025/01/07/C/" class="trm-cover-frame trm-anima-link">
            
            
                <img alt="cover" class="no-fancybox" src="/Test.github.io/img/block.jpg">
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /Test.github.io/categories/Unity/">
                    Unity
                </a>
            </div>
            <h5>
                <a href="/Test.github.io/2025/01/07/C/" class="trm-anima-link">
                    C#入门
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>25/01/07</li>
                <li>14:24</li>
                
                
            </ul>
        </div>
    </div>
</div>
    
</div>

    



                    <div class="trm-divider footer-divider"></div>

                    <!-- footer -->
                    <footer class="trm-scroll-animation">

    

    

    
        <div class="trm-footer-item">
            <span>
                由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v7.3.0
            </span>
            <span class="footer-separator" data-separator=" | "></span>
            <span> 
                主题 - 
                <a rel="noopener" href='https://github.com/MaLuns/hexo-theme-async' target='_blank'>Async</a>
                v2.1.0-beta.2
            </span>
        </div>
      

     

     
</footer>
 
                    <!-- footer end -->

                </div>
            </div>
        </div>
    </div>
</div>
            <!-- body end -->

            

    <div id="post-toc" class="post-toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#C-进阶语法知识概述"  data-scroll-to="#C-进阶语法知识概述"><span class="toc-text">C#进阶语法知识概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#TOOD缺少"  data-scroll-to="#TOOD缺少"><span class="toc-text">TOOD缺少</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#ArrayList"  data-scroll-to="#ArrayList"><span class="toc-text">ArrayList</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#ArrayList-详解"  data-scroll-to="#ArrayList-详解"><span class="toc-text">ArrayList 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题"  data-scroll-to="#练习题"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#Stack"  data-scroll-to="#Stack"><span class="toc-text">Stack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#Stack-详解"  data-scroll-to="#Stack-详解"><span class="toc-text">Stack 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-1"  data-scroll-to="#练习题-1"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#Queue"  data-scroll-to="#Queue"><span class="toc-text">Queue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#Queue-详解"  data-scroll-to="#Queue-详解"><span class="toc-text">Queue 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-2"  data-scroll-to="#练习题-2"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#Hashtable"  data-scroll-to="#Hashtable"><span class="toc-text">Hashtable</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#Hashtable-详解"  data-scroll-to="#Hashtable-详解"><span class="toc-text">Hashtable 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-3"  data-scroll-to="#练习题-3"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#泛型"  data-scroll-to="#泛型"><span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#泛型-详解"  data-scroll-to="#泛型-详解"><span class="toc-text">泛型 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结"  data-scroll-to="#总结"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-4"  data-scroll-to="#练习题-4"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#泛型约束"  data-scroll-to="#泛型约束"><span class="toc-text">泛型约束</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#泛型约束-详解"  data-scroll-to="#泛型约束-详解"><span class="toc-text">泛型约束 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-1"  data-scroll-to="#总结-1"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-5"  data-scroll-to="#练习题-5"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#List"  data-scroll-to="#List"><span class="toc-text">List</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#List-详解"  data-scroll-to="#List-详解"><span class="toc-text">List 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-6"  data-scroll-to="#练习题-6"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#Dictionary"  data-scroll-to="#Dictionary"><span class="toc-text">Dictionary</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#Dictionary-详解"  data-scroll-to="#Dictionary-详解"><span class="toc-text">Dictionary 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-7"  data-scroll-to="#练习题-7"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#顺序存储和链式存储"  data-scroll-to="#顺序存储和链式存储"><span class="toc-text">顺序存储和链式存储</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#数据结构"  data-scroll-to="#数据结构"><span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-8"  data-scroll-to="#练习题-8"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#LinkedList"  data-scroll-to="#LinkedList"><span class="toc-text">LinkedList</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-9"  data-scroll-to="#练习题-9"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#泛型栈和队列"  data-scroll-to="#泛型栈和队列"><span class="toc-text">泛型栈和队列</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#回顾数据容器"  data-scroll-to="#回顾数据容器"><span class="toc-text">回顾数据容器</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-2"  data-scroll-to="#总结-2"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#事件"  data-scroll-to="#事件"><span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#事件-详解"  data-scroll-to="#事件-详解"><span class="toc-text">事件 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-3"  data-scroll-to="#总结-3"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-10"  data-scroll-to="#练习题-10"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#匿名函数"  data-scroll-to="#匿名函数"><span class="toc-text">匿名函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#匿名函数-详解"  data-scroll-to="#匿名函数-详解"><span class="toc-text">匿名函数 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-4"  data-scroll-to="#总结-4"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-11"  data-scroll-to="#练习题-11"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#lambda表达式和闭包"  data-scroll-to="#lambda表达式和闭包"><span class="toc-text">lambda表达式和闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#lambda表达式-详解"  data-scroll-to="#lambda表达式-详解"><span class="toc-text">lambda表达式 详解</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#闭包"  data-scroll-to="#闭包"><span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-5"  data-scroll-to="#总结-5"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-12"  data-scroll-to="#练习题-12"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#List-排序"  data-scroll-to="#List-排序"><span class="toc-text">List 排序</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-6"  data-scroll-to="#总结-6"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-13"  data-scroll-to="#练习题-13"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a rel="nofollow" class="toc-link" href="#协变逆变"  data-scroll-to="#协变逆变"><span class="toc-text">协变逆变</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#总结-7"  data-scroll-to="#总结-7"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a rel="nofollow" class="toc-link" href="#练习题-14"  data-scroll-to="#练习题-14"><span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text"></span></a></li></ol>
    </div>

            
<div class="trm-fixed-container">
    
        <div class="trm-fixed-btn post-toc-btn" data-title="目录">
            <i class="iconfont fas fa-th-list"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="阅读模式" onclick="asyncFun.switchReadMode()">
            <i class="iconfont fas fa-book-reader"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="单栏和双栏切换" onclick="asyncFun.switchSingleColumn()">
            <i class="iconfont fas fa-arrows-alt-h"></i>
        </div>
    
    <div id="trm-back-top" class="trm-fixed-btn" data-title="回到顶部">
        <i class="iconfont fas fa-arrow-up"></i>
    </div>
</div>
        </div>
      </div>
      <!-- scroll container end -->
  </div>
  <!-- app wrapper end -->

  
  <!-- Plugin -->




    
    
<script src="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

    

    

    

    <!-- 数学公式 -->
    

    <!-- 评论插件 -->
    
        

        
    



<!-- CDN -->


    

    

    




    <!-- Service Worker -->
    
    <!-- baidu push -->
    


<script id="async-script" src="/Test.github.io/js/main.js?v=2.1.0-beta.2"></script>

</body>

</html>